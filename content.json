{"pages":[{"title":"About Me","text":"ç¨‹åºå‘˜å°é»„ï¼ŒSCUTSEå¤§æ•°æ®æ–¹å‘æœ¬ç§‘åœ¨è¯»ï¼ŒM$ ClubæŠ€æœ¯éƒ¨æŒ‡å®šèƒŒé”…ä½ï¼Œä¼šåƒç¦å»ºäººçš„å¹¿ä¸œäººï¼Œé¢ä¸´90åä¸­å¹´å±æœºï¼Œçˆ±çš„äººéƒ½å«å¤æ´›ç‰¹ã€‚","link":"/about/index.html"}],"posts":[{"title":"#Operation# WSLä»å…¥é—¨åˆ°...(1) WSL 1 vs WSL 2","text":"å¯¹æ¯”é€‚ç”¨äº Linux çš„ Windows å­ç³»ç»Ÿï¼ˆWindows Subsystem for Linux, WSLï¼‰çš„ä¸¤ä¸ªç‰ˆæœ¬ - WSL 1 å’Œ WSL 2 ï¼Œä¸»è¦åˆ†ä¸ºä»¥ä¸‹å…­ä¸ªéƒ¨åˆ†ï¼š å‰æƒ…æè¦ ç›¸å…³ç®€ä»‹ æ€§èƒ½å¯¹æ¯” æ¶æ„å¯¹æ¯” å‡ ç‚¹æ€»ç»“ å‚è€ƒé“¾æ¥ ç›®å½• Table of Contents å‰æƒ…æè¦ ç›¸å…³ç®€ä»‹ æ€§èƒ½å¯¹æ¯” File system performance Full system call compatibility æ¶æ„å¯¹æ¯” WSL 1 WSL 2 Linux Kernel Virtualization å‡ ç‚¹æ€»ç»“ å‚è€ƒé“¾æ¥ å‰æƒ…æè¦ å‰é˜µç½‘ä¸Šå†²æµªå›´è§‚ M$ Build 2019 çš„ WSL Session ï¼Œæ„Ÿå—äº†ä¸€æ³¢ Microsoft â¤ Open Sourceï¼Œé‚å†³å®šæ ¹æ®è®²åº§å’Œæ–‡æ¡£å†…å®¹å½“ä¸€æ¬¡å¤è¯»æœºè®¨è®ºä¸€ä¸‹ WSL ( å•Šæˆ‘çš„å¡‘æ–™è‹±è¯­_(:Ğ·)âˆ )_ã€‚ ç›¸å…³ç®€ä»‹ The Windows Subsystem for Linux lets developers run a GNU/Linux environment â€“ including most command-line tools, utilities, and applications â€“ directly on Windows, unmodified, without the overhead of a virtual machine. é€‚ç”¨äº Linux çš„ Windows å­ç³»ç»Ÿï¼ˆWindows Subsystem for Linux, WSLï¼‰å¯ä»¥ç®€å•åœ°ç†è§£ä¸ºåœ¨ Windows ä¸Šæä¾›äº†è¿è¡Œ Linux çš„å¹³å°ã€‚ç”±äºæ˜¯ Subsystem ï¼Œä¸è£¸æœºè£… Linux Distribution ç›¸æ¯”ï¼Œå­˜åœ¨åŠŸèƒ½é™åˆ¶å’Œæ€§èƒ½æ‰“æŠ˜çš„æƒ…å†µã€‚ You can: â€¦â€¦ Invoke Windows applications using a Unix-like command-line shell. Invoke GNU/Linux applications on Windows. â€¦â€¦ å¯¹äºæ‡’å¾—å¼€è™šæ‹Ÿæœºorè£…åŒç³»ç»Ÿ + ECSæ¸£æ¸£çº§é…ç½® + éå°Šè´µè‹¹æœç”¨æˆ·è€Œè¨€ï¼Œ WSL è¿˜æ˜¯å¾ˆæœ‰å¸å¼•åŠ›çš„ (è™½ç„¶ä¹Ÿå¾ˆå¤šå‘ã€‚é™¤äº†å¯¹ Linux æœ¬èº«æœ‰éœ€æ±‚å¤–ï¼Œä¸Šé¢æåˆ°çš„ Windows å’Œ Linux äº’ç›¸invoke ä¹Ÿå¾ˆæœ‰æ„æ€ï¼Œ WSL å› æ­¤å¤§å¤§é™ä½äº†åŸæœ¬é…ç½®ä¸¤ä¸ªæ–‡ä»¶ç³»ç»Ÿçš„ç¹çç¨‹åº¦ã€‚ æ€§èƒ½å¯¹æ¯” WSL 2 ç›¸æ¯” WSL 1ï¼Œä¸»è¦ä¼˜åŒ–äº†è®¿é—®æ–‡ä»¶ç³»ç»Ÿçš„é€Ÿåº¦ä»¥åŠæä¾›äº†æ›´å®Œæ•´çš„ç³»ç»Ÿè°ƒç”¨æ¥å£ã€‚ File system performance Full system call compatibility æ¶æ„å¯¹æ¯” WSL 1 WSL 1 çš„å¤§ä½“æ€è·¯æ˜¯ï¼Œåœ¨ä¸€å° Windows ä¸»æœºä¸Šå®‰è£… Linux å‘è¡Œç‰ˆæœ¬ï¼Œä¾èµ–ä¸­é—´å±‚çš„é©±åŠ¨å™¨å®Œæˆ Linux Namespace å’Œ Windows Kernel ä¹‹é—´çš„é€šä¿¡æ•è·å’ŒæŒ‡ä»¤ç¿»è¯‘ï¼ˆæ¯”å¦‚ path å’Œ flag ï¼‰ï¼Œä½œç”¨èŒƒå›´åŒ…æ‹¬ä½†ä¸å±€é™äºç³»ç»Ÿè°ƒç”¨ã€æ–‡ä»¶ç³»ç»Ÿã€æƒé™ç®¡ç†å’Œç½‘ç»œé…ç½®ç­‰ã€‚ è¿™æ ·çš„è®¾è®¡å­˜åœ¨ä¸€äº›ç¼ºé™·ï¼š æŸäº›ç¿»è¯‘æ— å¯é¿å…åœ°éœ€è¦ä»˜å‡ºæ—¶ç©ºä»£ä»·ï¼Œç”šè‡³ç”±äºä¸¤ç§å†…æ ¸çš„è®¾è®¡æ€æƒ³å­˜åœ¨å†²çªè€Œæ— æ³•è¿›è¡Œã€‚ ç”±äº Linux Kernel æ›´æ–°å¾—éå¸¸å¿«ï¼Œå•é  M$ Team è‡ªå·±å®ç°ç¿»è¯‘ï¼Œå¼€å‘è¿›åº¦è¿œè¿œæ»åäºå®é™…ç”Ÿäº§éœ€æ±‚ã€‚ ã€æ›´å¤šè¯¦è§ ğŸ‘‰ WSLä»å…¥é—¨åˆ°â€¦(2) Dive into WSL 1ã€‘ WSL 2 WSL 2 çš„å¤§ä½“æ€è·¯æ˜¯ï¼Œå¼€å¯ Hyper-V åŠŸèƒ½ï¼ŒWindows Hyper-V Containerï¼ˆåŒ…å«Windows Kernelå’ŒWindows Usermodeï¼‰æŒç»­è¿è¡Œï¼ŒLinux Hyper-V Containerï¼ˆåŒ…å«Linux Kernelå’ŒLinux Usermodeï¼‰éšç”¨éšå¼€ï¼Œä¸¤è€…é€šè¿‡ Socket é€šä¿¡ã€‚ è¿™æ ·çš„è®¾è®¡å­˜åœ¨ä¸€äº›ç¼ºé™·ï¼š éœ€è¦å¤„ç†å™¨æä¾›è™šæ‹ŸåŒ–é€‰é¡¹ï¼Œä¸€äº› arm64 æ¶æ„çš„èŠ¯ç‰‡ä¸æ”¯æŒè¯¥åŠŸèƒ½ã€‚ Windows å¼€Hyper-Våå°†æ— æ³•åŒæ—¶è¿è¡Œ VMware å’Œ Virtual Box ç­‰å·¥å…·ï¼Œå› ä¸ºå®ƒä»¬éƒ½è¦æ±‚ç‹¬å  Hypervisor æ‰èƒ½å¤Ÿè¿è¡Œã€‚ è™šæ‹ŸåŒ–ä¼´éšä¸€ç³»åˆ—ä¸€è‡´æ€§é—®é¢˜ï¼Œæ¯”å¦‚æƒé™ç®¡ç†å’Œç½‘ç»œé…ç½®ç­‰ç­‰ã€‚ ã€æ›´å¤šè¯¦è§ ğŸ‘‰ WSLä»å…¥é—¨åˆ°â€¦(3) Dive into WSL 2ã€‘ Linux Kernel ç”¨ Linux Kernel æ˜¯ä¸ºäº†è§£å†³ WSL 1 çš„é—ç•™é—®é¢˜ï¼ˆâ€œUses real Linux kernel for improved performance and perfect compatibilityâ€ï¼‰ï¼Œç¿»è¯‘ä¸å¥½æå°±â€œæ‹¿æ¥ä¸»ä¹‰â€ã€‚ M$ ç”šè‡³ä¸º WSL 2 å®šåˆ¶äº† Linux Kernel (æ²¡æƒ³åˆ°å§.jpg Virtualization è¦ä½¿ä¸¤ç§å†…æ ¸èƒ½å¤Ÿå…±å­˜æœ€ç›´æ¥çš„æ€è·¯å°±æ˜¯ä½¿ç”¨è™šæ‹ŸåŒ–æŠ€æœ¯ï¼Œè€Œ WSL 2 é‡‡ç”¨äº†ä¸€ç§æœ‰åˆ«äºä¼ ç»Ÿè™šæ‹Ÿæœºå’Œæ–°å…´å®¹å™¨çš„æ–°(?)æ–¹æ³• - Lightweight utility VMï¼Œå…¶ç‰¹ç‚¹æ˜¯é›†æˆåº¦é«˜ï¼ˆå…³è” Windows æœåŠ¡ï¼‰ä¸”åªåœ¨è¿è¡Œæ—¶å¯åŠ¨ï¼ˆå¦åˆ™è¢«é”€æ¯å›æ”¶ï¼‰ã€‚ ç›¸æ¯”ä¼ ç»Ÿè™šæ‹Ÿæœºï¼Œå†…å­˜å ç”¨æ›´å°ã€å¯åŠ¨é€Ÿåº¦æ›´å¿«ä»¥åŠå¯ä»¥åŒæ—¶è¿è¡Œæ›´å¤šå®ä¾‹ã€‚ ç›¸æ¯”æ–°å…´å®¹å™¨ï¼ŒåŸºäº Hyper-V é¢å‘ server åœºæ™¯ï¼Œæœ¬è´¨è¿˜æ˜¯ VM ï¼Œéš”ç¦»å¾—æ›´å½»åº•ã€‚ å‡ ç‚¹æ€»ç»“ æ ¹æ®PMçš„è¯´æ³•ï¼Œ WSL 1 å’Œ WSL 2 ä¼šå¹¶è¡Œç»´æŠ¤ï¼Œæ—¢é€‚ç”¨äºæ¡Œé¢ç‰ˆä¹Ÿå¯ä»¥è¿è¡Œåœ¨æœåŠ¡å™¨ã€‚ä¸‹é¢ç®€å•å›é¡¾ä¸¤è€…çš„åŒºåˆ«ï¼š WSL 1 WSL 2 æ ¸å¿ƒæŠ€æœ¯ Pico provider drivers Lightweight utility VM åŒä¸€å®ä¾‹ï¼ˆContainerï¼‰ âœ“ âœ— é¢å¤–æ”¯æŒï¼ˆè™šæ‹ŸåŒ–ï¼‰ âœ— âœ“ æ–‡ä»¶ç³»ç»Ÿ è®¿é—®æ…¢ è®¿é—®å¿« ç³»ç»Ÿè°ƒç”¨ ç¼ºå°‘ å®Œæ•´ æƒé™ç®¡ç† ç›¸åŒ ä¸åŒ ç½‘ç»œé…ç½® ç›¸åŒ ä¸åŒ åç»­ä¸¤èŠ‚å°†åˆ†åˆ«å†æ·±å…¥ä»‹ç» WSL 1 å’Œ WSL 2 çš„å®ç°ç»†èŠ‚ã€‚é‚£ä¹ˆæˆ‘å…ˆå å‘é€ƒäº†ï¼ˆï¼ˆï¼ˆ å‚è€ƒé“¾æ¥ The new Windows subsystem for Linux architecture: a deep dive Windows Subsystem for Linux Documentation","link":"/2019/12/12/WSLä»å…¥é—¨åˆ°...(1)/"},{"title":"#Operation# WSLä»å…¥é—¨åˆ°...(3) Dive into WSL 2","text":"å¯¹ WSL 2 çš„ä¸€äº›å®ç°ç»†èŠ‚è¿›è¡Œè¡¥å……è¯´æ˜ï¼Œä¸»è¦åˆ†ä¸ºä»¥ä¸‹äº”ä¸ªéƒ¨åˆ†ï¼š å‰æƒ…æè¦ èƒŒæ™¯ æ¶æ„ä¸ç­”ç–‘ æ€»ç»“ å‚è€ƒé“¾æ¥ ç›®å½• Table of Contents å‰æƒ…æè¦ èƒŒæ™¯ åŠŸèƒ½ æ€§èƒ½ å…¼å®¹ æ¶æ„ è®¿é—® Windows æ–‡ä»¶ è®¿é—® Linux æ–‡ä»¶ ç­”ç–‘ æ€»ç»“ å‚è€ƒé“¾æ¥ å‰æƒ…æè¦ å‰é¢å·²ç»ç®€è¦ä»‹ç»äº† WSL 1 å’Œ WSL 2 çš„åŒºåˆ«ï¼Œæœ¬èŠ‚å°†èšç„¦äº WSL 2çš„å®ç°ç»†èŠ‚ã€‚ç‚¹å¼€å®˜æ–¹åšå®¢å¼€å§‹æ”¶è·æƒŠ(da)å–œ(keng)ï¼Œæ‰ç–å­¦æµ…å†™é”™ä¹Ÿä¸è¦æ‰“æˆ‘ (é¢„å…ˆæ„Ÿè°¢å„ä½å‹˜è¯¯ é€ƒ ã€æ›´å¤šä¿¡æ¯ ğŸ‘‰ WSLä»å…¥é—¨åˆ°â€¦(1) WSL 1 vs WSL 2ã€‘ èƒŒæ™¯åŠŸèƒ½ â€¦â€¦ still provides the same user experience as in WSL 1 (the current widely available version). æ€§èƒ½ Its primary goals are to increase file system performance, as well as adding full system call compatibility. å…¼å®¹ Individual Linux distros can be run either as a WSL 1 distro, or as a WSL 2 distro, can be upgraded or downgraded at any time, and you can run WSL 1 and WSL 2 distros side by side. æ¶æ„ å·¥ä½œæµå¤§æ¦‚æ˜¯ï¼š å¯åŠ¨ LXSS Manager Service è·Ÿè¸ª Linux Distribution çš„å®‰è£…ã€è¿è¡Œå’Œå¸è½½ã€‚ å¯åŠ¨ Host compute service å’Œ Host Network Service åˆ›å»ºå’Œåˆå§‹åŒ– Lightweight utility VM å®ä¾‹ã€‚ è¢«å°è£…å¥½çš„ï¼ˆâ€œshipping in boxâ€ï¼‰åŸºäº Linux Kernel çš„è™šæ‹Ÿæœºè¿è¡Œã€‚ LXSS Manager Service æ˜ å°„ã€åŠ è½½å’Œç®¡ç† Linux Distribution çš„æ–‡ä»¶ç³»ç»Ÿã€‚ ä»¥ä¸Šå‡†å¤‡å·¥ä½œå®Œæˆåï¼Œwsl.exe å’Œ bash ä¹‹é—´å°†é€šè¿‡ socket ä¼ é€’æŒ‡ä»¤æ¥å®Œæˆä½œä¸šã€‚ PS: Lightweight utility VM åªä¼šåœ¨éœ€è¦æ—¶åˆ›å»ºè¿è¡Œï¼Œå¦‚æœ bash æˆ– wsl.exe é€€å‡ºï¼Œä¸€æ®µæ—¶é—´åå°†ä¼šè¢«å›æ”¶ã€‚ è®¿é—® Windows æ–‡ä»¶ Windows ä¸»æœºå¯åŠ¨ä¸€ä¸ªæ–‡ä»¶æœåŠ¡å™¨ï¼Œæ­¤æ—¶ Linux ä½œä¸ºå®¢æˆ·ç«¯å‘é€è¯·æ±‚ï¼Œä¸¤è€…ä½¿ç”¨ 9P åè®®è¿›è¡Œé€šä¿¡ã€‚ æ•ˆæœçœ‹èµ·æ¥åƒæŠŠ Windows çš„ C ç›˜æŒ‚è½½åˆ°äº† Linux çš„ /mnt ç›®å½•ä¸‹ã€‚è®¿é—® Linux çš„ /mnt/c å°±æ˜¯åœ¨ è®¿é—® Window çš„ C:\\ ã€‚ PS: ç‰¹åˆ«åœ°ï¼Œå¦‚æœåœ¨ bash å†…å¯åŠ¨ cmd.exe ï¼Œç”±äº Windows å’Œ Linux çš„å¯æ‰§è¡Œæ–‡ä»¶æ ¼å¼ä¸åŒï¼ˆå‰è€…æ˜¯ PE æˆ– PE32+ ï¼Œåè€…æ˜¯ ELF32 æˆ– ELF64ï¼‰ï¼Œ.exe æ–‡ä»¶æ— æ³•ç›´æ¥è¿è¡Œã€‚WSL 2 çš„å¤„ç†æ–¹æ³•å®é™…ä¸Šæ˜¯ï¼šLinux ä¸‹çš„ bash å‘ wsl.exe å‘é€ Interop commandï¼ŒWindows ä¸‹çš„ wsl.exe è§£æåå¯åŠ¨ .exe æ–‡ä»¶ã€‚ è®¿é—® Linux æ–‡ä»¶ Linux è™šæ‹Ÿæœºå¯åŠ¨ä¸€ä¸ªæ–‡ä»¶æœåŠ¡å™¨ï¼Œæ­¤æ—¶ Windows ä½œä¸ºå®¢æˆ·ç«¯å‘é€è¯·æ±‚ï¼Œä¸¤è€…ä½¿ç”¨ 9P åè®®è¿›è¡Œé€šä¿¡ã€‚ æ•ˆæœçœ‹èµ·æ¥åƒåœ¨ Windows ä¸Šå¼€ä¸€èˆ¬çš„è™šæ‹Ÿæœºï¼Œå¯¹åº”çš„ç›®å½•ï¼ˆåœ¨ Network å†…ï¼‰å¯ä»¥è¢«æ–‡ä»¶èµ„æºç®¡ç†å™¨è½»æ¾åœ°è®¿é—®ã€‚ PS: ä»ä¸Šè¿°ä¸­å¯è§ï¼ŒWSL 2 è®¿é—®æ–‡ä»¶çš„ä¸­å¿ƒè§‚ç‚¹ â€”â€” â€œä¸¤ä¸ªç³»ç»Ÿéƒ½åšå„è‡ªå¯ä»¥åš / æ“…é•¿åšçš„äº‹æƒ…ï¼Œé‡äº‹ä¸å†³å°±é€šè¿‡socketå‘æŒ‡ä»¤å±ä¸€å£°ï¼Œè€Œä¸ä¼šé€‰æ‹©ç®€å•ç²—æš´åœ°ç¿»è¯‘ã€‚â€ ç­”ç–‘ Q1: Microsoft çš„ Linux Team æ ¹æ® WSL 2 é’ˆå¯¹ Linux Kernel åšäº†å“ªäº›è°ƒæ•´ï¼Ÿ A1: é¦–å…ˆï¼Œå’Œ WSL 1 ä¸€æ ·ï¼ŒWSL 2 æœ¬èº«å¹¶ä¸æä¾› Linux å‘è¡Œç‰ˆæœ¬ï¼Œç”¨æˆ·éœ€è‡ªè¡Œå‰å¾€ Windows Store ä¸‹è½½æˆ–è„šæœ¬å®‰è£…è‡ªå®šä¹‰çš„å‘è¡Œç‰ˆæœ¬ï¼›å…¶æ¬¡ï¼ŒWSL 2 çš„ Linux Kernel åŸºäºç¨³å®šçš„ version 4.19ï¼Œå¹¶åœ¨å¯åŠ¨æ—¶é—´ã€å†…å­˜å ç”¨å’Œéœ€æ”¯æŒè®¾å¤‡æ•°ç­‰æ–¹é¢éƒ½è¿›è¡Œäº†ç›¸åº”çš„ä¼˜åŒ–ï¼›æœ€åï¼Œ WSL 2 å°†é€šè¿‡ Windows æ›´æ–°æ¥æ¨é€æ–°æœåŠ¡ï¼Œå¹¶ç”± Microsoft åŠå…¶å®ƒä¸“ä¸šçš„å•†ä¸šä¼™ä¼´æä¾›å®‰å…¨ç›‘æ§å’Œä¿éšœã€‚ Q2: å¯ä»¥åœ¨è™šæ‹Ÿæœºä¸­ä½¿ç”¨ WSL 2 å—ï¼Ÿ A2: å¯ä»¥ï¼Œä½†è¦ç¡®ä¿å¼€å¯ nested virtualization é€‰é¡¹ï¼ˆåœ¨ Windows PowerShell ï¼ˆä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œï¼‰ä¸­è¾“å…¥ Set-VMProcessor -VMName &lt;VMName&gt; -ExposeVirtualizationExtensions $true å‘½ä»¤ï¼‰ã€‚ Q3: WSL 1 ä¸­çš„é…ç½®æ–‡ä»¶ wsl.conf åœ¨ WSL 2 ä¸­ä»å¯ä»¥ä½¿ç”¨å—ï¼Ÿ A3: å¯ä»¥ï¼Œæ¯”å¦‚è‡ªåŠ¨æŒ‚è½½ç£ç›˜ã€å¼€å¯æˆ–å…³é—­ interop commandå’Œæ›´æ”¹æŒ‚è½½ç›®å½•ç­‰æ“ä½œéƒ½å°†ç»§ç»­æ”¯æŒï¼Œæ›´å¤š WSL é…ç½®é¡¹å¯è§ Distro Management ã€‚ Q4: WSL 2 å°†æ”¯æŒ Docker æŠ€æœ¯ï¼ŒWSL 2 çš„ Docker ä¼šæœ‰ä»€ä¹ˆç‰¹åˆ«çš„é™åˆ¶å—ï¼Ÿ A4: å¦‚æœå¯åŠ¨çš„æ˜¯ Windows çš„ Docker ï¼Œå°†æŒ‰ç…§ Window çš„ Docker å·¥ä½œï¼›å¦‚æœå¯åŠ¨çš„æ˜¯ Linux çš„ Docker ï¼Œå°†æŒ‰ç…§ Linux çš„ Docker å·¥ä½œã€‚å°½ç®¡ Windows çš„ Docker å’Œ Linux çš„ Docker å®ç°æ–¹å¼æœ‰æ‰€å‡ºå…¥ï¼ˆç”±äºç¯‡å¹…æœ‰é™ï¼Œå°†ä¸å±•å¼€è¯´æ˜ï¼‰ï¼Œä½†åŸåˆ™ä¸Š WSL 2 ä¸å­˜åœ¨å¯¹ Docker çš„ç‰¹åˆ«é™åˆ¶ã€‚ Q5: æœ‰æ²¡æœ‰é’ˆå¯¹ WSL 2 çš„ç¡¬ä»¶æ”¯æŒï¼Œæ¯”å¦‚è®¿é—®å¹¶åŠ é€ŸGPUå¹¶ä¹‹ç±»ï¼Ÿ A5: æš‚æœªå®Œå–„ï¼Œä½†æŒç»­å¼€å‘ä¸­ï¼ˆä½† WSL 1 æ”¯æŒä¸²è¡Œç«¯å£å’ŒUSBè®¾å¤‡çš„è®¿é—®ï¼Œæœ‰éœ€è¦å¯ä»¥å…ˆå‡‘åˆç”¨ï¼‰ã€‚ Q6: æœ‰æ²¡æœ‰ç»Ÿä¸€ Windows æ–‡ä»¶å’Œ Linux æ–‡ä»¶æƒé™ç®¡ç†çš„è§£å†³æ–¹æ¡ˆï¼Ÿ A6: åœ¨ WSL 1 ä¸­ï¼Œå› ä¸ºæ˜¯åŒä¸€ä¸»æœºä¸å­˜åœ¨ç³»ç»Ÿè¾¹ç•Œï¼ˆæ˜ å°„ç›¸å¯¹å®¹æ˜“ï¼‰ï¼Œæƒé™ç®¡ç†æ˜¯é€šè¿‡ä¸­é—´å±‚çš„é©±åŠ¨å™¨æä¾›é¢å¤–æœåŠ¡å®ç°çš„ï¼›åœ¨ WSL 2 ä¸­ï¼Œå› ä¸ºæ˜¯ä¸åŒä¸»æœºè€Œå­˜åœ¨ç³»ç»Ÿè¾¹ç•Œï¼ˆæ˜ å°„ç›¸å¯¹å›°éš¾ï¼‰ï¼ŒWSL 2 é‡‡å–çš„ç­–ç•¥æ˜¯ä¿æŒå„è‡ªç³»ç»ŸåŸæœ‰çš„è®¿é—®æƒé™ï¼Œé€šè¿‡è¡¥å……ä¸€äº›ä¸Šå±‚åè®®ï¼ˆæ¯”å¦‚ SSHï¼‰è¿›è¡Œè¾…åŠ©ç®¡ç†ï¼Œæ–°çš„ Release ç‰ˆæœ¬å·²ç»æ”¯æŒ â€œSharing SSH keys between Windows and WSL 2â€œã€‚ Q7: æœ‰æ²¡æœ‰ WSL 2 å¯¹ç½‘ç»œé…ç½®çš„æ”¯æŒï¼Ÿ A7: åœ¨ WSL 1 ä¸­ï¼Œå› ä¸ºæ˜¯åŒä¸€ä¸»æœºï¼Œç½‘ç»œå‡ºå£çš„ IP åœ°å€æ˜¯ç›¸åŒçš„ï¼Œç›¸å…³æ“ä½œä¹Ÿæ¥è¿‘åŸç”Ÿ ï¼›åœ¨ WSL 2 ä¸­ï¼Œå› ä¸ºæ˜¯ä¸åŒä¸»æœºï¼Œç½‘ç»œå‡ºå£çš„ IP åœ°å€æ˜¯ä¸åŒçš„ï¼ŒWSL 2 è®¡åˆ’å®ç°çš„ Feature åŒ…æ‹¬ï¼šâ‘  åœ¨æä¾›ä¸åŒçš„IP åœ°å€æƒ…æ™¯ä¸‹ï¼ŒåŠ é€Ÿç½‘ç»œè®¿é—®ï¼›â‘¡ å°†å®¢æœºæ˜ å°„åˆ°ä¸»æœºï¼Œå…±äº«åŒä¸€ IP åœ°å€ï¼›â‘¢ å°½å¿«æ”¯æŒå…¨éƒ¨ Linux ä¸‹çš„ç½‘ç»œåº”ç”¨ã€‚ æ€»ç»“ ç®€å•çš„ç†è§£ï¼šé€šè¿‡ä½¿ç”¨è™šæ‹ŸåŒ–æŠ€æœ¯ï¼Œä½¿å¾— Hypervisor ä¸ŠåŒæ—¶è¿è¡Œ Windows å®ä¾‹å’Œ Linux å®ä¾‹ï¼ŒWindows å®ä¾‹å ä¸»å¯¼åœ°ä½å¹¶ä¸”æŒç»­åœ°è¿è¡Œï¼ŒLinux å®ä¾‹éå¸¸è½»é‡çº§å¹¶ä¸”åªæœ‰åœ¨ç”¨åˆ°æ—¶æ‰ä¼šå¯åŠ¨ã€‚é‡‡ç”¨åŸç”Ÿçš„ Linux Kernel ä¿è¯äº†ç³»ç»Ÿè°ƒç”¨çš„å®Œæ•´æ€§ï¼Œ9P åè®®çš„æ³¨å…¥åˆå¾ˆå¥½åœ°è§£å†³äº†ä¸¤ä¸ªä¸åŒæ–‡ä»¶ç³»ç»Ÿä¹‹é—´çš„äº¤äº’é—®é¢˜ã€‚ å‚è€ƒé“¾æ¥ The new Windows subsystem for Linux architecture: a deep dive About WSL 2 Shipping a Linux Kernel with Windows WSL 2 Frequently Asked Questions","link":"/2020/01/13/WSLä»å…¥é—¨åˆ°...(3)/"},{"title":"#Sucks# å†™åœ¨äºŒé›¶äºŒé›¶","text":"ï¼ˆï¼ˆï¼ˆæ— èŠçš„åæ§½ä¸æ²¡å¤šå°‘æ„æ€çš„å¤è¯» ç”Ÿæ´»å¤§æ¦‚å°±æ˜¯ï¼Œèµ·è½è½è½ã€‚ è¯´æ¥å†™å‰ç«¯ä¹Ÿå¿«ä¸€ä¸ªæœˆï¼Œè™½ç„¶ä»¥åå¤§æ¦‚ç‡ä¹Ÿä¸ä¼šå†ä¸“é—¨å¸®åˆ«äººå†™äº†ï¼Œä½†æ˜¯è¿™ä¸ªè¿‡ç¨‹è¿˜æ˜¯æœ‰ä¸å°‘å¿ƒå¾—ä½“ä¼šï¼Œæ¯”å¦‚ç†è§£éœ€æ±‚ã€è¯»æ‡‚æ¶æ„ã€å®ç°é€»è¾‘ã€ä¿è¯è´¨é‡å’Œé€šè¿‡æµ‹è¯•ä¹‹ç±»çš„ã€‚å› ä¸ºå¼€å‘å¾—æ¯”è¾ƒéšå¿ƒæ‰€æ¬²ï¼Œæ¢å¥è¯è¯´ï¼Œå°±æ˜¯è¿˜æœ‰å¾ˆå¤šæˆé•¿çš„ç©ºé—´ï¼Œéå¸¸æ„Ÿè°¢å®éªŒå®¤çš„å¸ˆå…„å¸ˆå§æ²¡æœ‰å«Œå¼ƒæˆ‘è¿™ä¸ªå°èœğŸ“ï¼Œé»„è€å¸ˆè¿˜å³å°†è¿æ¥äººç”Ÿç¬¬ä¸€æ¡¶é‡‘ (?) è¦è¯´åæ‚”åˆ°å°è±¡æ·±åˆ»çš„äº‹æƒ…ï¼Œé™¤äº†åœ¨GYå’•å’•æ‰äº†ä¿¡æ¯ç«èµ›ï¼Œé€‰å¤§æ•°æ®å¯èƒ½ä¹Ÿæ˜¯ä¹‹ä¸€ã€‚æ— éå°±æ˜¯ä¸ä¼šä¹Ÿä¸é‚£ä¹ˆæ„Ÿå…´è¶£ï¼Œæ¯æ¬¡å…ˆè¢«æ•°æ®å¤„ç†å¥—è·¯ä¸€é˜µï¼Œç„¶åå¯¹ç€æ•°å­¦å…¬å¼å’Œç¥ç»ç½‘ç»œæ•²æ•²æ•²ï¼ŒDebugæ²¡æœ‰æœºå™¨ä¹Ÿè¦æ¥ä¸ªåœ°ä¹…å¤©é•¿ï¼Œè¿˜è¦ç›¯ç€ABæ¦œæ‚£å¾—æ‚£å¤±ï¼Œå®åœ¨æ˜¯æä¸æ¥å•¦ã€‚è™½ç„¶ä½†æ˜¯ï¼Œå­¦ç®—æ³•è¿™åŠå¹´æ¥æœ€å¤§çš„æ”¶è·å°±æ˜¯å­¦ä¼šå¦‚ä½•å¿ƒå¹³æ°”å’Œåœ°æŠŠä¸€ä»¶äº‹æƒ…çœŸæ­£åšå¾—åˆå¿«åˆå¥½ï¼ˆæˆ‘å´è¿˜æ²¡æœ‰ è¿‡å»ä¸€å¹´æäº†ä¸å°‘å‰¯ä¸šï¼ŒçœŸæ­£æœ‰è¥å…»çš„å´ä¸å¤šï¼Œä»C++å†™åˆ°Dartï¼Œä»å…¨æ ˆå†™åˆ°äº‘è®¡ç®—â€¦æ˜ç™½ä¸€ä¸ªäººçš„ç²¾åŠ›å…¶å®å¾ˆæœ‰é™ï¼Œä»€ä¹ˆéƒ½å¹² â‰ˆ ä»€ä¹ˆéƒ½æ²¡å¹²ã€‚å°±ç®—å¼€äº†nä¸ªrepoï¼Œæ··äº†nä¸ªprojectï¼ŒæŒ‚äº†nä¸ªtitleï¼Œåªè¦é¢å¯¹ Talk is cheap, show me the code ä¹Ÿä¼šæ²‰é»˜ã€‚å½“ç„¶å¹¿åº¦ä¼˜å…ˆå­¦ä¹ ä¹Ÿæ²¡ä»€ä¹ˆä¸å¥½ï¼Œåªä¸è¿‡æ˜¯æˆ‘ç®—åŠ›å¤ªå¼±äº†ç½¢ã€‚åˆ°äº†ä¸‰å¹´çº§å°±ä¸å¯é¿å…åœ°æƒ³ä¸œæƒ³è¥¿ï¼Œä¸èƒ½å†åƒä»å‰ä¸€æ ·è¯´å¹²å°±å¹²ï¼Œè¦è€ƒè™‘æ²‰é»˜æˆæœ¬ï¼Œè¦é¢å¯¹åŒä¼´ç„¦è™‘ï¼Œå†³å®šå»å“ªæ¬ç –ä¹Ÿè¦å°å¿ƒç¿¼ç¿¼ï¼Œè¿˜éšæ—¶åœ¨æ•æ·å’ŒæŠ•æœºçš„è¾¹ç¼˜è¯•æ¢ã€‚æœ€åè¯´æœäº†è‡ªå·±è¿˜æ˜¯ä¿æŒåˆ®åˆ®ä¹çš„å¿ƒæ€â€¦ï¼ˆåˆ®åˆ°äº†äº‘è®¡ç®—è¿˜æŒºå¹¸è¿çš„ è¯¯ è™½ç„¶ä»¥ä¸Šéƒ½æ˜¯äº›æ— å…³ç—›ç—’çš„åæ§½ï¼Œç”Ÿæ´»ä¹Ÿè¿˜æœ‰å®ƒçš„å¤æ‚å’Œç¾å¥½ï¼Œè¯¸å¦‚å’Œå¾ˆé•¿ä¸€æ®µæ—¶é—´è¢«gaslightçš„è‡ªå·±å’Œè§£å•¦ã€ç¬¬ä¸€æ¬¡å½“PMå•¦ã€å»M$RAè¹­åƒè¹­å–å•¦ã€å†è§å¥½Xå‹å‘å±•é©å‘½æƒ…è°Šå•¦ã€æ— ç–¾è€Œç»ˆåœ°æš—æ‹è¿‡å•¦äº‘äº‘ï¼Œè¿™ç§æ—¶å€™è¿˜æ˜¯è¦æ„Ÿæ…¨å¹´è½»çœŸå¥½æ»´å˜»å˜» :P ä»¥å‰è§‰å¾—ç”Ÿæ´»æœ¬è´¨å°±æ˜¯å’Œè¥¿è¥¿å¼—æ–¯ç¥è¯ä¸€æ ·çš„ï¼Œç›¸å½“è™šæ— ã€‚ç°åœ¨ä¹Ÿè¿˜æ˜¯è¿™ä¹ˆè§‰å¾—ï¼Œä¸è¿‡ç›´è§‰ä¸Šæœ‰è¶£çš„äº‹æƒ…é‚£ä¹ˆå¤šï¼Œæ¯å¤©ä¸€ç‚¹ç‚¹ä¹Ÿè¶³å¤Ÿå¿«ä¹ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œæ–°å¹´ä¹‹äº¤è®²çš„ä¸œè¥¿éƒ½ä¸èƒ½ä¿¡ï¼Œå°±ä¸ç»§ç»­ä¸€æœ¬æ­£ç»èƒ¡è¯´å…«é“äº†ï¼Œæœ€åä»¥å°æ³¢ä½œç»“å§ï¼š â€œé‚£ä¸€å¤©æˆ‘äºŒåä¸€å²ï¼Œåœ¨æˆ‘ä¸€ç”Ÿçš„é»„é‡‘æ—¶ä»£ã€‚æˆ‘æœ‰å¥½å¤šå¥¢æœ›ã€‚æˆ‘æƒ³çˆ±ï¼Œæƒ³åƒï¼Œè¿˜æƒ³å†ä¸€ç¬é—´å˜æˆå¤©ä¸ŠåŠæ˜åŠæš—çš„äº‘ã€‚åæ¥æˆ‘æ‰çŸ¥é“ï¼Œç”Ÿæ´»å°±æ˜¯ä¸ªç¼“æ…¢å—é”¤çš„è¿‡ç¨‹ï¼Œäººä¸€å¤©å¤©è€ä¸‹å»ï¼Œå¥¢æœ›ä¹Ÿä¸€å¤©å¤©æ¶ˆå¤±ï¼Œæœ€åå˜å¾—åƒæŒ¨äº†é”¤çš„ç‰›ä¸€æ ·ã€‚å¯æ˜¯æˆ‘è¿‡äºŒåä¸€å²ç”Ÿæ—¥æ—¶æ²¡æœ‰é¢„è§åˆ°è¿™ä¸€ç‚¹ã€‚æˆ‘è§‰å¾—è‡ªå·±ä¼šæ°¸è¿œç”ŸçŒ›ä¸‹å»ï¼Œä»€ä¹ˆä¹Ÿé”¤ä¸äº†æˆ‘ã€‚â€","link":"/2020/01/01/å†™åœ¨äºŒé›¶äºŒé›¶/"},{"title":"#Testing# HTTPçš„é€šä¿¡ç›‘æ§å’Œå›æ”¾ï¼šFiddleræŠ“åŒ…ä¸Socketå‘åŒ…","text":"åˆ©ç”¨FiddleræŠ“åŒ…å’ŒSocketå‘åŒ…ï¼Œå¹¶ç”¨Curlç»Ÿè®¡å“åº”æ—¶é—´ï¼Œä¸»è¦åˆ†ä¸ºä»¥ä¸‹å››ä¸ªéƒ¨åˆ†ï¼š å·¥å…·çš„é…ç½®åŠå·¥å…·çš„ä½¿ç”¨ æˆªè·ã€ä¿®æ”¹ã€å‘é€æ•°æ®åŒ… ç»Ÿè®¡ç½‘é¡µå’Œå…ƒç´ çš„å“åº”æ—¶é—´ éœ€æ³¨æ„äº‹é¡¹åŠå¾…æ”¹è¿›äº‹é¡¹ ç›®å½• Table of Contents ä»»åŠ¡ Task å·¥å…·çš„é…ç½® Configuration å®‰è£…å·¥å…· å‹¾é€‰è§£ç  è¿‡æ»¤ä¿å­˜ è®¾ç½®æ–­ç‚¹ å·¥å…·çš„ä½¿ç”¨ Usage Statistics Filters Inspectors Composer AutoResponder æˆªè·æ•°æ®åŒ… Capture å›¾å½¢ç•Œé¢ ä¿®æ”¹æ•°æ®åŒ… Modify ç¨‹åºè„šæœ¬ å‘é€æ•°æ®åŒ… Send Fiddler Socket è®°å“åº”æ—¶é—´ Analyses Fiddler Curl éœ€æ³¨æ„äº‹é¡¹ Notices å¾…æ”¹è¿›äº‹é¡¹ Todos ä»»åŠ¡ Task éƒ¨ç½²ç±»ä¼¼Microsoft PetshopWebåº”ç”¨åŸºæœ¬å®ä¾‹ï¼Œå¼€å‘æ€§èƒ½æµ‹è¯•å°å·¥å…·èƒ½æˆªè·åŸºäºIEæµè§ˆå™¨ä¸WebæœåŠ¡å™¨çš„äº¤äº’çš„æ•°æ®åŒ…ï¼Œä¿®æ”¹æ•°æ®åŒ…ï¼ˆæ¯”å¦‚ç®€åŒ–èµ·è§ï¼Œä¿®æ”¹è¦æœç´¢çš„å…³é”®å­—ï¼‰ï¼Œå†æŠŠä¿®æ”¹åçš„å†…å®¹ä½¿ç”¨å¤šçº¿ç¨‹çš„æ–¹å¼å‘é€åˆ°æœåŠ¡å™¨ã€‚ç»Ÿè®¡è¯·æ±‚æ¯ä¸ªç½‘é¡µä¸Šä¸»è¦å…ƒç´ ï¼ˆgif,cssç­‰ï¼‰éœ€è¦çš„æ—¶é—´ï¼Œä»¥åŠè¯·æ±‚æ•´ä¸ªç½‘é¡µçš„æ—¶é—´ã€‚ æç¤ºï¼š åœ¨è·å–æ•°æ®åŒ…çš„è¿‡ç¨‹ä¸­è¦æ ¹æ®HTTPè¯·æ±‚çš„ç‰¹ç‚¹ï¼Œä»åŸå§‹çš„æ•°æ®åŒ…ä¸­è¿‡æ»¤å‡ºHTTPçš„æ•°æ®åŒ…ã€‚æ‰¾åˆ°æäº¤çš„â€œæœç´¢çš„å…³é”®å­—â€ï¼Œå°†å…¶æ›¿æ¢æˆå…¶å®ƒå­—ç¬¦ã€‚ å‘é€æ•°æ®åŒ…ä½¿ç”¨Socketï¼Œå¯ä»¥å‚è€ƒç½‘ç»œç¼–ç¨‹çš„èµ„æ–™ã€‚ å·¥å…·çš„é…ç½® Configurationå®‰è£…å·¥å…·Fiddlerä¸‹è½½åœ°å€ å‹¾é€‰è§£ç  è¿‡æ»¤ä¿å­˜ æ‰‹åŠ¨ è„šæœ¬ 1234567891011121314151617if (oSession.fullUrl.Contains(\"baidu.com\")) { // for(var key in oSession.oRequest.headers) { // if('Referer' === key) { if(oSession.oRequest.headers['Referer'].indexOf(\"&amp;wd=\") != -1) { var fso; var file; fso = new ActiveXObject(\"Scripting.FileSystemObject\"); file = fso.OpenTextFile(\"E:\\\\MyPrograms\\\\fiddler_sessions\\\\Session\" + new Date().getTime() + \".txt\", 8 ,true, true); // file.writeLine(\"Request url: \" + oSession.url); file.writeLine(\"Request header:\" + \"\\n\" + oSession.oRequest.headers); // file.writeLine(\"Request body: \" + oSession.GetRequestBodyAsString()); file.writeLine(\"\\n\"); file.close(); } // } // }} è®¾ç½®æ–­ç‚¹ æ‰‹åŠ¨ å‘½ä»¤ åœ¨å·¦ä¸‹è§’é»‘æ¡†æ¡†ä¸­è¾“å…¥å‘½ä»¤ åœæ­¢æ–­ç‚¹ï¼šbpu å¼€å§‹æ–­ç‚¹ï¼šbpu $host å·¥å…·çš„ä½¿ç”¨ UsageStatistics Filters Inspectors Composer AutoResponder æˆªè·æ•°æ®åŒ… Captureå›¾å½¢ç•Œé¢ ä½¿ç”¨å›¾å½¢ç•Œé¢æˆ–ç¼–ç¨‹è„šæœ¬åº”ç”¨è¿‡æ»¤ ç‚¹å‡»å·¦ä¸‹è§’ Capturingæˆ–ç©ºç™½å¤„ åœæ­¢æˆ–å¼€å§‹æˆªè·æ•°æ®åŒ… ä½¿ç”¨StatisticsæŸ¥çœ‹æ—¶é—´ï¼Œä½¿ç”¨InspectorsæŸ¥çœ‹å†…å®¹ ä½¿ç”¨å›¾å½¢ç•Œé¢æˆ–ç¼–ç¨‹è„šæœ¬ä¿å­˜ä¼šè¯ ä¿®æ”¹æ•°æ®åŒ… Modifyç¨‹åºè„šæœ¬ å¯¹äºæ‰‹åŠ¨ä¿å­˜çš„ä¼šè¯ 123456789101112131415161718192021222324252627282930# æ›¿æ¢è¯·æ±‚ä¸­çš„æœç´¢å­—æ®µdef get_ref(file, cont): with open(file, encoding='utf-8') as f: lines = f.readlines() for line in lines: if 'Referer' in line: start = line.find(\"&amp;wd=\") end = line.find(\"&amp;rsv_pq=\") old_str = line[start+4:end] new_str = parse.quote(cont) line = line.replace(old_str, new_str) return line# é‡æ–°æ‹¼è£…éœ€å‘é€çš„æŠ¥æ–‡def get_req(file, cont): msg = '' with open(file, encoding='utf-8') as f: lines = f.readlines() for line in lines: if 'GET' in line: line = 'GET ' + get_ref(file, cont)[9:-1] + ' HTTP/1.1' if 'Referer' in line: line = get_ref(file, cont) if 'Accept-Encoding' in line: continue line = line.strip('\\n') + '\\r\\n' msg += line msg = bytes(msg, encoding=\"utf8\") return msg å¯¹äºè‡ªåŠ¨ä¿å­˜çš„ä¼šè¯ 1234567891011121314151617181920212223242526272829303132# æ›¿æ¢è¯·æ±‚ä¸­çš„æœç´¢å­—æ®µdef get_ref(file, cont): with open(file, encoding='utf-16') as f: lines = f.readlines() for line in lines: if 'Referer' in line: start = line.find(\"&amp;wd=\") end = line.find(\"&amp;rsv_pq=\") old_str = line[start+4:end] new_str = parse.quote(cont) line = line.replace(old_str, new_str) return line# é‡æ–°æ‹¼è£…éœ€å‘é€çš„æŠ¥æ–‡def get_req(file, cont): msg = '' with open(file, encoding='utf-16') as f: lines = f.readlines() for line in lines: if 'Request header:' in line: continue if 'GET' in line: line = 'GET ' + get_ref(file, cont)[9:-1] + ' HTTP/1.1' if 'Referer' in line: line = get_ref(file, cont) if 'Accept-Encoding' in line: continue line = line.strip('\\n') + '\\r\\n' msg += line msg = bytes(msg[:-4], encoding=\"utf8\") return msg å‘é€æ•°æ®åŒ… SendFiddler ä½¿ç”¨WebForms ä½¿ç”¨å›¾å½¢ç•Œé¢æˆ–ç¼–ç¨‹è„šæœ¬åº”ç”¨è¿‡æ»¤ ä½¿ç”¨å›¾å½¢ç•Œé¢æˆ–è¿è¡Œå‘½ä»¤è®¾ç½®æ–­ç‚¹ åœ¨ å¯¹åº”æŠ¥æ–‡A çš„ Request WebFormså†…ä¿®æ”¹â€œæœç´¢å…³é”®å­—â€ ç‚¹å‡» Break on Response å°†ä¿®æ”¹åçš„ å¯¹åº”æŠ¥æ–‡A å‘é€åˆ°Fiddler åœ¨ å¯¹åº”æŠ¥æ–‡B çš„ Request WebFormså†…æŸ¥çœ‹â€œæœç´¢å…³é”®å­—â€ ç‚¹å‡» Run to Completion å°†ä¿®æ”¹åçš„ å¯¹åº”æŠ¥æ–‡B å‘é€åˆ°Server ä½¿ç”¨Composer ä¿å­˜ä¼šè¯Requestè¯·æ±‚å¤´éƒ¨ åœ¨è®°äº‹æœ¬å†…ä¿®æ”¹â€œæœç´¢å…³é”®å­—â€ åœ¨Composerå†…å‘é€è¯·æ±‚æŠ¥æ–‡ Socket 123456789101112131415161718192021222324252627282930if __name__ == '__main__': # è¯»å–ä¿¡æ¯ file = input(\"file:\") cont = input(\"cont:\") # å¥—æ¥å­—è¿æ¥æœåŠ¡ç«¯ s = ssl.wrap_socket(socket.socket()) s.connect(('www.baidu.com', 443)) # å‘é€ä¿®æ”¹åçš„è¯·æ±‚ s.send(get_req(file, cont)) # ç¼“å­˜æœåŠ¡ç«¯çš„å“åº” buffer = [] while True: d = s.recv(1024) if d: buffer.append(d) else: break res = b''.join(buffer) # å®¢æˆ·ç«¯å…³é—­å¥—æ¥å­— s.close() # ä¿å­˜å“åº” header, html = res.split(b'\\r\\n\\r\\n', 1) print(header.decode('utf-8')) with open(cont + '.html', 'wb') as f: f.write(html) è®°å“åº”æ—¶é—´ AnalysesFiddlerCurléœ€æ³¨æ„äº‹é¡¹ Notices æŠ¥æ–‡æ ¼å¼ æ— è®ºä½¿æ‰‹åŠ¨è¿˜æ˜¯è„šæœ¬ä¿å­˜ä¼šè¯çš„è¯·æ±‚æŠ¥æ–‡ï¼Œéƒ½éœ€è¦æ³¨æ„æ¯ä¸ªå±æ€§æ˜¯å¦ä»¥ \\r\\n ç»“å°¾ï¼Œæœ€åå±æ€§æ˜¯å¦ä»¥ \\r\\n\\r\\n ç»“å°¾ é‡åˆ° HTTP 400 Bad Request å“åº”ä»”ç»†æ£€æŸ¥æŠ¥æ–‡æ ¼å¼æ˜¯å¦æ­£ç¡® ç¼–ç é—®é¢˜ æ³¨æ„ä¿å­˜ä¼šè¯çš„ç¼–ç æ ¼å¼ï¼Œæ‰‹åŠ¨ä¿å­˜ä½¿ç”¨ç¼–ç æ ¼å¼ utf-8 ï¼Œè„šæœ¬ä¿å­˜ä½¿ç”¨ç¼–ç æ ¼å¼ utf-16 Socketå‘é€æŠ¥æ–‡å’Œæ¥å—æŠ¥æ–‡éƒ½éœ€è¦äºŒè¿›åˆ¶æ•°æ® Fiddleré»˜è®¤ä½¿ç”¨GZipæ ¼å¼å‹ç¼©ï¼Œåœ¨å‘é€è¯·æ±‚æŠ¥æ–‡æ—¶ä¸ºç¡®ä¿å“åº”ä¸»é¢˜éä¹±ç ï¼Œåº”è¯¥å»é™¤ Accept-Encoding: gzip, deflate è¿™è¡Œå±æ€§ ç«¯å£é—®é¢˜ Socketé€šä¿¡éœ€è¦çŸ¥é“ä¸»æœºåœ°å€åŠå…¶ç«¯å£å· Fiddler Sessionsæˆ–Inpectorså¯çŸ¥ä¸»æœºåœ°å€åŠå…¶ç«¯å£å· ä¿å­˜çš„TCPæŠ¥æ–‡ï¼ˆä½¿ç”¨Wiresharkï¼‰å¯çŸ¥ä¸»æœºåœ°å€åŠå…¶ç«¯å£å· ä¿å­˜çš„HTTP/HTTPSæŠ¥æ–‡ï¼ˆä½¿ç”¨Fiddlerï¼‰ä»…çŸ¥ä¸»æœºåœ°å€ï¼Œå·²çŸ¥å¸¸ç”¨ç«¯å£ï¼šHTTPä¸º80/HTTPSä¸º443 è¯·æ±‚å˜åŒ– Break on Response å’Œ Run to Completion å¯¹åº”ä¼šè¯å¹¶ä¸ç›¸åŒ å¾…æ”¹è¿›äº‹é¡¹ Todos ä¼˜åŒ–è¿‡æ»¤ä¼šè¯å’Œæ›¿æ¢å†…å®¹è„šæœ¬ï¼šæ­£åˆ™è¡¨è¾¾å¼ å‘é€å“åº”å›æµè§ˆå™¨ï¼šSocketå‘å…¶å®ƒè¿›ç¨‹å‘æŠ¥æ–‡ æŒç»­åŒ–ã€å¤šçº¿ç¨‹æŠ“åŒ…ã€ä¿®æ”¹ã€å‘åŒ…ï¼šå¤šçº¿ç¨‹ç¼–ç¨‹ å®ç°æ›¿ä»£Fiddlerçš„ä»£ç†æœåŠ¡å™¨ï¼šåˆ©ç”¨Pythonç¬¬ä¸‰æ–¹ä»£ç†åº“","link":"/2019/10/15/HTTPçš„é€šä¿¡ç›‘æ§å’Œå›æ”¾ï¼šFiddleræŠ“åŒ…ä¸Socketå‘åŒ…/"},{"title":"#Cloud Computing# LinuxOneä¸Šçš„Dockeråˆä½“éªŒ","text":"åœ¨LinuxOneä¸Šåˆ©ç”¨Dockeréƒ¨ç½²åº”ç”¨ä¸æœåŠ¡ï¼Œä¸»è¦åˆ†ä¸ºä»¥ä¸‹äº”ä¸ªéƒ¨åˆ†ï¼š ç¯å¢ƒå‡†å¤‡ Environment DockeråŸç† Theory Dockerä½¿ç”¨ Usage Dockerå®æˆ˜ Practice æ³¨æ„äº‹é¡¹ Notices ç›®å½• Table of Contents ç¯å¢ƒå‡†å¤‡ Environment ç”³è¯·Githubè´¦å·å¹¶é…ç½®å¥½æœ¬åœ°Git ç”³è¯·IBM IDè´¦å·å¹¶å¼€é€šå¼€å‘è€…è´¦å· ç”³è¯·IBM LinuxOneè´¦å· Virtual Machine Private Cloud å®‰è£…Node.jsç¯å¢ƒ å®‰è£…SSHç™»å½•å·¥å…· DockeråŸç† Theory å·¥ä½œæµç¨‹ åè¯è¾¨æ Dockerä½¿ç”¨ Usage å®‰è£… å‘½ä»¤ Dockerå®æˆ˜ Practice åˆ‡æ¢æƒé™å’Œè·¯å¾„ï¼Œé…ç½®ç”¨æˆ·ä¹ æƒ¯ å®‰è£…å¹¶è¿è¡Œ WebSphere Libertyï¼ˆç»ƒä¹ ä½¿ç”¨docker runï¼‰ å®‰è£…å¹¶è¿è¡Œ WordPressï¼ˆç»ƒä¹ ä½¿ç”¨docker-compose upï¼‰ å®‰è£…å¹¶è¿è¡Œ Todo Appï¼ˆç†Ÿæ‚‰MEAN Stack + Dockeræ¶æ„ï¼‰ Todo Appå‰ç«¯æ’å…¥æ•°æ®ã€åç«¯å¤„ç†æ•°æ®ã€æ•°æ®åº“æŸ¥æ•°æ®ï¼ˆç†Ÿæ‚‰MEAN Stack + Dockerå‰åç«¯æ•°æ®åº“äº¤äº’ï¼‰ æœ¬åœ°éƒ¨ç½²é‡‘èå¾®æœåŠ¡ï¼ˆç†Ÿæ‚‰Localhost â†’ Micro-servicesæ¨¡å¼ï¼‰ è¿œç¨‹éƒ¨ç½²é‡‘èå¾®æœåŠ¡ï¼ˆç†Ÿæ‚‰Docker â†’ Micro-servicesæ¨¡å¼ï¼‰ äº‘ç«¯éƒ¨ç½²é‡‘èå¾®æœåŠ¡ï¼ˆç†Ÿæ‚‰Cloud â†’ Micro-servicesæ¨¡å¼ï¼‰ æ³¨æ„äº‹é¡¹ Notices ç¯å¢ƒå‡†å¤‡ Environmentç”³è¯·Githubè´¦å·å¹¶é…ç½®å¥½æœ¬åœ°Git å»–é›ªå³°Gitæ•™ç¨‹ ç”³è¯·IBM IDè´¦å·å¹¶å¼€é€šå¼€å‘è€…è´¦å· è¯¥æ­¥éª¤ä¸»è¦æä¾›æ¥å£æƒé™ Register IBM ID ï¼ˆç»Ÿä¸€é‚®ç®±ï¼‰ Create an API Developer Portal account ï¼ˆç»Ÿä¸€é‚®ç®±ï¼‰ Apps Create new App Configure the App: Title: $TITLE Sumbit Client ID Client Secret API Products Use banking API Subscribe Default Plan Select Previous App Subscribe ç”³è¯·IBM LinuxOneè´¦å· è¯¥æ­¥éª¤ä¸»è¦æä¾›éƒ¨ç½²ç¯å¢ƒ Virtual Machine Login Virtual Services Manage Instances Create Instances Configure the Instance Type: General purpose VM Instance Name: $INSTANCE_NAME Instance Description: $INSTANCE_DESCRITION Image: RHEL7.6 SSH Key Pairs: Create â†’ Save â†’ Select â†’ Create Check the Instance Status: Active Linux User: linux1 IP Address: 148.100.xxx.xxx Private Cloud Login Catalog openmplbank Configure Input Release name Select Target Namespace Install View Helm Release Deployment AVAILABLE = 1 Launch å®‰è£…Node.jsç¯å¢ƒ å®‰è£…Node.js: Download | Node.js æ£€æŸ¥æ˜¯å¦å®‰è£…æˆåŠŸ: 12$ node -v$ npm -v å®‰è£…SSHç™»å½•å·¥å…· Windowsï¼šå¯é€‰PuTTYæˆ–Xshellæˆ–WSL Linuxï¼šssh -i /path/to/key/keyname.pem linuxusername@serveripaddress DockeråŸç† Theoryå·¥ä½œæµç¨‹ åè¯è¾¨æ æ¦‚å¿µ å«ä¹‰ Docker é•œåƒ(Images) Dockeré•œåƒæ˜¯ç”¨äºåˆ›å»ºDockerå®¹å™¨çš„æ¨¡æ¿ã€‚ Docker å®¹å™¨(Container) Dockerå®¹å™¨æ˜¯ç‹¬ç«‹è¿è¡Œçš„ä¸€ä¸ªæˆ–ä¸€ç»„åº”ç”¨ã€‚ Docker å®¢æˆ·ç«¯(Client) Dockerå®¢æˆ·ç«¯é€šè¿‡å‘½ä»¤è¡Œæˆ–è€…å…¶ä»–å·¥å…·ä½¿ç”¨Docker APIï¼Œä¸Dockerçš„å®ˆæŠ¤è¿›ç¨‹é€šä¿¡ã€‚ Docker ä¸»æœº(Host) Dockerä¸»æœºæ˜¯ä¸€ä¸ªç‰©ç†æˆ–è€…è™šæ‹Ÿçš„æœºå™¨ç”¨äºæ‰§è¡ŒDockerå®ˆæŠ¤è¿›ç¨‹å’Œå®¹å™¨ã€‚ Dockerä½¿ç”¨ Usageå®‰è£… å®‰è£…docker 123456789101112# ä¸‹è½½Dockerå½’æ¡£åŒ…wget ftp://ftp.unicamp.br/pub/linuxpatch/s390x/redhat/rhel7.3/docker-17.05.0-ce-rhel7.3-20170523.tar.gz# è§£å‹Dockerå½’æ¡£åŒ…tar -xzvf docker-17.05.0-ce-rhel7.3-20170523.tar.gz# è¿ç§»Dockerå½’æ¡£åŒ…# !!! è¿™é‡Œç›´æ¥cpåˆ°/usr/binå°±å¥½ï¼Œå› ä¸º/usr/local/binä¸åœ¨PATHç¯å¢ƒå˜é‡é‡Œ !!!cp docker-17.05.0-ce-rhel7.3-20170523/docker* /usr/bin/ å®‰è£…docker-compose 12345678910111213141516171819202122232425262728293031# æŸ¥çœ‹python-setuptoolsyum info python-setuptools# å®‰è£…python-setuptoolsyum install -y python-setuptools# å®‰è£…pipeasy_install pip# ç½‘é€Ÿè¿‡æ…¢çš„è¯å…ˆç¦ç”¨æ‰ IPv6echo 1 &gt; /proc/sys/net/ipv6/conf/all/disable_ipv6# å‡çº§backports.ssl_match_hostnamepip install backports.ssl_match_hostname --upgrade --ignore-installed# å…ˆå®‰è£…ä¾èµ–ï¼Œä¸ç„¶ä¼šæŠ¥é”™yum install python-devel libffi-devel# å®‰è£…docker-composepip install docker-compose==1.13.0# æŸ¥çœ‹docker-composeå®‰è£…æƒ…å†µå’Œç‰ˆæœ¬ä¿¡æ¯docker-compose version å‘½ä»¤ åå°å¯åŠ¨daemonè¿›ç¨‹ 1234# -g è®¾ç½®Docker Daemonè¿è¡Œæ—¶çš„æ ¹ç›®å½•# &amp; æ”¾åœ¨å‘½ä»¤åé¢è¡¨ç¤ºè®¾ç½®æ­¤è¿›ç¨‹ä¸ºåå°è¿›ç¨‹docker daemon -g /local/docker/lib &amp; å‘½ä»¤æŸ¥çœ‹dockerä¿¡æ¯ 1234567# æŸ¥çœ‹å½“å‰æœºå™¨dockerç‰ˆæœ¬è€æ—§docker version# æ£€æŸ¥åå°æœ‰æ— dockerè¿›ç¨‹è¿è¡Œps aux | grep docker dockeré•œåƒå¤„ç† 1234567891011# æŸ¥çœ‹æ‰€æœ‰é•œåƒdocker images# æ‹‰å–è¿œç¨‹é•œåƒdocker image pull repository:tag# æ„å»ºæœ¬åœ°é•œåƒdocker build -t \"repository:tag\" ./ dockerå®¹å™¨å¤„ç† 1234567891011# æŸ¥çœ‹æ‰€æœ‰å®¹å™¨docker ps# åˆ›å»ºè¿è¡Œå®¹å™¨docker run image# åœæ­¢è¿è¡Œå®¹å™¨docker stop container dockeræœåŠ¡å¤„ç† 1234567891011# æŸ¥çœ‹æ‰€æœ‰æœåŠ¡docker-compose ps# åˆ›å»ºè¿è¡ŒæœåŠ¡docker-compose up# åœæ­¢è¿è¡ŒæœåŠ¡docker-compose down docker build 123# -t åœ¨æ–°å®¹å™¨å†…æŒ‡å®šä¸€ä¸ªä¼ªç»ˆç«¯æˆ–ç»ˆç«¯docker build -t \"repository:tag\" ./ docker run 12345# -d å¼€å¯daemonæ¨¡å¼# -i å…è®¸ä½ å¯¹å®¹å™¨å†…çš„æ ‡å‡†è¾“å…¥ (STDIN) è¿›è¡Œäº¤äº’# -p æŒ‡å®šç«¯å£æ˜ å°„è§„åˆ™docker run -d -i -p ipadress1:port1/protocal:ipadress2:port2/protocal repository:tag docker-compose up 1234# -d å¼€å¯daemonæ¨¡å¼# ç«¯å£æ˜ å°„å’Œé•œåƒæ¥æºéƒ½å†™åœ¨äº†.ymlé…ç½®æ–‡ä»¶docker-compose up -d docker exec 1234# -i å…è®¸ä½ å¯¹å®¹å™¨å†…çš„æ ‡å‡†è¾“å…¥ (STDIN) è¿›è¡Œäº¤äº’# -t åœ¨æ–°å®¹å™¨å†…æŒ‡å®šä¸€ä¸ªä¼ªç»ˆç«¯æˆ–ç»ˆç«¯docker exec â€“it container bash Dockerå®æˆ˜ Practiceåˆ‡æ¢æƒé™å’Œè·¯å¾„ï¼Œé…ç½®ç”¨æˆ·ä¹ æƒ¯123456789101112131415# åˆ‡ä¸ºæ ¹ç”¨æˆ·ï¼Œå¦åˆ™æ²¡æœ‰æƒé™sudo su# åˆ‡åˆ°å®¶ç›®å½•ï¼Œå¦åˆ™éš¾æ‰¾æ–‡ä»¶cd ~# RHEL 7.6å·²ç»è‡ªå¸¦å®‰è£…äº†VIM 7.4ï¼Œå¯åŠ¨å‘½ä»¤æ˜¯viï¼Œä¹ æƒ¯ç”¨vimå‘½ä»¤çš„åŒå­¦å¯ä»¥å…ˆè®¾ç½®ä¸€ä¸‹åˆ«å[å½“å‰ç”Ÿæ•ˆ]alias vim='vi'# RHEL 7.6å·²ç»è‡ªå¸¦å®‰è£…äº†VIM 7.4ï¼Œå¯åŠ¨å‘½ä»¤æ˜¯viï¼Œä¹ æƒ¯ç”¨vimå‘½ä»¤çš„åŒå­¦å¯ä»¥å…ˆè®¾ç½®ä¸€ä¸‹åˆ«å[æ°¸ä¹…ç”Ÿæ•ˆ]# !!! å¯ä»¥å°†alias vim='vi'åŠ åˆ°~/.bashrcä¸­ !!!source ~/.bashrc å®‰è£…å¹¶è¿è¡Œ WebSphere Libertyï¼ˆç»ƒä¹ ä½¿ç”¨docker runï¼‰123456789# æ‰‹åŠ¨æ‹‰å–websphere-libertyé•œåƒåˆ°æœ¬åœ°docker image pull s390x/websphere-liberty:webProfile7# åå°è¿è¡Œå®¹å™¨ï¼Œå¹¶æŒ‡å®šç«¯å£æ˜ å°„è§„åˆ™docker run -d -p 80:9080 -p 443:9443 s390x/websphere-liberty:webProfile7# æµè§ˆå™¨è®¿é—®http://[LinuxOne Host IP]ï¼Œå³å¯çœ‹åˆ°WebSphere Libertyçš„ç•Œé¢ å®‰è£…å¹¶è¿è¡Œ WordPressï¼ˆç»ƒä¹ ä½¿ç”¨docker-compose upï¼‰12345678910111213141516171819202122232425262728293031323334353637383940# åˆ›å»ºdocker-compose.ymlvim docker-compose.yml# ç¼–è¾‘docker-compose.ymlversion: '2'services: wordpress: image: s390x/wordpress ports: - 8080:80 # å°†æœ¬åœ° 8080 ç«¯å£æ˜ å°„åˆ°å®¹å™¨çš„ 80 ç«¯å£ environment: WORDPRESS_DB_PASSWORD: example mysql: image: brunswickheads/mariadb-5.5-s390x environment: MYSQL_ROOT_PASSWORD: example:wq# æŸ¥çœ‹docker-compose.ymlcat docker-compose.yml# åˆ›å»ºwordpressç›®å½•æ–¹ä¾¿æ•´ç†mkdir wordpressmv docker-compose.yml wordpress/cd wordpress/# æ ¹æ®docker-compose.ymlä¸­å®šä¹‰çš„æœåŠ¡å¯åŠ¨å®¹å™¨docker-compose up -d# åˆ›å»ºå®Œæˆåï¼ŒæŸ¥çœ‹ç›¸å…³å®¹å™¨çš„çŠ¶æ€docker-compose ps# æµè§ˆå™¨è®¿é—®http://[Your LinuxONE IP Address]:8080ï¼Œå³å¯çœ‹åˆ° WordPress çš„é¡µé¢ å®‰è£…å¹¶è¿è¡Œ Todo Appï¼ˆç†Ÿæ‚‰MEAN Stack + Dockeræ¶æ„ï¼‰123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101# ä¸ºæ–¹ä¾¿ç®¡ç†æ–‡ä»¶ï¼Œåˆ‡æ¢åˆ°å®¶ç›®å½•cd ~# ä»Githubæ‹‰å–æºç åˆ°æœ¬åœ°ä½¿ç”¨git clone https://github.com/IBM/Cloud-Native-Workloads-on-LinuxONE# è¿ç§»æºç æ–‡ä»¶å¤¹åˆ°å®¶ç›®å½•cp -r Cloud-Native-Workloads-on-LinuxONE/files/mean-docker ./# å®‰è£…æ˜¾ç¤ºç›®å½•æ ‘çš„æ’ä»¶åŒ…yum install -y tree# æ˜¾ç¤ºmean-dockerçš„ç›®å½•æ ‘tree mean-dockermean-dockerâ”œâ”€â”€ docker-compose.yml # docker-compose é…ç½®æ–‡ä»¶â”œâ”€â”€ express-serverâ”‚ â”œâ”€â”€ appâ”‚ â”‚ â”œâ”€â”€ modelsâ”‚ â”‚ â”‚ â””â”€â”€ todo.jsâ”‚ â”‚ â””â”€â”€ routes.jsâ”‚ â”œâ”€â”€ configâ”‚ â”‚ â””â”€â”€ database.jsâ”‚ â”œâ”€â”€ Dockerfile # docker image ç”Ÿæˆæ–‡ä»¶â”‚ â”œâ”€â”€ licenseâ”‚ â”œâ”€â”€ package.jsonâ”‚ â”œâ”€â”€ publicâ”‚ â”‚ â”œâ”€â”€ index.html # å‰ç«¯æ–‡ä»¶â”‚ â”‚ â””â”€â”€ jsâ”‚ â”‚ â”œâ”€â”€ controllersâ”‚ â”‚ â”‚ â””â”€â”€ main.js # åç«¯æ–‡ä»¶â”‚ â”‚ â”œâ”€â”€ core.jsâ”‚ â”‚ â””â”€â”€ servicesâ”‚ â”‚ â””â”€â”€ todos.js # æ•°æ®åº“æ–‡ä»¶â”‚ â”œâ”€â”€ README.mdâ”‚ â””â”€â”€ server.jsâ””â”€â”€ README.md # è¯´æ˜æ–‡æ¡£8 directories, 14 files# ä¿®æ”¹Angular.jsæˆå›½å†…é•œåƒæºvim mean-docker/express-server/public/index.htmlsrc=\"//cdn.bootcss.com/angular.js/1.2.16/angular.min.js\"# æŸ¥çœ‹Dockerfileçš„å†…å®¹cd express-server/lsvim Dockerfile# ç¼–è¾‘Dockerfileçš„å†…å®¹# Expose the port the app runs inEXPOSE 8081......# Express listening portENV PORT 8081:wq# é‡æ–°æ„å»ºé•œåƒcd mean-dockerdocker-compose down # åœæ­¢æ­£åœ¨è¿è¡Œçš„å®¹å™¨docker-compose build # å…ˆé‡æ–°æ„å»ºé•œåƒdocker-compose up # å†åŸºäºæ–°é•œåƒé‡æ–°å¯åŠ¨å®¹å™¨# æŸ¥çœ‹docker-compose.ymlçš„å†…å®¹cd mean-docker/lsvim docker-compose.yml# ç¼–è¾‘docker-compose.ymlçš„å†…å®¹# å› ä¸ºä¹‹å‰æœ¬åœ°çš„8080ç«¯å£è¢« WordPress å ç”¨äº†ï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨8081ç«¯å£......ports:- \"8081:8081\" # æœ¬åœ° 8081 ç«¯å£æ˜ å°„åˆ° express å®¹å™¨çš„ 8081 ç«¯å£......:wq# å¯åŠ¨æŒ‡å®šæœåŠ¡docker-compose up -d# ä½¿ç”¨docker-compose pså‘½ä»¤æŸ¥çœ‹å¯åŠ¨çš„å®¹å™¨docker-compose ps# æµè§ˆå™¨è®¿é—®http://[ip of machine]:8081ï¼Œå³å¯çœ‹åˆ°ä½ çš„ TODO-List App Todo Appå‰ç«¯æ’å…¥æ•°æ®ã€åç«¯å¤„ç†æ•°æ®ã€æ•°æ®åº“æŸ¥æ•°æ®ï¼ˆç†Ÿæ‚‰MEAN Stack + Dockerå‰åç«¯æ•°æ®åº“äº¤äº’ï¼‰1234567891011121314151617181920212223242526272829......# åœ¨è¿è¡Œçš„å®¹å™¨ä¸­æ‰§è¡Œå‘½ä»¤docker exec â€“it meandocker_database_1 bash# è¿›å…¥MongoDB&gt; mongo# æŸ¥çœ‹æ•°æ®åº“&gt; show dbs# æŒ‡å®šæ•°æ®åº“&gt; use docker-mean# æšä¸¾æ•°æ®è¡¨&gt; show tables# æŸ¥çœ‹å…ƒç¥–é›†&gt; db.todos.find()# æŒ‡å®šå…ƒç¥–é¡¹&gt; db.todos.find({\"key\": \"value\"}) æœ¬åœ°éƒ¨ç½²é‡‘èå¾®æœåŠ¡ï¼ˆç†Ÿæ‚‰Localhost â†’ Micro-servicesæ¨¡å¼ï¼‰12345678910111213141516171819202122232425# Fork ICp-banking-microservices åˆ°è‡ªå·±è´¦å·ä¸‹ï¼Œå°†ä½ Forkçš„é¡¹ç›®git cloneè‡³æœ¬åœ°# Githubé…ç½®è¿‡SSHgit clone git@github.com:LotteWong/ICp-banking-microservices.git# Githubæœªé…ç½®SSHgit clone https://github.com/YOUR_USERNAME/ICp-banking-microservices# åœ¨banking-application/public/js/bankingAPI.jsä¸­å¡«å…¥ä½ çš„Client IDå’ŒClient Secret# è¿›å…¥ICp-banking-microservices/banking-applicationç›®å½•ï¼Œå®‰è£…npmä¾èµ–npm install# å¦‚æœå‡ºç°npmä»£ç†è®¾ç½®é”™è¯¯ï¼Œé‡æ–°è®¾ç½®ä»£ç†å³å¯npm config set registry \"http://registry.npmjs.org/\"# è¿›å…¥ICp-banking-microservices/banking-applicationç›®å½•ï¼Œå¯åŠ¨åº”ç”¨node app.js# æµè§ˆå™¨è®¿é—®http://localhost:3000ï¼Œå³å¯è®¿é—®åº”ç”¨# éšä¾¿é€‰æ‹©ä¸€ä¸ªcustomer IDæµ‹è¯•ï¼Œè‹¥æœ‰JSONæ ¼å¼çš„æ•°æ®è¿”å›ï¼Œåˆ™è¯´æ˜APIå¯ç”¨ã€‚å¦‚æœå‡ºé”™å¯è‡ªæ’æŸ¥ï¼Œå¯èƒ½æ˜¯IDå’ŒSecretä¸åŒ¹é…ï¼ˆå‰å¾€å¼€å‘è€…é¡µé¢çš„åº”ç”¨ç¨‹åºé¡µé¢ä¸­éªŒè¯IDå’ŒSecretï¼‰æˆ–è€…æµè§ˆå™¨ä¸æ”¯æŒç½‘é€Ÿè¾ƒæ…¢ä¹‹ç±»ï¼ˆæ›´æ¢æµè§ˆå™¨æ›´æ¢ç½‘ç»œæºï¼‰ è¿œç¨‹éƒ¨ç½²é‡‘èå¾®æœåŠ¡ï¼ˆç†Ÿæ‚‰Docker â†’ Micro-servicesæ¨¡å¼ï¼‰1234567891011121314151617181920212223242526272829303132333435363738# åœ¨é LinuxOne çš„æœ¬æœºå°†é¡¹ç›®æ¨é€è‡³ Github è¿œç¨‹ä»“åº“# !!! å®é™…ä¸Šä¸åº”è¯¥æŠŠClient IDå’ŒClient Secretè¿™ç§å¯†é’¥ç±»å‹çš„æ•°æ®æ¨åˆ° Github ä¸Šï¼Œè¿™é‡Œä¸ºäº†æ–¹ä¾¿å®éªŒæš‚æ—¶è¿™ä¹ˆåšï¼Œä»¥ååˆ‡å‹¿æ¨¡ä»¿ã€‚ !!!git add public/js/bankingAPI.jsgit commit -m \"Update of bankingAPI.js\"git push origin master# å…ˆç™»å½•ä½ çš„ LinuxONE ä¸»æœºå®ä¾‹ï¼Œä¸ºæ–¹ä¾¿ç®¡ç†æ–‡ä»¶ï¼Œåˆ‡æ¢åˆ°å®¶ç›®å½•cd ~# å°†ä½  Fork ååˆæ›´æ–°çš„ä»£ç æ‹‰å–åˆ°æœ¬åœ°# Githubé…ç½®è¿‡SSHgit clone git@github.com:LotteWong/ICp-banking-microservices.git# Githubæœªé…ç½®SSHgit clone https://github.com/YOUR_USERNAME/ICp-banking-microservices# æ„å»º Docker é•œåƒdocker build -t \"respository:tag\" ./# æŸ¥çœ‹ Docker é•œåƒdocker images# å¯åŠ¨ Docker å®¹å™¨docker run -p 3000:3000 respository:tag# æŸ¥çœ‹ Docker å®¹å™¨docker ps# æµè§ˆå™¨è®¿é—®http://[LinuxOne Host IP]:3000ï¼Œå³å¯è®¿é—®åº”ç”¨# éšä¾¿é€‰æ‹©ä¸€ä¸ªcustomer IDæµ‹è¯•ï¼Œè‹¥æœ‰JSONæ ¼å¼çš„æ•°æ®è¿”å›ï¼Œåˆ™è¯´æ˜APIå¯ç”¨ã€‚å¦‚æœå‡ºé”™å¯è‡ªæ’æŸ¥ï¼Œå¯èƒ½æ˜¯IDå’ŒSecretä¸åŒ¹é…ï¼ˆå‰å¾€å¼€å‘è€…é¡µé¢çš„åº”ç”¨ç¨‹åºé¡µé¢ä¸­éªŒè¯IDå’ŒSecretï¼‰æˆ–è€…æµè§ˆå™¨ä¸æ”¯æŒç½‘é€Ÿè¾ƒæ…¢ä¹‹ç±»ï¼ˆæ›´æ¢æµè§ˆå™¨æ›´æ¢ç½‘ç»œæºï¼‰ äº‘ç«¯éƒ¨ç½²é‡‘èå¾®æœåŠ¡ï¼ˆç†Ÿæ‚‰Cloud â†’ Micro-servicesæ¨¡å¼ï¼‰123# åˆ° ICP ä¸­éƒ¨ç½²å¥½çš„åº”ç”¨ï¼Œç‚¹å‡»å¯åŠ¨ï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨è·³è½¬åˆ°åˆ†é…çš„ç«¯å£# ä¹‹åå°±å’Œæ­¤å‰çš„å®éªŒä¸€æ ·äº†ï¼Œåªä¸è¿‡ä½ çš„åº”ç”¨æ˜¯éƒ¨ç½²åœ¨ ICP ä¸Šï¼Œç”± Kubernetes è‡ªåŠ¨ç»´æŠ¤å¯ç”¨çš„ Pod æ•°é‡ æ³¨æ„äº‹é¡¹ Notices ç«¯å£æ˜ å°„å°±æ˜¯å°†ä¸»æœºçš„IPåœ°å€çš„ä¸€ä¸ªç«¯å£æ˜ å°„åˆ°å±€åŸŸç½‘ä¸­ä¸€å°æœºå™¨ï¼Œå½“ç”¨æˆ·è®¿é—®è¿™ä¸ªIPçš„è¿™ä¸ªç«¯å£æ—¶ï¼ŒæœåŠ¡å™¨è‡ªåŠ¨å°†è¯·æ±‚æ˜ å°„åˆ°å¯¹åº”å±€åŸŸç½‘åˆ†æœºã€‚ .pemä¸ºé€šç”¨è¯ä¹¦æ ¼å¼ï¼Œppkä¸ºPuTTYä¸‹é¢çš„ä¸“æœ‰æ ¼å¼ã€‚ä¸¤è€…éƒ½ä¸ºSSH Key Pairsæ ¼å¼ï¼Œå†…å«å…¬é’¥å’Œå¯†é’¥ã€‚ é•œåƒæ˜¯ç±»ï¼Œå®¹å™¨æ˜¯å¯¹è±¡ï¼ŒæœåŠ¡æ˜¯å¯¹è±¡é›†ã€‚Dockerfileç”¨äºæ„å»ºé•œåƒï¼›docker-compose.ymlç”¨äºç»„ç»‡é•œåƒï¼›docker runç”¨äºå¯åŠ¨å®¹å™¨ï¼›docker-compose upç”¨äºå¯åŠ¨æœåŠ¡ã€‚ ä½¿ç”¨Dockeréœ€è¦éå¸¸æ³¨æ„å·çš„ç®¡ç†ï¼Œå¦‚æœé‡‡ç”¨é»˜è®¤åŒ¿åçš„æ–¹å¼è€Œä¸æŒ‡å®šå·çš„ä½ç½®ï¼ŒæœåŠ¡å™¨çš„å®¹é‡å¾ˆå¿«å°±ä¼šè¢«æ¯æ¬¡é‡æ–°ç”Ÿæˆçš„åŒä¸€é•œåƒç»™çˆ†æ‰ã€‚ MEAN StackåŒ…æ‹¬MongoDBï¼ˆæ•°æ®åº“ï¼‰ã€Express.jsï¼ˆè·¯ç”±ï¼‰ã€AngularJSï¼ˆå‰ç«¯ï¼‰å’ŒNode.jsï¼ˆåç«¯ï¼‰ã€‚æœ¬æ¬¡å®éªŒæœ€ç»ˆé¡¹ç›®å‹é“¾ ğŸ‘‰ SCUT Online Bank Applicationã€‚","link":"/2019/06/18/LinuxOneä¸Šçš„Dockerå®è·µ/"},{"title":"#Operation# WSLä»å…¥é—¨åˆ°...(2) Dive into WSL 1","text":"å¯¹ WSL 1 çš„ä¸€äº›å®ç°ç»†èŠ‚è¿›è¡Œè¡¥å……è¯´æ˜ï¼Œä¸»è¦åˆ†ä¸ºä»¥ä¸‹äº”ä¸ªéƒ¨åˆ†ï¼š å‰æƒ…æè¦ èƒŒæ™¯ æ¶æ„ä¸åŠŸèƒ½ æ€»ç»“ å‚è€ƒé“¾æ¥ ç›®å½• Table of Contents å‰æƒ…æè¦ èƒŒæ™¯ æ¶æ„ LXSS Manager Service Pico Drivers Pico Processes åŠŸèƒ½ System Calls File System æ€»ç»“ å‚è€ƒé“¾æ¥ å‰æƒ…æè¦ å‰é¢å·²ç»ç®€è¦ä»‹ç»äº† WSL 1 å’Œ WSL 2 çš„åŒºåˆ«ï¼Œæœ¬èŠ‚å°†èšç„¦äº WSL 1çš„å®ç°ç»†èŠ‚ã€‚ç‚¹å¼€å®˜æ–¹åšå®¢å¼€å§‹æ”¶è·æƒŠ(da)å–œ(keng)ï¼Œæ‰ç–å­¦æµ…å†™é”™ä¹Ÿä¸è¦æ‰“æˆ‘ (é¢„å…ˆæ„Ÿè°¢å„ä½å‹˜è¯¯ é€ƒ ã€æ›´å¤šä¿¡æ¯ ğŸ‘‰ WSLä»å…¥é—¨åˆ°â€¦(1) WSL 1 vs WSL 2ã€‘ èƒŒæ™¯ Early subsystems were implemented as user mode modules that issued appropriate NT system calls based on the API they presented to applications for that subsystem. All applications were PE/COFF executables, a set of libraries and services to implement the subsystem API and NTDLL to perform the NT system call. When a user mode application got launched, the loader invoked the right subsystem to satisfy the application dependencies based on the executable header. æ—©æœŸçš„å­ç³»ç»Ÿé‡‡ç”¨çš„æ–¹æ³•æ˜¯ï¼Œå°†å­ç³»ç»Ÿè§†ä¸ºä¸Šå±‚çš„ä¸€ç³»åˆ—è¿›ç¨‹ç»„ï¼Œé€šè¿‡ NTDLL æä¾›çš„ API å®ç°ç”¨æˆ·æ¨¡å¼å’Œå†…æ ¸æ¨¡å¼é€šä¿¡ï¼Œå…¶ä¸­ loader å¯¹ application å’Œ subsystem è¿›è¡Œç®¡ç†ã€‚è¿™é‡Œè¿è¡Œçš„ä»ç„¶æ˜¯ Win32 binariesï¼Œéœ€è¦ç§»æ¤å’Œç»´æŠ¤ã€‚ Later versions of subsystems replaced the POSIX layer to provide the Subsystem for Unix-based Applications (SUA). The primary role of SUA was to encourage applications to get ported to Windows without significant rewrites. This was achieved by implementing the POSIX user mode APIs using NT constructs. åæ¥çš„å­ç³»ç»Ÿé‡‡ç”¨çš„æ–¹æ³•æ˜¯ï¼Œåœ¨ POSIX å±‚åšä¼˜åŒ–ï¼Œç§»æ¤è€Œä¸æ˜¯é‡å†™ã€‚è¿™é‡Œè¿è¡Œçš„ä»ç„¶æ˜¯ Win32 binariesï¼Œéœ€è¦ç§»æ¤å’Œç»´æŠ¤ã€‚ WSL is a collection of components that enables native Linux ELF64 binaries to run on Windows. It contains both user mode and kernel mode components. It is primarily comprised of: User mode session manager service that handles the Linux instance life cycle Pico provider drivers (lxss.sys, lxcore.sys) that emulate a Linux kernel by translating Linux syscalls Pico processes that host the unmodified user mode Linux (e.g. /bin/bash) WSL é‡‡ç”¨çš„æ–¹æ³•æ˜¯ï¼Œæ„é€ ä¸€æ•´å¥—åŒ…å«ç”¨æˆ·æ¨¡å¼å’Œå†…æ ¸æ¨¡å¼ç»„ä»¶çš„ç³»ç»Ÿï¼Œå…¶ä¸»è¦ç”±ç”¨æˆ·æ¨¡å¼ä¼šè¯ç®¡ç†æœåŠ¡ï¼ˆUser mode session manager serviceï¼‰ã€Pico é©±åŠ¨ï¼ˆPico provider driversï¼‰å’Œ Pico è¿›ç¨‹ ï¼ˆPico processesï¼‰ä¸‰ä¸ªéƒ¨åˆ†ç»„æˆã€‚è¿™é‡Œè¿è¡Œçš„ä»ç„¶æ˜¯ Linux binariesï¼Œæ— éœ€ç§»æ¤å’Œç»´æŠ¤ã€‚ æ¶æ„ å·¥ä½œæµå¤§æ¦‚æ˜¯ï¼šWindows çš„ Bash é”®å…¥æŒ‡ä»¤ï¼Œäº¤ç”± LXSS Manager Service å¯åŠ¨å¯¹åº”çš„ Linux å®ä¾‹å¹¶è¿›å…¥å¯¹åº”çš„ Pico è¿›ç¨‹ï¼ŒLinux çš„ Bash é€šè¿‡ä¸­é—´å±‚çš„é©±åŠ¨å™¨ä¸ Windows Kernel è¿›è¡Œç¿»è¯‘äº¤æµï¼ˆâ€œThe lxss.sys and lxcore.sys drivers translate the Linux system calls into NT APIs and emulate the Linux kernel.â€ï¼‰ã€‚ LXSS Manager Service LXSS Manager Service è´Ÿè´£ Windows çš„ Bashï¼ˆWin32 Processï¼‰å’Œ Linux çš„ Bashï¼ˆPico Processï¼‰ä¹‹é—´çš„é€šä¿¡ï¼Œä¸»è¦åœ¨åˆå§‹æ—¶å·¥ä½œã€‚ä½œç”¨èŒƒå›´åŒ…æ‹¬ä½†ä¸å±€é™äºï¼šåŒæ­¥ Linux å®ä¾‹çš„å®‰è£…å’Œå¸è½½ã€æ¯æ¬¡åªå…è®¸ä¸€ä¸ªè¿›ç¨‹å¯åŠ¨ Linux Binary å¹¶åœ¨ pending æ—¶é˜»å¡åç»­å¯åŠ¨è¿›ç¨‹ç­‰ç­‰ã€‚ Pico Drivers Pico Drivers è´Ÿè´£ Linux Instanceï¼ˆUser Modeï¼‰å’Œ Windows Kernelï¼ˆKernel Modeï¼‰ä¹‹é—´çš„é€šä¿¡ï¼Œä¸»è¦åœ¨è¿è¡Œæ—¶å·¥ä½œã€‚ä½œç”¨èŒƒå›´åŒ…æ‹¬ä½†ä¸å±€é™äºï¼šç¿»è¯‘ Linux system calls ä¸º Windows NT APIs å¯ä»¥ç†è§£çš„å½¢å¼ï¼Œæ¨¡æ‹Ÿ Linux å†…æ ¸å¹¶å¯¹ Windows å†…æ ¸è¿›è¡Œæ“ä½œç­‰ç­‰ã€‚ Pico Processes å°†å¯æ‰§è¡Œçš„ ELF binaries åŠ è½½è¿›åˆ° Pico Processes çš„åœ°å€ç©ºé—´ï¼Œå¹¶åœ¨ Linux å±‚ä¸Šè¿è¡Œã€‚å…¶ä¸­ Linux å®ä¾‹æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„ä¸º Pico Processes æœåŠ¡çš„æ•°æ®ç»“æ„ï¼Œå¯ä»¥åŒ…å«å¹¶è¿½è¸ªæ‰€æœ‰çš„ Linux è¿›ç¨‹ã€çº¿ç¨‹å’Œè¿è¡ŒçŠ¶æ€ã€‚å®ƒåœ¨ Win32 Process é¦–æ¬¡å¯åŠ¨ Linux Binary æ—¶åˆ›å»ºï¼Œåœ¨ Win32 Process æœ€åçš„å®¢æˆ·ç«¯å…³é—­è¿æ¥æ—¶è¢«é”€æ¯ã€‚ä»æ•´ä½“ä¸Šçœ‹ï¼Œæ•´ä¸ª WSL 1 åªæœ‰ä¸€ä¸ª Linux å®ä¾‹ï¼Œå®ƒéš”ç¦»å¼€äº†æœ¬æœºåŸæœ‰çš„ Windows å’Œæ‰€æœ‰æ–°å»ºçš„ Linux ï¼›ä»å†…éƒ¨æ¥çœ‹ï¼ŒLinux å®ä¾‹å†…çš„æ¯ä¸ª Pico Process éƒ½è¢«å•ç‹¬éš”ç¦»ï¼Œè¿™ç‚¹å’Œå®¹å™¨å¾ˆç±»ä¼¼ã€‚ åŠŸèƒ½ ç”±äº Windows Kernel å’Œ Linux Kernel åŸºæœ¬ä¸Šä¸å…¼å®¹ï¼Œéœ€è¦é¢å¤–å¤„ç†å¾ˆå¤šä¸­é—´è½¬æ¢ï¼Œä¸€èˆ¬åŒ…æ‹¬ç³»ç»Ÿè°ƒç”¨ã€æ–‡ä»¶ç³»ç»Ÿã€æƒé™ç®¡ç†å’Œç½‘ç»œé…ç½®ç­‰ï¼Œä¸‹é¢ä»‹ç»æœ€åŸºæœ¬å’Œæœ€é‡è¦çš„ä¸¤ä¸ªæ–¹é¢ï¼š System Calls syscall æ˜¯å†…æ ¸æä¾›çš„ä¸€é¡¹æœåŠ¡ï¼Œå¯ä»¥åœ¨ç”¨æˆ·æ¨¡å¼ä¸‹è°ƒç”¨ã€‚Windows Kernel å’Œ Linux Kernel éƒ½æš´éœ²äº†éå¸¸å¤šçš„ syscallï¼Œä½†ä¸¤è€…å¯¹æ­¤çš„è®¾è®¡æ¨¡å¼å¹¶ä¸åŒå¯¼è‡´ä¸å…¼å®¹ã€‚ è§£å†³è¿™ç§å†²çªçš„æ–¹æ³•æ˜¯å¼•å…¥ Pico Driversï¼ˆlxss.sys and lxcore.sysï¼‰ã€‚å½“ä¸€ä¸ª Linux Kernel syscall è¢«è°ƒç”¨ï¼Œè¯¥è¯·æ±‚å°†è¢«è½¬å‘ç»™ lxcore.sysï¼Œlxcore.sys å°† Linux Kernel syscall ç¿»è¯‘æˆç­‰ä»·çš„ Windows Kernel syscallï¼Œæœ€åä¼ åˆ° Windows Kernelã€‚ç‰¹åˆ«åœ°ï¼Œå¦‚æœåœ¨ä¸¤ç§å†…æ ¸ä¹‹é—´æœ‰æŸä¸ª syscall ä¸å­˜åœ¨æ˜ å°„å…³ç³»ï¼ˆäº¦å³ä¸èƒ½äº’ç›¸ç¿»è¯‘ï¼‰ï¼Œlxss.sys è¿˜è¢«è¦æ±‚å¤„ç†è¿™ç§å¼‚å¸¸å¹¶æä¾›ç›¸åº”çš„æœåŠ¡ã€‚ ä»¥ Linux çš„ fork() ä¸ºä¾‹ï¼š As an example, the Linux fork() syscall has no direct equivalent call documented for Windows. When a fork system call is made to the Windows Subsystem for Linux, lxcore.sys does some of the initial work to prepare for copying the process. It then calls internal Windows NT kernel APIs to create the process with the correct semantics, and completes copying additional data for the new process. ä»¥ Linux çš„ chmod ä¸ºä¾‹ï¼š Linux Instance äº§ç”Ÿé™„åŠ  metadataï¼Œåªç”± Linux æ–‡ä»¶ç³»ç»Ÿèƒ½ç†è§£ï¼Œ Windows æ–‡ä»¶ç³»ç»Ÿå¹¶ä¸èƒ½ç†è§£ï¼Œä½†æ˜¯ Windows Kernel ä»ä¼šæ¥æ”¶è¯¥ metadataã€‚ä½†æ˜¯ NTFS å¯¹è¿™ä¸ª metadata æ— åŠ¨äºè¡·ï¼Œè€Œæ˜¯ lxss.sys å¤„ç†è¯¥ metadataï¼Œæœ€ç»ˆåæ˜ åˆ° ext4 ä¸­ã€‚ç”±æ­¤å¯è§ï¼ŒWSL 1 éå¸¸å¤§çš„å·¥ä½œé‡éƒ½è¦èŠ±åœ¨åº”å¯¹ä¸å…¼å®¹çš„æŒ‡ä»¤é›†ã€‚ PS: å°½ç®¡ Linux çš„å†…æ ¸æ›´æ–°å¾—éå¸¸å¿«ï¼Œç”¨æˆ·æ¨¡å¼çš„æ¥å£å´æ˜¯ç›¸å¯¹å›ºå®šçš„ï¼Œæ‰€ä»¥å¯ä»¥è®¤ä¸ºâ€œWSL 1 abstracts the Linux kernel via their interfaceâ€ File System ç”±äº Windows å’Œ Linux çš„æ–‡ä»¶ç³»ç»Ÿä¹Ÿä¸ç›¸åŒï¼ˆWindows çš„æ–‡ä»¶ç³»ç»Ÿæ˜¯ NTFSï¼ŒLinux çš„æ–‡ä»¶ç³»ç»Ÿæ˜¯ ext4ï¼‰ï¼Œä¸èƒ½ç›´æ¥äº’ç›¸æ“ä½œã€‚WSL çš„æ–‡ä»¶ç³»ç»Ÿè®¾è®¡éœ€è¦æ»¡è¶³ä¸¤ç‚¹ï¼š å®Œæ•´æ”¯æŒ Linux æ–‡ä»¶ç³»ç»Ÿ å¯è®¿é—®å’Œæ“ä½œ Windows ä¸­çš„ç£ç›˜å’Œæ–‡ä»¶ ä¸ºå®ç°ä»¥ä¸Šçš„ç›®æ ‡ WSL å¼•å…¥äº†ä¸¤å¥—æ–‡ä»¶ç³»ç»Ÿï¼ˆVolFs and DriveFsï¼‰ã€‚ VolFs æ–‡ä»¶ç³»ç»Ÿä¸»è¦æä¾›äº† Linux æ–‡ä»¶ç³»ç»Ÿç‰¹æ€§çš„æ”¯æŒï¼Œæ¯”å¦‚ Linux æ–‡ä»¶ç›®å½•ï¼ˆ/etc, /bin, /usr, etc.ï¼‰ã€æƒé™ç®¡ç†å’Œç¬¦å·é“¾æ¥ç­‰ç­‰ã€‚DriveDs æ–‡ä»¶ç³»ç»Ÿä¸»è¦ç”¨äºä¸ Windows åšäº¤äº’ï¼Œæ¯”å¦‚ Windows æ–‡ä»¶ç›®å½•ï¼ˆ/mnt/c, /mnt/d, etc.ï¼‰ã€å¯åŠ¨ Windows çš„å¯æ‰§è¡Œæ–‡ä»¶ç­‰ç­‰ã€‚ PS: éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸¤å¥—æ–‡ä»¶ç³»ç»Ÿä¹‹é—´æ˜¯å¦‚ä½•è¿›è¡Œäº¤äº’çš„å¹¶æœªåœ¨åŸåšå®¢è¯¦ç»†è®¨è®ºï¼Œæ„Ÿå…´è¶£çš„å°ä¼™ä¼´å¯è‡ªè¡Œé˜…è¯»ç»­ç¯‡ WSL File System Support æ€»ç»“ ç®€å•çš„ç†è§£ï¼šWSL 1 åœ¨ Windows Kernel ä¹‹ä¸Šåˆ›å»º Linux Instanceï¼ŒWin32 Process é€šè¿‡ LXSS Manager Service ç®¡ç† Pico Processï¼Œç”¨æˆ·æ¨¡å¼çš„ Linux Instance å’Œå†…æ ¸æ¨¡å¼çš„ Windows Kernel ä¹‹é—´é€šè¿‡ Pico Drivers äº¤æµï¼Œä¾é ä¸­é—´å±‚é©±åŠ¨å™¨ç¿»è¯‘å¯ä»¥è§£å†³ System Calls ä¸å…¼å®¹çš„é—®é¢˜ï¼Œè®¾è®¡ä¸¤å¥—æ–‡ä»¶ç³»ç»Ÿèƒ½å¤Ÿæ»¡è¶³åŒæ—¶ä½¿ç”¨ Windows å’Œ Linux çš„éœ€è¦ã€‚ å‚è€ƒé“¾æ¥ Windows Subsystem for Linux Overview Project Drawbridge","link":"/2019/12/13/WSLä»å…¥é—¨åˆ°...(2)/"},{"title":"#Operation# WSLä»å…¥é—¨åˆ°...(4) Quick Start on WSL","text":"å®‰è£…ã€é…ç½®å¹¶ä½¿ç”¨ WSL ï¼Œä¸»è¦åˆ†ä¸ºä»¥ä¸‹äº”ä¸ªéƒ¨åˆ†ï¼š å‰æƒ…æè¦ å®‰è£…å‘è¡Œç‰ˆæœ¬ ç¼–å†™é…ç½®è„šæœ¬ ä½¿ç”¨ç›¸å…³å‘½ä»¤ å‚è€ƒé“¾æ¥ ç›®å½• Table of Contents å‰æƒ…æè¦ å®‰è£…å‘è¡Œç‰ˆæœ¬ Step 1: å¼€å¯æ”¯æŒ WSL é€‰é¡¹ Step 2: å®‰è£… Linux å‘è¡Œç‰ˆæœ¬ Step 3: é…ç½® Linux å‘è¡Œç‰ˆæœ¬ ç¼–å†™é…ç½®è„šæœ¬ è‡ªåŠ¨æŒ‚è½½ ç½‘ç»œé…ç½® äº¤äº’æ“ä½œ å…·ä½“ç¤ºä¾‹ ä½¿ç”¨ç›¸å…³å‘½ä»¤ æŸ¥çœ‹ç‰ˆæœ¬åˆ—è¡¨ è®¾ç½®é»˜è®¤ç‰ˆæœ¬ é‡æ–°å®‰è£…ç‰ˆæœ¬ æŒ‡å®šå‚æ•°ç™»å½• äº¤äº’æ“ä½œé€‰æ‹© Windowså‘½ä»¤è¡Œè¿è¡ŒLinuxå·¥å…· Linuxå‘½ä»¤è¡Œè¿è¡ŒWindowså·¥å…· å‚è€ƒé“¾æ¥ å‰æƒ…æè¦ ç»ˆäºç»“æŸæ¼«é•¿çš„å¬åŠ›ç¿»è¯‘å’Œé˜…è¯»ç†è§£ï¼Œå¼€å§‹çœŸæ­£ææœºï¼ˆæœŸå¾…åœ°æ“æ‰‹æ‰‹.gifã€‚æœ¬æ–‡å°†è§£é” WSL 1 åˆä½“éªŒï¼ˆå‘ç° Windows build ç‰ˆæœ¬å¥½åƒå¿«è½åäº†ä¸€ä¸ªä¸–çºªï¼ŒWSL 2 è£…ä¸äº†æƒ¹ã€‚ å®‰è£…å‘è¡Œç‰ˆæœ¬ é…ç½®ç›¸å…³ï¼š Windows 10 å®¶åº­ä¸­æ–‡ç‰ˆ 1903 64 ä½æ“ä½œç³»ç»Ÿï¼ŒåŸºäº x64 çš„å¤„ç†å™¨ WSL 1 Ubuntu 16.04 LTS Alpine WSL Step 1: å¼€å¯æ”¯æŒ WSL é€‰é¡¹ æ–¹æ³•ä¸€ï¼šæ§åˆ¶é¢æ¿è®¾ç½® â€œæ§åˆ¶é¢æ¿â€ -&gt; â€œç¨‹åºâ€ -&gt; â€œå¯ç”¨æˆ–å…³é—­ Windows åŠŸèƒ½â€ -&gt; â€œé€‚ç”¨äº Linux çš„ Windows å­ç³»ç»Ÿâ€ é‡å¯ç”µè„‘ æ–¹æ³•äºŒï¼šè¾“å…¥å‘½ä»¤è®¾ç½® â€œWindows PowerShellï¼ˆä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œï¼‰â€ -&gt; Enable-WindowsOptionalFeature -Online -FeatureName Microsoft-Windows-Subsystem-Linux é‡å¯ç”µè„‘ Step 2: å®‰è£… Linux å‘è¡Œç‰ˆæœ¬ æ–¹æ³•ä¸€ï¼šMicrosoft Store å®‰è£… æ‰“å¼€åº”ç”¨å•†åº— é€‰æ‹©å‘è¡Œç‰ˆæœ¬ Ubuntu 16.04 LTS Ubuntu 18.04 LTS OpenSUSE Leap 15 OpenSUSE Leap 42 SUSE Linux Enterprise Server 12 SUSE Linux Enterprise Server 15 Kali Linux Debian GNU/Linux Fedora Remix for WSL Pengwin Pengwin Enterprise Alpine WSL å®‰è£…å‘è¡Œç‰ˆæœ¬ æ–¹æ³•äºŒï¼šCommand-Line/Script å®‰è£… Manually download Windows Subsystem for Linux distro packages Step 3: é…ç½® Linux å‘è¡Œç‰ˆæœ¬ å¯åŠ¨å·²å®‰è£…å¥½çš„ Linux å‘è¡Œç‰ˆæœ¬ ç‚¹å‡»å¯åŠ¨ï¼š èœå•æ å•å‡»è¿è¡Œå‘è¡Œç‰ˆæœ¬ ç£è´´æ¿å•å‡»è¿è¡Œå‘è¡Œç‰ˆæœ¬ å‘½ä»¤å¯åŠ¨ï¼š bash.exe ï¼šé»˜è®¤ç›®å½•ä¸º Windows ç”¨æˆ·ç›®å½• distro.exeï¼šé»˜è®¤ç›®å½•ä¸º Linux ç”¨æˆ·ç›®å½• wsl.exeï¼šå…è®¸ Windows å’Œ Linux çš„å‘½ä»¤æ··ç”¨ ç­‰å¾… Linux å‘è¡Œç‰ˆæœ¬è§£å‹ç¼©å’Œåˆå§‹åŒ– åˆ›å»º Linux ä¸‹çš„æ–°ç”¨æˆ·åŠå…¶å¯†ç  ç®¡ç†å‘˜ç”¨æˆ·ä¹‹ä¸€ æ¯æ¬¡è¿›å…¥çš„é»˜è®¤ç”¨æˆ· ä¸ Windows ç”¨æˆ·åæ— å…³ å®šæœŸæ›´æ–° Linux ä¸‹çš„ Package sudo apt update &amp;&amp; sudo apt upgrade PS: å¸¸è§æŠ¥é”™è§£å†³é¡µ ğŸ‘‰ WSL troubleshooting page ç¼–å†™é…ç½®è„šæœ¬ WSL æ”¯æŒä½¿ç”¨ wsl.conf æ¥åˆå§‹åŒ–è‡ªåŠ¨æŒ‚è½½å’Œç½‘ç»œé…ç½®ä¸¤å¤§åŠŸèƒ½ã€‚wsl.conf ä½äº /etcç›®å½•ï¼Œå¦‚æœæ–‡ä»¶å·²å­˜åœ¨ï¼ŒWSL ä¼šè‡ªåŠ¨è¯»å–é€‚é…ï¼›å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œå¯ä»¥è‡ªè¡Œåœ¨ç›®å½•å†…æ–°å»ºï¼›å¦‚æœæ–‡ä»¶å‡ºé”™äº†ï¼ŒWSL ä¼šå¿½ç•¥é…ç½®æ–‡ä»¶ã€‚ è‡ªåŠ¨æŒ‚è½½Section Label: [automount] key value default notes enabled boolean true true causes fixed drives (i.e C:/ or D:/) to be automatically mounted with DrvFs under /mnt. false means drives wonâ€™t be mounted automatically, but you could still mount them manually or via fstab. mountFsTab boolean true true sets /etc/fstab to be processed on WSL start. /etc/fstab is a file where you can declare other filesystems, like an SMB share. Thus, you can mount these filesystems automatically in WSL on start up. root String /mnt/ Sets the directory where fixed drives will be automatically mounted. For example, if you have a directory in WSL at /windir/and you specify that as the root, you would expect to see your fixed drives mounted at /windir/c options comma-separated list of values empty string This value is appended to the default DrvFs mount options string. Only DrvFs-specific options can be specified. Options that the mount binary would normally parse into a flag are not supported. If you want to explicitly specify those options, you must include every drive for which you want to do so in /etc/fstab. ç½‘ç»œé…ç½®Section label: [network] key value default notes generateHosts boolean true true sets WSL to generate /etc/hosts. The hosts file contains a static map of hostnames corresponding IP address. generateResolvConf boolean true true set WSL to generate /etc/resolv.conf. The resolv.conf contains a DNS list that are capable of resolving a given hostname to its IP address. äº¤äº’æ“ä½œSection label: [interop] These options are available in Insider Build 17713 and later. key value default notes enabled boolean true Setting this key will determine whether WSL will support launching Windows processes. appendWindowsPath boolean true Setting this key will determine whether WSL will add Windows path elements to the $PATH environment variable. å…·ä½“ç¤ºä¾‹1234567891011# Enable extra metadata options by default[automount]enabled = trueroot = /windir/options = \"metadata,umask=22,fmask=11\"mountFsTab = false# Enable DNS â€“ even though these are turned on by default, weâ€™ll specify here just to be explicit.[network]generateHosts = truegenerateResolvConf = true ä½¿ç”¨ç›¸å…³å‘½ä»¤æŸ¥çœ‹ç‰ˆæœ¬åˆ—è¡¨ wsl -l, wsl --listï¼šå¯ç”¨çš„ Linux å‘è¡Œç‰ˆ wsl --list --allï¼š æœªå¯ç”¨å’Œå·²å¯ç”¨çš„ Linux å‘è¡Œç‰ˆ wsl --list --runningï¼šè¿è¡Œçš„ Linux å‘è¡Œç‰ˆ è®¾ç½®é»˜è®¤ç‰ˆæœ¬ wsl -s &lt;DistributionName&gt;, wsl --setdefault &lt;DistributionName&gt; é‡æ–°å®‰è£…ç‰ˆæœ¬ wsl --unregister &lt;DistributionName&gt; é‡å¤â€œå®‰è£…å‘è¡Œç‰ˆæœ¬â€çš„â€œStep 3: é…ç½® Linux å‘è¡Œç‰ˆæœ¬â€ æŒ‡å®šå‚æ•°ç™»å½• wsl -d, wsl --distributionï¼šæŒ‡å®šç‰ˆæœ¬ç™»å½• wsl -u, wsl --userï¼šæŒ‡å®šç”¨æˆ·ç™»å½• äº¤äº’æ“ä½œé€‰æ‹© $ echo 0 &gt; /proc/sys/fs/binfmt_misc/WSLInteropï¼šåœç”¨äº¤äº’æ“ä½œ $ echo 1 &gt; /proc/sys/fs/binfmt_misc/WSLInteropï¼šå¼€å¯äº¤äº’æ“ä½œ Windowså‘½ä»¤è¡Œè¿è¡ŒLinuxå·¥å…· wsl &lt;LinuxCommand&gt; 12345C:\\temp&gt; wsl ls -la | findstr \"foo\"-rwxrwxrwx 1 root root 14 Sep 27 14:26 foo.batC:\\temp&gt; dir | wsl grep foo09/27/2016 02:26 PM 14 foo.bat Linuxå‘½ä»¤è¡Œè¿è¡ŒWindowså·¥å…· &lt;WindowsCommand&gt; 123456$ cmd.exe /C dir&lt;- contents of C:\\ -&gt;$ PING.EXE www.microsoft.comPinging e1863.dspb.akamaiedge.net [2600:1409:a:5a2::747] with 32 bytes of data:Reply from 2600:1409:a:5a2::747: time=2ms PS: ä»¥ä¸Šé€‚ç”¨äº â€œWindows 10 Version 1903 and laterâ€œ, â€œVersions Earlier than Windows 10 Version 1903 â€œçš„å¯¹åº”ç›®å½•è¯·æŸ¥çœ‹æ–‡æœ«çš„å‚è€ƒé“¾æ¥ã€‚Windows Insiders Builds 17063 èµ·æ”¯æŒ Windows å’Œ Linux å…±äº«ç¯å¢ƒå˜é‡ï¼›Fall Creators Update èµ· Windows Path å°†åŠ å…¥ Linux $PATH ã€‚ å‚è€ƒé“¾æ¥ Windows Subsystem for Linux Documentation","link":"/2020/01/14/WSLä»å…¥é—¨åˆ°...(4)/"},{"title":"#Configuration# ä»é›¶åˆ°å£¹ï¼šGitHub Pages + Hexo = Blog","text":"åˆ©ç”¨GitHub Pages+Hexoæ‰“é€ ä¸€ä¸ªä¸ªäººåšå®¢ï¼Œä¸»è¦åˆ†ä¸ºä»¥ä¸‹äº”ä¸ªéƒ¨åˆ†ï¼š ç¯å¢ƒå‡†å¤‡ Environment æ–‡ä»¶è®¾ç½® Configuration ä¸ªæ€§é€‰é¡¹ Customization åšå®¢å†™ä½œ Writing åšå®¢å¤‡ä»½ Backup ç›®å½• Table of Contents ç¯å¢ƒå‡†å¤‡ Environment å®‰è£…Git + Github å®‰è£…Node.js å®‰è£…Hexo æ–‡ä»¶è®¾ç½® Configuration æœ¬åœ°è¿è¡Œ è¿œç¨‹è¿è¡Œ åŸºæœ¬é…ç½® ä¸ªæ€§é€‰é¡¹ Customization åŸºæœ¬é…ç½® åšå®¢å†™ä½œ Writing åšå®¢å¤‡ä»½ Backup å¾…åŠäº‹é¡¹ Todos ç¯å¢ƒå‡†å¤‡ Environmentå®‰è£…Git + Github å®‰è£…Gitéƒ¨ç½²æ’ä»¶: 1$ npm install hexo-deployer-git --save å®‰è£…Node.js å®‰è£…Node.js: Download | Node.js æ£€æŸ¥æ˜¯å¦å®‰è£…æˆåŠŸ: 12$ node -v$ npm -v å®‰è£…Hexo å®‰è£…Hexo: 1$ npm install -g hexo-cli æ£€æŸ¥æ˜¯å¦å®‰è£…æˆåŠŸ: 1$ hexo -v åˆå§‹åŒ–: 1$ hexo init blog æ–‡ä»¶è®¾ç½® Configurationæœ¬åœ°è¿è¡Œ123$ hexo clean # åˆ é™¤ç¼“å­˜$ hexo g # ç”ŸæˆHexoé¡µé¢$ hexo s # æœ¬åœ°éƒ¨ç½²Hexoé¡µé¢ è¿œç¨‹è¿è¡Œ123$ hexo clean # åˆ é™¤ç¼“å­˜$ hexo g # ç”ŸæˆHexoé¡µé¢$ hexo d # è¿œç¨‹éƒ¨ç½²Hexoé¡µé¢ åŸºæœ¬é…ç½®/_config.yml 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485# Hexo Configuration## Docs: https://hexo.io/docs/configuration.html## Source: https://github.com/hexojs/hexo/# Sitetitle: LotteWong's Blog # ä¸ªäººåšå®¢ä¸»æ ‡é¢˜subtitle: åœ¨ä»£ç ç¬¦å·è¡¨è±¡ä¸­é¿éš¾ã€‚ # ä¸ªäººåšå®¢å‰¯æ ‡é¢˜description: # æœç´¢å¼•æ“æè¿°è¯keywords: # æœç´¢å¼•æ“å…³é”®è¯author: LotteWong # ä½œè€…åç§°avatar: ./public/images/avatar.png # ä½œè€…å¤´åƒlanguage: en # ç½‘ç«™è¯­è¨€timezone: Asia/Shanghai # ç½‘ç«™æ—¶åŒº# URL## If your site is put in a subdirectory, set url as 'http://yoursite.com/child' and root as '/child/'url: https://lottewong.github.ioroot: /permalink: :year/:month/:day/:title/permalink_defaults:# Directorysource_dir: source # æ–‡ç« ç›®å½•public_dir: public # ç´ æç›®å½•tag_dir: tags # æ ‡ç­¾ç›®å½•archive_dir: archives # å½’æ¡£ç›®å½•category_dir: categories # åˆ†ç±»ç›®å½•code_dir: downloads/codei18n_dir: :langskip_render:# Writingnew_post_name: :title.md # File name of new postsdefault_layout: posttitlecase: false # Transform title into titlecaseexternal_link: true # Open external links in new tabfilename_case: 0render_drafts: falsepost_asset_folder: falserelative_link: falsefuture: truehighlight: enable: true line_number: true auto_detect: false tab_replace: # Home page setting# path: Root path for your blogs index page. (default = '')# per_page: Posts displayed per page. (0 = disable pagination)# order_by: Posts order. (Order by date descending by default)index_generator: path: '' per_page: 10 order_by: -date # Category &amp; Tagdefault_category: uncategorizedcategory_map:tag_map:# Date / Time format## Hexo uses Moment.js to parse and display date## You can customize the date format as defined in## http://momentjs.com/docs/#/displaying/format/date_format: YYYY-MM-DDtime_format: HH:mm:ss# Pagination## Set per_page to 0 to disable paginationper_page: 10pagination_dir: page# Extensions## Plugins: https://hexo.io/plugins/## Themes: https://hexo.io/themes/plugins: # è®¾ç½®ä¸ªäººåšå®¢æ’ä»¶theme: icarus # è®¾ç½®ä¸ªäººåšå®¢ä¸»é¢˜# Deployment## Docs: https://hexo.io/docs/deployment.htmldeploy: type: git # éƒ¨ç½²ç±»å‹ repo: git@github.com:LotteWong/lottewong.github.io.git # éƒ¨ç½²ä»“åº“ branch: master # éƒ¨ç½²åˆ†æ”¯ ä¸ªæ€§é€‰é¡¹ CustomizationåŸºæœ¬é…ç½®/themes/icarus/_config.yml 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225# Version of the Icarus theme that is currently usedversion: 2.3.0# Path or URL to the website's iconfavicon: /images/favicon.ico# Path or URL to RSS atom.xmlrss: ./atom.xml# Path or URL to the website's logo to be shown on the left of the navigation bar or footerlogo: /images/logo.png# Open Graph metadata# https://hexo.io/docs/helpers.html#open-graphopen_graph: # Facebook App ID # fb_app_id: # Facebook Admin ID # fb_admins: # Twitter ID # twitter_id: # Twitter site # twitter_site: # Google+ profile link # google_plus: # Navigation bar link settings é¡¶éƒ¨æ è®¾ç½®navbar: # Navigation bar menu links menu: Home: / Archives: /archives Categories: /categories Tags: /tags About: /about # Navigation bar links to be shown on the right links: Email: icon: far fa-envelope-open url: mailto:lottewong21@gmail.com# Footer section link settings é¡µå°¾æ è®¾ç½®footer: # Links to be shown on the right of the footer section links: GitHub: icon: fab fa-github url: 'https://github.com/LotteWong' RSS: icon: fas fa-rss url: /atom.xml# Sidebar settings. ä¾§è¾¹æ è®¾ç½®# Please be noted that a sidebar is only visible when it has at least one widgetsidebar: # left sidebar settings left: # Whether the left sidebar is sticky when page scrolls # https://ppoffice.github.io/hexo-theme-icarus/Configuration/Theme/make-a-sidebar-sticky-when-page-scrolls/ sticky: false # right sidebar settings right: # Whether the right sidebar is sticky when page scrolls # https://ppoffice.github.io/hexo-theme-icarus/Configuration/Theme/make-a-sidebar-sticky-when-page-scrolls/ sticky: false# Sidebar widget settings ä¾§è¾¹æ è®¾ç½®# https://ppoffice.github.io/hexo-theme-icarus/categories/Widgets/widgets: - # Widget name type: profile # Where should the widget be placed, left or right position: left # Author name to be shown in the profile widget author: LotteWong # Title of the author to be shown in the profile widget author_title: SCUT, Undergraduate # Author's current location to be shown in the profile widget location: Guangzhou, China # Path or URL to the avatar to be shown in the profile widget avatar: # Email address for the Gravatar to be shown in the profile widget gravatar: # Whether to show avatar image rounded or square avatar_rounded: false # Path or URL for the follow button follow_link: 'https://github.com/LotteWong' # Links to be shown on the bottom of the profile widget social_links: Organization: icon: fas fa-sitemap url: 'https://github.com/SCUTMSC' Project: icon: fas fa-project-diagram url: 'https://github.com/scutse-man-month-myth/InkYear' - # Widget name type: toc # Where should the widget be placed, left or right position: left - # Widget name type: links # Where should the widget be placed, left or right position: left # Links to be shown in the links widget links: Bokjan: 'https://bokjan.com/' Kingsley: 'https://kingsleyxie.cn/' sticnarf: 'https://sticnarf.me/' ahalims: 'https://ahalims.github.io/' xcw: 'https://yifanyu123.github.io/' - # Widget name type: archive # Where should the widget be placed, left or right position: left - # Widget name type: tagcloud # Where should the widget be placed, left or right position: left - # Widget name type: recent_posts # Where should the widget be placed, left or right position: right - # Widget name type: category # Where should the widget be placed, left or right position: right - # Widget name type: tag # Where should the widget be placed, left or right position: right# Article display settingsarticle: highlight: atom-one-light # Code highlight theme # https://github.com/highlightjs/highlight.js/tree/master/src/styles # theme: atom-one-light # Show code copying button # clipboard: true # Default folding status of the code blocks. Can be \"\", \"folded\", \"unfolded\" # fold: unfolded # Whether to show article thumbnail images thumbnail: true # Whether to show estimate article reading time readtime: true# Search plugin settings æœç´¢åŠŸèƒ½æ’ä»¶# https://ppoffice.github.io/hexo-theme-icarus/categories/Plugins/Searchsearch: # Name of the search plugin type: insight# Comment plugin settings è¯„è®ºåŠŸèƒ½æ’ä»¶# https://ppoffice.github.io/hexo-theme-icarus/categories/Plugins/Commentcomment: # Name of the comment plugin type: # Donation entries æ‰“èµåŠŸèƒ½æ’ä»¶# https://ppoffice.github.io/hexo-theme-icarus/categories/Donation/donate: # - # Donation entry name # type: alipay # Qrcode image URL # qrcode: '/images/alipay.png' # - # Donation entry name # type: wechat # Qrcode image URL # qrcode: '/images/wechat.png' # - # Donation entry name # type: paypal # Paypal business ID or email address # business: 'SuperGsama@outlook.com' # Currency code # currency_code: USD# Share plugin settings åˆ†äº«åŠŸèƒ½æ’ä»¶# https://ppoffice.github.io/hexo-theme-icarus/categories/Plugins/Shareshare: # Share plugin name type: # Other plugin settingsplugins: # Enable page animations animejs: true # Enable the lightGallery and Justified Gallery plugins # https://ppoffice.github.io/hexo-theme-icarus/Plugins/General/gallery-plugin/ gallery: true # Enable the Outdated Browser plugin # http://outdatedbrowser.com/ outdated-browser: true # Enable the MathJax plugin # https://ppoffice.github.io/hexo-theme-icarus/Plugins/General/mathjax-plugin/ mathjax: true # Show the back to top button on mobile devices back-to-top: true # Google Analytics plugin settings # https://ppoffice.github.io/hexo-theme-icarus/Plugins/General/site-analytics-plugin/#Google-Analytics google-analytics: # Google Analytics tracking id tracking_id: # Baidu Analytics plugin settings # https://ppoffice.github.io/hexo-theme-icarus/Plugins/General/site-analytics-plugin/#Baidu-Analytics baidu-analytics: # Baidu Analytics tracking id tracking_id: # Hotjar user feedback plugin # https://ppoffice.github.io/hexo-theme-icarus/Plugins/General/site-analytics-plugin/#Hotjar hotjar: # Hotjar site id site_id: # Show a loading progress bar at top of the page progressbar: true # Show the copy button in the highlighted code area clipboard: true # BuSuanZi site/page view counter # https://busuanzi.ibruce.info busuanzi: true# CDN provider settings# https://ppoffice.github.io/hexo-theme-icarus/Configuration/Theme/speed-up-your-site-with-custom-cdn/providers: # Name or URL of the JavaScript and/or stylesheet CDN provider cdn: jsdelivr # Name or URL of the webfont CDN provider fontcdn: google # Name or URL of the webfont Icon CDN provider iconcdn: fontawesome åšå®¢å†™ä½œ Writing é»˜è®¤ 1$ hexo new \"blog title\" è‡ªå®šä¹‰ 1234567891011121314151617181920title: {{ blog title }}categories: {{ blog category }}tags:- {{ blog tag }}date: {{ YYYY-MM-DD HH:MM:SS }}thumbnail: {{ blog thumbnail }}{{ Abstract }}---&lt;!-- more --&gt;&lt;!-- toc --&gt;---{{ Content }}--- åšå®¢å¤‡ä»½ Backup Hexoå¤‡ä»½: 12# master branch$ hexo d Codeå¤‡ä»½: 12345# dev branch$ git checkout dev$ git add --all$ git commit -m \"new blog\"$ git push origin dev å¾…åŠäº‹é¡¹ Todos å¯¹åº”å›¾æ ‡ æ›´å¤šæ’ä»¶ ç»‘å®šåŸŸå æ›´æ–°å¤–é“¾","link":"/2019/06/02/ä»é›¶åˆ°å£¹ï¼šGitHub Pages + Hexo = Blog/"}],"tags":[{"name":"Linux","slug":"Linux","link":"/tags/Linux/"},{"name":"Fiddler","slug":"Fiddler","link":"/tags/Fiddler/"},{"name":"Curl","slug":"Curl","link":"/tags/Curl/"},{"name":"Socket","slug":"Socket","link":"/tags/Socket/"},{"name":"Docker","slug":"Docker","link":"/tags/Docker/"},{"name":"GitHub Pages","slug":"GitHub-Pages","link":"/tags/GitHub-Pages/"},{"name":"Hexo","slug":"Hexo","link":"/tags/Hexo/"}],"categories":[{"name":"Operation","slug":"Operation","link":"/categories/Operation/"},{"name":"Sucks","slug":"Sucks","link":"/categories/Sucks/"},{"name":"Testing","slug":"Testing","link":"/categories/Testing/"},{"name":"Cloud Computing","slug":"Cloud-Computing","link":"/categories/Cloud-Computing/"},{"name":"Configuration","slug":"Configuration","link":"/categories/Configuration/"}]}