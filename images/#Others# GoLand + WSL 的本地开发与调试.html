<h1 id="Others-GoLand-WSL-的本地开发与调试"><a href="#Others-GoLand-WSL-的本地开发与调试" class="headerlink" title="#Others# GoLand + WSL 的本地开发与调试"></a>#Others# GoLand + WSL 的本地开发与调试</h1><ul>
<li><code>GoLand</code> as <code>IDE</code></li>
<li><code>WSL2</code> as <code>go run/go build environment</code></li>
</ul>
<hr>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a><strong>前言</strong></h1><blockquote>
<p>最近申请了一台新的开发机打算捣鼓一下（（（离我完美的工作环境就差搬去前海大厦和第二个显示屏了惹 嘿嘿 :P</p>
</blockquote>
<h1 id="环境准备"><a href="#环境准备" class="headerlink" title="环境准备"></a><strong>环境准备</strong></h1><h2 id="本地环境"><a href="#本地环境" class="headerlink" title="本地环境"></a>本地环境</h2><ol>
<li>GoLand 2021.2.1 Beta</li>
</ol>
<h2 id="远程环境"><a href="#远程环境" class="headerlink" title="远程环境"></a>远程环境</h2><ol>
<li>Go（<a href="https://learnku.com/go/t/47176">安装指南</a>）</li>
<li>Docker（<a href="https://zhuanlan.zhihu.com/p/148511634">安装指南</a>）</li>
<li>Ubuntu WSL2（<a href="https://segmentfault.com/a/1190000040143442">安装指南</a>）</li>
</ol>
<h1 id="WSL配置"><a href="#WSL配置" class="headerlink" title="WSL配置"></a>WSL配置</h1><h2 id="配置默认版本"><a href="#配置默认版本" class="headerlink" title="配置默认版本"></a>配置默认版本</h2><pre><code class="bash"><span class="comment"># 指定默认版本</span>
wslconfig /list
wslconfig /setdefault ubuntu
wsl -l -v

<span class="comment"># 升级WSL2版本</span>
wsl --<span class="built_in">set</span>-default-version 2</code></pre>
<h2 id="限制资源使用"><a href="#限制资源使用" class="headerlink" title="限制资源使用"></a>限制资源使用</h2><pre><code class="bash"><span class="comment"># Step 1：在 C:\Users\${user} 中创建 .wslconfig 文件</span>
[wsl2]
processors=4
memory=8GB
swap=8GB
localhostForwarding=<span class="literal">true</span>
<span class="comment"># Step 2：重启 WSL2</span>
wsl --shutdown
<span class="comment"># Step 3：重启 Docker Desktop</span></code></pre>
<h2 id="配置共享目录"><a href="#配置共享目录" class="headerlink" title="配置共享目录"></a>配置共享目录</h2><pre><code class="bash">ln -s /mnt/f/ubuntu ~/windows</code></pre>
<h1 id="GoLand配置"><a href="#GoLand配置" class="headerlink" title="GoLand配置"></a><strong>GoLand配置</strong></h1><h2 id="DEBUG-on-WSL"><a href="#DEBUG-on-WSL" class="headerlink" title="DEBUG on WSL"></a>DEBUG on WSL</h2><p><img src="/images/wsl_go_build_config.png" alt="WSL Go Build Config"></p>
<p><img src="/images/wsl_new_target_config_step_1.png" alt="WSL New Target Config Step 1"></p>
<p><img src="/images/wsl_new_target_config_step_2.png" alt="WSL New Target Config Step 2"></p>
<h2 id="DEBUG-on-SSH"><a href="#DEBUG-on-SSH" class="headerlink" title="DEBUG on SSH"></a>DEBUG on SSH</h2><p><img src="/images/ssh_go_build_config.png" alt="SSH Go Build Config"></p>
<p><img src="/images/ssh_new_target_config_step_1.png" alt="SSH New Target Config Step 1"></p>
<p><img src="/images/ssh_new_target_config_step_2.png" alt="SSH New Target Config Step 2"></p>
<p><img src="/images/ssh_new_target_config_step_3.png" alt="SSH New Target Config Step 3"></p>
<p><img src="/images/ssh_new_target_config_step_4.png" alt="SSH New Target Config Step 4"></p>
<h1 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a><strong>参考文献</strong></h1><ol>
<li><a href="https://hangzhi.github.io/2021/06/24/wsl2GolandThanosDev/">使用 WSL2 + Goland 进行 Go 项目（Thanos）开发及测试</a></li>
</ol>
