<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>LotteWong&#39;s Blog</title>
  
  <subtitle>åœ¨ä»£ç ç¬¦å·è¡¨è±¡ä¸­é¿éš¾ã€‚</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://lottewong.github.io/"/>
  <updated>2020-03-01T15:30:36.167Z</updated>
  <id>https://lottewong.github.io/</id>
  
  <author>
    <name>LotteWong</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>#Golang# Golangä¸ç¼–ç¨‹èŒƒå¼(1) é¢å‘å¯¹è±¡ç¼–ç¨‹</title>
    <link href="https://lottewong.github.io/2020/03/01/Golang%E4%B8%8E%E7%BC%96%E7%A8%8B%E8%8C%83%E5%BC%8F(1)/"/>
    <id>https://lottewong.github.io/2020/03/01/Golang%E4%B8%8E%E7%BC%96%E7%A8%8B%E8%8C%83%E5%BC%8F(1)/</id>
    <published>2020-02-29T23:00:21.000Z</published>
    <updated>2020-03-01T15:30:36.167Z</updated>
    
    <content type="html"><![CDATA[<p>ä»‹ç» <code>Golang</code> ä¸­çš„<strong>é¢å‘å¯¹è±¡</strong>æ€æƒ³å®è·µï¼Œä¸»è¦è®¨è®ºä»¥ä¸‹<strong>å››ä¸ªéƒ¨åˆ†</strong>ï¼š</p><ul><li><strong>ç±»å’Œå¯¹è±¡</strong></li><li><strong>å°è£…</strong></li><li><strong>ç»§æ‰¿</strong> </li><li><strong>å¤šæ€</strong></li></ul><hr><a id="more"></a><h1><span id="ç›®å½•-table-of-contents"><strong>ç›®å½• Table of Contents</strong></span></h1><!-- toc --><ul><li><a href="#å‰æƒ…æè¦">å‰æƒ…æè¦</a></li><li><a href="#ç±»å’Œå¯¹è±¡"><strong>ç±»å’Œå¯¹è±¡</strong></a><ul><li><a href="#c-çš„ç±»å’Œå¯¹è±¡"><code>C++</code> çš„ç±»å’Œå¯¹è±¡</a></li><li><a href="#golangçš„ç±»å’Œå¯¹è±¡"><code>Golang</code>çš„â€œç±»å’Œå¯¹è±¡â€</a></li><li><a href="#åŒºåˆ«è”ç³»">åŒºåˆ«è”ç³»</a><ul><li><a href="#è€¦åˆç¨‹åº¦">è€¦åˆç¨‹åº¦</a></li><li><a href="#this-æŒ‡é’ˆ"><code>this</code> æŒ‡é’ˆ</a></li><li><a href="#æ„é€ ä¸ææ„">æ„é€ ä¸ææ„</a></li></ul></li></ul></li><li><a href="#å°è£…"><strong>å°è£…</strong></a><ul><li><a href="#java-çš„å°è£…"><code>Java</code> çš„å°è£…</a></li><li><a href="#golang-çš„å°è£…"><code>Golang</code> çš„å°è£…</a></li><li><a href="#ä¸€äº›è¯´æ˜">ä¸€äº›è¯´æ˜</a></li></ul></li><li><a href="#ç»§æ‰¿"><strong>ç»§æ‰¿</strong></a><ul><li><a href="#c-çš„ç»§æ‰¿"><code>C++</code> çš„ç»§æ‰¿</a></li><li><a href="#golang-çš„ç»§æ‰¿"><code>Golang</code> çš„ç»§æ‰¿</a></li><li><a href="#ä¸€äº›è¯´æ˜-1">ä¸€äº›è¯´æ˜</a></li></ul></li><li><a href="#å¤šæ€"><strong>å¤šæ€</strong></a><ul><li><a href="#è¯­è¨€åŸºç¡€">è¯­è¨€åŸºç¡€</a><ul><li><a href="#æ¥å£">æ¥å£</a></li><li><a href="#æ–­è¨€">æ–­è¨€</a></li></ul></li><li><a href="#golang-çš„å¤šæ€"><code>Golang</code> çš„å¤šæ€</a><ul><li><a href="#é‡è½½">é‡è½½</a></li><li><a href="#é‡å†™å’ŒåŠ¨æ€ç»‘å®š">é‡å†™å’ŒåŠ¨æ€ç»‘å®š</a></li></ul></li></ul></li><li><a href="#å‚è€ƒé“¾æ¥"><strong>å‚è€ƒé“¾æ¥</strong></a></li><li><a href="#è‡´è°¢"><strong>è‡´è°¢</strong></a></li></ul><!-- tocstop --><hr><h2><span id="å‰æƒ…æè¦">å‰æƒ…æè¦</span></h2><blockquote><p><code>Golang</code> çš„èµ·æºå—è¯¸å¤šæ—©æœŸç¼–ç¨‹è¯­è¨€çš„å½±å“ã€‚ç±» <code>C</code> è®© <code>Golang</code> æœ¬è´¨ä¸Šæ›´å€¾å‘äºæ˜¯ä¸€é—¨<strong>é¢å‘è¿‡ç¨‹</strong>çš„è¯­è¨€ï¼ŒåŒæ—¶<code>Golang</code> ä¹Ÿå€Ÿé‰´äº† <code>Alef</code> æ¥è®¾è®¡ <code>Golang</code> çš„<strong>å‡½æ•°å¼ç¼–ç¨‹</strong>ç‰¹æ€§ï¼Œèåˆ <code>CSP</code> ä¸­ä½¿ç”¨ç®¡é“è¿›è¡Œé€šä¿¡å’Œæ§åˆ¶åŒæ­¥çš„æ€æƒ³åˆ™å¾ˆå¥½åœ°ä½“ç°äº†å¦‚ä½•<strong>é¢å‘æ¶ˆæ¯</strong>ç¼–ç¨‹ã€‚</p><p>è™½ç„¶ <code>Golang</code> ä¸æ˜¯ä¸€é—¨ä¼ ç»Ÿçš„<strong>é¢å‘å¯¹è±¡</strong>è¯­è¨€ï¼Œä½†æ˜¯ <code>Golang</code> çš„è®¾è®¡å´æ·±å—é¢å‘å¯¹è±¡æ€æƒ³çš„å½±å“ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸€ç§ <code>Golang</code> çš„æ–¹å¼æ¥å®ç°é¢å‘å¯¹è±¡çš„é‡è¦ç‰¹æ€§ï¼Œè¿™ä¹Ÿæ˜¯æ¥ä¸‹æ¥å°†è¦è®¨è®ºçš„é‡ç‚¹ã€‚</p></blockquote><p><em>PSï¼šæœ¬æ–‡ just ä¸€ç‚¹è‡ªå·±çš„è§è§£ï¼Œå­¦è¯†æœ‰é™éš¾å…æœ‰è¯¯ï¼Œä¹Ÿå¸Œæœ›å¯ä»¥æŠ›ç –å¼•ç‰ï¼Œæ¬¢è¿å¤§å®¶çš„å‹˜è¯¯å’Œè®¨è®ºâ•°(ï¿£Ï‰ï¿£ï½)</em></p><h2><span id="ç±»å’Œå¯¹è±¡"><strong>ç±»å’Œå¯¹è±¡</strong></span></h2><br><blockquote><p>ä¼—æ‰€å‘¨çŸ¥ğŸ¤«ï¼Œ<strong>ç±»å’Œå¯¹è±¡</strong>æ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹çš„çµé­‚ï¼ˆï¼Ÿç±»å®šä¹‰äº†ä¸€ä»¶äº‹ç‰©çš„æŠ½è±¡ç‰¹ç‚¹ï¼ŒåŒ…å«äº†<strong>æ•°æ®çš„å½¢å¼å’Œå¯¹æ•°æ®çš„æ“ä½œ</strong>ï¼›å¯¹è±¡æ˜¯ç±»çš„å®ä¾‹ï¼Œå¯ä»¥é€šè¿‡<strong>æ„é€ å‡½æ•°å’Œææ„å‡½æ•°</strong>æ¥è¿›è¡Œå¯¹ç”Ÿæˆå’Œé”€æ¯çš„ç‰¹æ®Šå¤„ç†ã€‚</p></blockquote><h3><span id="c-çš„ç±»å’Œå¯¹è±¡"><code>C++</code> çš„ç±»å’Œå¯¹è±¡</span></h3><figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Person</span> &#123;</span></span><br><span class="line"><span class="hljs-keyword">private</span>:</span><br><span class="line">    <span class="hljs-comment">// æ•°æ®æˆå‘˜</span></span><br><span class="line"><span class="hljs-built_in">string</span> name;</span><br><span class="line">    </span><br><span class="line"><span class="hljs-keyword">protected</span>:</span><br><span class="line">    <span class="hljs-comment">// æ•°æ®æ–¹æ³•</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-built_in">string</span> <span class="hljs-title">getName</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>-&gt;name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setName</span><span class="hljs-params">(<span class="hljs-built_in">string</span> name)</span> </span>&#123;</span><br><span class="line"><span class="hljs-keyword">this</span>-&gt;name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="hljs-keyword">public</span>:</span><br><span class="line">    <span class="hljs-comment">// æ„é€ å‡½æ•°</span></span><br><span class="line">    Person(<span class="hljs-built_in">string</span> name) &#123;</span><br><span class="line">        <span class="hljs-keyword">this</span>-&gt;name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-comment">// ææ„å‡½æ•°</span></span><br><span class="line">    ~Person() &#123;</span><br><span class="line">        <span class="hljs-comment">// ...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">    Person* somebody = <span class="hljs-keyword">new</span> Person(<span class="hljs-string">"Bot"</span>);</span><br><span class="line"><span class="hljs-built_in">cout</span> &lt;&lt; somebody-&gt;getName() &lt;&lt; <span class="hljs-built_in">endl</span>; <span class="hljs-comment">// Output: Bot</span></span><br><span class="line">somebody-&gt;setName(<span class="hljs-string">"Exp"</span>);</span><br><span class="line">    <span class="hljs-built_in">cout</span> &lt;&lt; somebody-&gt;getName() &lt;&lt; <span class="hljs-built_in">endl</span>; <span class="hljs-comment">// Output: Exp</span></span><br><span class="line">   </span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3><span id="golangçš„ç±»å’Œå¯¹è±¡"><code>Golang</code>çš„â€œç±»å’Œå¯¹è±¡â€</span></h3><figure class="highlight go hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">type</span> Person <span class="hljs-keyword">struct</span> &#123;</span><br><span class="line">    <span class="hljs-comment">// æ•°æ®æˆå‘˜</span></span><br><span class="line">    name <span class="hljs-keyword">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// æ•°æ®æ–¹æ³•</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(this *Person)</span> <span class="hljs-title">GetName</span><span class="hljs-params">()</span> <span class="hljs-title">string</span></span> &#123;</span><br><span class="line">    <span class="hljs-keyword">return</span> p.name</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(this *Person)</span> <span class="hljs-title">SetName</span><span class="hljs-params">(name <span class="hljs-keyword">string</span>)</span></span> &#123;</span><br><span class="line">    p.name = name</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// æ„é€ å‡½æ•°</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">NewPerson</span><span class="hljs-params">(<span class="hljs-keyword">string</span> name)</span> *<span class="hljs-title">Person</span></span> &#123;</span><br><span class="line">    <span class="hljs-keyword">return</span> &amp;Person&#123;</span><br><span class="line">        name: name,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// ææ„å‡½æ•°</span></span><br><span class="line"><span class="hljs-comment">// ç”±äº Golang é‡‡ç”¨åƒåœ¾å›æ”¶æœºåˆ¶ï¼Œä¸€èˆ¬ä¸éœ€è¦æ˜¾å¼å†™ææ„å‡½æ•°</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;</span><br><span class="line">    somebody := NewPerson(<span class="hljs-string">"Bot"</span>)</span><br><span class="line">    fmt.Println(somebody.getName()) <span class="hljs-comment">// Output: Bot</span></span><br><span class="line">    somebody.SetName(<span class="hljs-string">"Exp"</span>)</span><br><span class="line">    fmt.Println(somebody.getName()) <span class="hljs-comment">// Output: Exp</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3><span id="åŒºåˆ«è”ç³»">åŒºåˆ«è”ç³»</span></h3><h4><span id="è€¦åˆç¨‹åº¦">è€¦åˆç¨‹åº¦</span></h4><ul><li><p><code>C++</code> çš„ç±»æ˜¯é¢å‘ <code>class</code> è€Œè¨€çš„ï¼Œ<strong>æ•°æ®æˆå‘˜å’Œæ•°æ®æ–¹æ³•éƒ½å¿…é¡»åœ¨ <code>class</code> å†…ä¿®æ”¹</strong>ï¼Œå¯è§è€¦åˆç¨‹åº¦è¾ƒé«˜ã€‚</p></li><li><p><code>Golang</code> çš„â€œç±»â€æ˜¯é¢å‘ <code>type</code> è€Œè¨€çš„ï¼Œ<strong>æ•°æ®æˆå‘˜åœ¨ <code>struct</code> å†…ä¿®æ”¹</strong>ï¼Œ<strong>æ•°æ®æ–¹æ³•åˆ™æ˜¯å¯ä»¥åœ¨ä»»æ„å¤„å¢åˆ  <code>(recv *receiver_type)</code> å¯¹åº”çš„æ–¹æ³•</strong>ï¼Œå¯è§è€¦åˆç¨‹åº¦è¾ƒä½ã€‚</p><p><em>PSï¼šè¿™é‡Œ <code>type</code> çš„å¤–å»¶æ¯” <code>class</code> è¦å¹¿ï¼Œ<code>type</code> é™¤åŒ…æ‹¬*</em>è‡ªå®šä¹‰ç±»å‹<strong>å¤–è¿˜æ”¯æŒ</strong>å†…ç½®ç±»å‹çš„åˆ«å***</p></li></ul><h4><span id="this-æŒ‡é’ˆ"><code>this</code> æŒ‡é’ˆ</span></h4><ul><li><p><code>C++</code> å¯¹è±¡çš„ <code>this</code> æŒ‡é’ˆå¸¸å¸¸æ˜¯<strong>éšå¼</strong>çš„ï¼Œæ¯ä¸€ä¸ªæ•°æ®æ–¹æ³•å®é™…ä¸Šéƒ½éšå¼ä¼ å…¥äº†ä¸€ä¸ªæŒ‡å‘è¯¥å¯¹è±¡çš„ <code>this</code> æŒ‡é’ˆï¼š</p><figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setName</span><span class="hljs-params">([Person* <span class="hljs-keyword">this</span>], <span class="hljs-built_in">string</span> name)</span> </span>&#123;</span><br><span class="line"><span class="hljs-keyword">this</span>-&gt;name = name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><code>Golang</code> â€œå¯¹è±¡â€çš„ <code>this</code> æŒ‡é’ˆå¿…é¡»æ˜¯<strong>æ˜¾å¼</strong>çš„ï¼Œä¸éš¾çœ‹å‡º <code>this</code> æŒ‡é’ˆæ˜¯è¿æ¥ <code>Golang</code> ä¸­ç±»å‹å’Œæ–¹æ³•çš„å…³é”®æ¡¥æ¢ï¼š</p><figure class="highlight go hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(this *Person)</span> <span class="hljs-title">setName</span><span class="hljs-params">(<span class="hljs-keyword">string</span> name)</span></span> &#123;</span><br><span class="line">    this.name = name</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h4><span id="æ„é€ ä¸ææ„">æ„é€ ä¸ææ„</span></h4><ul><li><code>C++</code> çš„æ„é€ å‡½æ•°å’Œææ„å‡½æ•°æ˜¯æ¯”è¾ƒå®¹æ˜“ç†è§£çš„ï¼Œæ„é€ å‡½æ•°åœ¨å¯¹è±¡åˆ›å»ºæ—¶è¢«<strong>è‡ªåŠ¨è°ƒç”¨</strong>ï¼Œææ„å‡½æ•°åœ¨å¯¹è±¡é”€æ¯æ—¶è¢«<strong>è‡ªåŠ¨è°ƒç”¨</strong>ã€‚ç”±äº <code>C++</code> æ— åƒåœ¾å›æ”¶æœºåˆ¶ï¼Œ<strong>å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸå’Œä½œç”¨åŸŸç´§å¯†ç›¸å…³</strong>ã€‚</li><li><code>Golang</code> ä¸¥æ ¼ä¸Šæ¥è¯´æ²¡æœ‰æ„é€ å‡½æ•°å’Œææ„å‡½æ•°çš„è¯´æ³•ï¼Œå¯ä»¥<strong>é€šè¿‡ç”¨æ¥ä¸“é—¨åšåˆå§‹åŒ–çš„å‡½æ•°</strong>æ¥æ¨¡æ‹Ÿæ„é€ å‡½æ•°ï¼Œè€Œ<strong><code>defer</code> å’Œ <code>finalizer</code></strong> æœ‰ç±»ä¼¼ææ„çš„æ„å‘³ï¼Œä½†æœ¬è´¨è¿˜æ˜¯å¾ˆä¸åŒçš„ã€‚ç”±äº <code>Golang</code> æœ‰åƒåœ¾å›æ”¶æœºåˆ¶ï¼Œ<strong>å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸå–å†³äºä½•æ—¶è¢« <code>GC</code> è¿›ç¨‹å›æ”¶</strong>ï¼Œä¸€èˆ¬è€Œè¨€å½“å˜é‡ä¸å†è¢«å¼•ç”¨å°±ä¼šè¢«åƒåœ¾å›æ”¶æ‰ã€‚</li></ul><h2><span id="å°è£…"><strong>å°è£…</strong></span></h2><br><blockquote><p><strong>å°è£…</strong> aka <strong>ä¿¡æ¯éšè—</strong>ï¼Œå…¶å®åŒ…å«äº†ä¸¤å±‚æ„æ€ï¼šä¸€æ˜¯è°ƒç”¨æ–¹<strong>æ— é¡»å…³å¿ƒ</strong>å®ç°ç»†èŠ‚ï¼ŒäºŒæ˜¯è°ƒç”¨æ–¹<strong>æ— æ³•æ›´æ”¹</strong>å®ç°ç»†èŠ‚ã€‚å°è£…åœ¨ç¼–ç¨‹è¯­è¨€ä¸­ä¸€èˆ¬ä½“ç°åœ¨<strong>è®¿é—®æƒé™</strong>ä¸­ã€‚</p></blockquote><h3><span id="java-çš„å°è£…"><code>Java</code> çš„å°è£…</span></h3><ul><li>ä»¥ç»å…¸çš„ OO è¯­è¨€ <code>Java</code> ä¸ºä¾‹ï¼Œç”±äº <code>Java</code> åŒæ—¶å­˜åœ¨<strong>ç±»</strong>å’Œ<strong>åŒ…</strong>çš„æ¦‚å¿µï¼Œå…¶è®¿é—®æƒé™éœ€è¦è€ƒè™‘åˆ°ä¸¤ä¸ªç»´åº¦ï¼Œç›¸å¯¹è€Œè¨€æ¯”è¾ƒå¤æ‚ã€‚å…¶ä¸­ï¼Œ<code>Java</code> çš„è®¿é—®æƒé™<strong>é€šè¿‡å…³é”®å­—å®šä¹‰</strong>ï¼š<ul><li><code>public</code>ï¼š<strong>å…¬å…±å¯è§</strong>ï¼Œæ‰€æœ‰ç±»å¯è§</li><li><code>protected</code>ï¼š<strong>ç»§æ‰¿å¯è§</strong>ï¼Œå¿…é¡»ä¸ºç»§æ‰¿å…³ç³»ï¼Œå…è®¸è·¨åŒ…</li><li><code>[default]</code>ï¼š<strong>åŒ…å†…å¯è§</strong>ï¼Œä¸è¦æ±‚ç»§æ‰¿å…³ç³»ï¼Œä»…é™åŒåŒ…</li><li><code>private</code>ï¼š<strong>ç§æœ‰å¯è§</strong>ï¼Œä»…æœ¬ç±»å¯è§</li></ul></li></ul><h3><span id="golang-çš„å°è£…"><code>Golang</code> çš„å°è£…</span></h3><ul><li>è€Œåœ¨ <code>Golang</code> ä¸­æ²¡æœ‰æ‰€è°“çš„ç±»å’Œå¯¹è±¡æ¦‚å¿µï¼ˆæˆ–è€…è¯´å¯ä»¥ç”¨å¾ˆ <code>Golang</code> çš„æ–¹å¼ç±»ä¼¼å®ç°ï¼‰ï¼Œä½†å¼•å…¥äº†<strong>åŒ…</strong>ç®¡ç†æœºåˆ¶ï¼Œ<code>Golang</code> ä¸­åªæœ‰ç®€åŒ–çš„ä¸¤å±‚è®¿é—®æƒé™ã€‚å…¶ä¸­ï¼Œ<code>Golang</code> çš„è®¿é—®æƒé™<strong>é€šè¿‡æ ‡è¯†ç¬¦å¤§å°å†™å®šä¹‰</strong>ï¼š<ul><li><code>æ ‡è¯†ç¬¦é¦–å­—æ¯å¤§å†™</code>ï¼š<strong>åŒ…å¤–å¯è§</strong>ï¼Œæ‰€æœ‰çš„åŒ…å‡å¯è§</li><li><code>æ ‡è¯†ç¬¦é¦–å­—æ¯å°å†™</code>ï¼š<strong>åŒ…å†…å¯è§</strong>ï¼Œæœ¬åŒ…æ–‡ä»¶å‡å¯è§</li></ul></li></ul><h3><span id="ä¸€äº›è¯´æ˜">ä¸€äº›è¯´æ˜</span></h3><ul><li><code>Golang</code> ä¸­çš„ <strong><code>æ ‡è¯†ç¬¦é¦–å­—æ¯å¤§å†™</code></strong> ç±»ä¼¼äº <code>Java</code> ä¸­çš„ <strong><code>public</code></strong></li><li><code>Golang</code> ä¸­çš„ <strong><code>æ ‡è¯†ç¬¦é¦–å­—æ¯å°å†™</code></strong> ç±»ä¼¼äº <code>Java</code> ä¸­çš„ <strong><code>[default]</code></strong></li></ul><h2><span id="ç»§æ‰¿"><strong>ç»§æ‰¿</strong></span></h2><br><blockquote><p><strong>ç»§æ‰¿</strong>æ¶‰åŠä¸‰æ–¹é¢çš„å†…å®¹ï¼šä¸€æ˜¯å­ç±»å¯ä»¥<strong>ä½¿ç”¨</strong>çˆ¶ç±»çš„å±æ€§å’Œæ–¹æ³•ï¼Œé¿å…é‡å¤ç¼–ç ï¼›äºŒæ˜¯å­ç±»å¯ä»¥<strong>è¦†ç›–</strong>çˆ¶ç±»çš„å±æ€§å’Œæ–¹æ³•ï¼Œæ˜¯å®ç°å¤šæ€çš„å¿…è¦æ¡ä»¶ä¹‹ä¸€ï¼›ä¸‰æ˜¯å­ç±»å¯ä»¥<strong>è¿½åŠ </strong>å±äºè‡ªå·±çš„å±æ€§å’Œæ–¹æ³•ï¼Œå®Œæˆå­ç±»çš„å®šåˆ¶åŠŸèƒ½ã€‚</p></blockquote><h3><span id="c-çš„ç»§æ‰¿"><code>C++</code> çš„ç»§æ‰¿</span></h3><figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Parent</span> &#123;</span></span><br><span class="line"><span class="hljs-keyword">public</span>:</span><br><span class="line">    <span class="hljs-comment">// ...</span></span><br><span class="line">    </span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">parentFunc</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        <span class="hljs-comment">// ...</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">parentFunc</span><span class="hljs-params">(params)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-comment">// ...</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">overrideFunc</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        <span class="hljs-comment">// Parent class content</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Child</span>:</span> <span class="hljs-keyword">public</span> Parent &#123;</span><br><span class="line"><span class="hljs-keyword">public</span>:</span><br><span class="line">    <span class="hljs-comment">// ...</span></span><br><span class="line">    </span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">overrideFunc</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        <span class="hljs-comment">// Child class content</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">childFunc</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        <span class="hljs-comment">// ...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">    Child* child = <span class="hljs-keyword">new</span> Child();</span><br><span class="line">    child-&gt;parentFunc(); <span class="hljs-comment">// ä½¿ç”¨çˆ¶ç±»æ–¹æ³•</span></span><br><span class="line">    child-&gt;overrideFunc(); <span class="hljs-comment">// ä½¿ç”¨å·²è¦†ç›–çš„å­ç±»æ–¹æ³•</span></span><br><span class="line">    child-&gt;Parent::overrideFunc(); <span class="hljs-comment">// ä½¿ç”¨æœªè¦†ç›–çš„çˆ¶ç±»æ–¹æ³•</span></span><br><span class="line">    child-&gt;childFunc(); <span class="hljs-comment">// ä½¿ç”¨å­ç±»æ–¹æ³•</span></span><br><span class="line">    </span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3><span id="golang-çš„ç»§æ‰¿"><code>Golang</code> çš„ç»§æ‰¿</span></h3><figure class="highlight go hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">type</span> Parent <span class="hljs-keyword">struct</span> &#123;</span><br><span class="line">    <span class="hljs-comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(p *Parent)</span> <span class="hljs-title">ParentFunc</span><span class="hljs-params">()</span></span> &#123;</span><br><span class="line">    <span class="hljs-comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(p *Parent)</span> <span class="hljs-title">OverrideFunc</span><span class="hljs-params">()</span></span> &#123;</span><br><span class="line">    <span class="hljs-comment">// Parent class content</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">type</span> Child <span class="hljs-keyword">struct</span> &#123;</span><br><span class="line">    parent Parent</span><br><span class="line">    <span class="hljs-comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(c *Child)</span> <span class="hljs-title">OverrideFunc</span><span class="hljs-params">()</span></span> &#123;</span><br><span class="line">    <span class="hljs-comment">// Child class content</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(c *Child)</span> <span class="hljs-title">ChildFunc</span><span class="hljs-params">()</span></span> &#123;</span><br><span class="line">    <span class="hljs-comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;</span><br><span class="line">    child := &amp;Child&#123;&#125;</span><br><span class="line">    child.ParentFunc() <span class="hljs-comment">// ä½¿ç”¨çˆ¶ç±»æ–¹æ³•</span></span><br><span class="line">    child.OverrideFunc() <span class="hljs-comment">// ä½¿ç”¨å·²è¦†ç›–çš„å­ç±»æ–¹æ³•</span></span><br><span class="line">    child.parent.OverrideFunc() <span class="hljs-comment">// ä½¿ç”¨æœªè¦†ç›–çš„çˆ¶ç±»æ–¹æ³•</span></span><br><span class="line">    child.ChildFunc() <span class="hljs-comment">// ä½¿ç”¨å­ç±»æ–¹æ³•</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3><span id="ä¸€äº›è¯´æ˜">ä¸€äº›è¯´æ˜</span></h3><ul><li><code>C++</code> çš„ç»§æ‰¿æ›´åƒæ˜¯<strong>é“¾å¼ç»§æ‰¿</strong>ï¼Œä»çˆ¶ç±»åˆ°å­ç±»è¿›è¡Œæ„é€ ï¼Œä»å­ç±»åˆ°çˆ¶ç±»è¿›è¡Œè®¿é—®</li><li><code>Golang</code> çš„ç»§æ‰¿æ›´åƒæ˜¯<strong>ç»„åˆç»§æ‰¿</strong>ï¼Œå­ç±»é€šè¿‡å†…åµŒä¸€ä¸ªæˆ–å¤šä¸ªçˆ¶ç±»</li><li>ä» <code>Golang</code> çš„ç»§æ‰¿æœºåˆ¶å®¹æ˜“çœ‹å‡ºå®ƒæ”¯æŒ<strong>å¤šç»§æ‰¿</strong>ï¼Œä¸€äº›ç¼–ç¨‹è¯­è¨€ï¼ˆå¦‚ <code>Java</code>ï¼‰ä»…æ”¯æŒ<strong>å•ç»§æ‰¿</strong></li></ul><h2><span id="å¤šæ€"><strong>å¤šæ€</strong></span></h2><br><blockquote><p><strong>å¤šæ€</strong>æŒ‡<strong>åŒä¸€æ“ä½œ</strong>ä½œç”¨äº<strong>ä¸åŒçš„å¯¹è±¡</strong>ï¼Œå¯ä»¥æœ‰ä¸åŒçš„è§£é‡Šï¼Œäº§ç”Ÿ<strong>ä¸åŒçš„æ‰§è¡Œç»“æœ</strong>ã€‚å½“æˆ‘ä»¬è®¨è®ºå¤šæ€æ—¶ï¼Œæˆ‘ä»¬å¸¸å¸¸ä¼šè®¨è®º<strong>é‡è½½</strong>ä»¥åŠ<strong>é‡å†™å’ŒåŠ¨æ€ç»‘å®š</strong>ã€‚</p></blockquote><h3><span id="è¯­è¨€åŸºç¡€">è¯­è¨€åŸºç¡€</span></h3><h4><span id="æ¥å£">æ¥å£</span></h4><ul><li><strong>ç±»å‹</strong>ç»‘å®š<strong>æ–¹æ³•é›†</strong>ï¼Œ<strong>æ¥å£</strong>å®šä¹‰<strong>æ–¹æ³•é›†</strong>ã€‚å¦‚æœç±»å‹ç»‘å®šçš„æ–¹æ³•é›†å’Œæ¥å£å®šä¹‰çš„æ–¹æ³•é›†é‡åˆï¼Œé‚£ä¹ˆ<strong>ç±»å‹</strong>å®ç°äº†<strong>æ¥å£</strong>ã€‚</li><li><strong>ç±»å‹å†…</strong>å®šä¹‰äº†æœ‰ä»€ä¹ˆ<strong>å±æ€§</strong>ï¼Œ<strong>æ¥å£å†…</strong>å®šä¹‰äº†æœ‰ä»€ä¹ˆ<strong>æ“ä½œ</strong>ï¼Œä¸¤è€…äº§ç”Ÿ<strong>å…³è”</strong>çš„å…³é”®æ˜¯<strong>æ–¹æ³•</strong>æ˜¯å¦éƒ½è¢«å®ç°ã€‚</li><li>æ¥å£æ˜¯<strong>éšå¼å®ç°</strong>çš„ï¼Œä¸éœ€è¦æ˜¾å¼å£°æ˜ï¼›æ¥å£æ˜¯ä¸€ç§ç‰¹æ®Šçš„ç±»å‹ï¼Œå®ƒå¯ä»¥<strong>è¢«èµ‹å€¼æˆå®ä¾‹çš„æŒ‡é’ˆæˆ–å¼•ç”¨</strong>ã€‚</li><li>åŸºäºä»¥ä¸Šäº‹å®ï¼Œæˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼š<ul><li><strong>ä¸åŒçš„æ¥å£</strong>å¯ä»¥å®Œæˆ<strong>ä¸åŒçš„ç»„åˆæ“ä½œ</strong>ï¼›</li><li><strong>å¤šä¸ªç±»å‹</strong>å¯ä»¥å®ç°<strong>åŒä¸ªæ¥å£</strong>ï¼Œ<strong>ä¸€ä¸ªç±»å‹</strong>å¯ä»¥å®ç°<strong>å¤šä¸ªæ¥å£</strong>ï¼›</li><li><strong>ä¸åŒçš„ç±»å‹</strong>å®Œæˆ<strong>ä¸åŒçš„ç»„åˆæ“ä½œ</strong>ï¼Œçœ‹èµ·æ¥å´æ˜¯<strong>åŒä¸€ä¸ªæ¥å£</strong>ï¼Œè¿™å°±æ˜¯å¤šæ€ï¼</li></ul></li></ul><h4><span id="æ–­è¨€">æ–­è¨€</span></h4><ul><li><p>è™½ç„¶æˆ‘ä»¬æä¾›å¯¹å¤–æä¾›äº†ç»Ÿä¸€æ¥å£è°ƒç”¨çš„æ–¹æ¡ˆï¼Œä½†æ˜¯å¯¹å†…æˆ‘ä»¬åˆ°åº•å¦‚ä½•ä»æ¥å£å‡ºå‘è¾¨åˆ«çº·ç¹çš„ç±»å‹å‘¢ï¼Ÿç»™å®šä¸€ä¸ªç±»å‹æˆ‘ä»¬åˆè¯¥å¦‚ä½•ç¡®å®šå®ƒæ˜¯å¦å®ç°äº†æŸä¸ªæ¥å£ï¼Ÿ</p></li><li><p><strong>ç±»å‹æ–­è¨€å’Œç±»å‹é€‰æ‹©ï¼š</strong>ç»™å®šæ¥å£ç¡®å®šç±»å‹</p>  <figure class="highlight go hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// ç±»å‹æ–­è¨€</span></span><br><span class="line"><span class="hljs-keyword">if</span> _, ok := varI.(T); ok &#123;</span><br><span class="line"><span class="hljs-comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// ç±»å‹é€‰æ‹©</span></span><br><span class="line"><span class="hljs-keyword">switch</span> t := varI.(<span class="hljs-keyword">type</span>) &#123;</span><br><span class="line"><span class="hljs-keyword">case</span> T:</span><br><span class="line"><span class="hljs-comment">// ...</span></span><br><span class="line"><span class="hljs-keyword">case</span> <span class="hljs-literal">nil</span>:</span><br><span class="line"><span class="hljs-comment">// ...</span></span><br><span class="line"><span class="hljs-keyword">default</span>:</span><br><span class="line"><span class="hljs-comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>æ¥å£æ–­è¨€ï¼š</strong>ç»™å®šç±»å‹ç¡®å®šæ¥å£</p>  <figure class="highlight go hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// æ¥å£æ–­è¨€</span></span><br><span class="line"><span class="hljs-keyword">if</span> _, ok := varT.(I); ok &#123;</span><br><span class="line"><span class="hljs-comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h3><span id="golang-çš„å¤šæ€"><code>Golang</code> çš„å¤šæ€</span></h3><h4><span id="é‡è½½">é‡è½½</span></h4><ul><li><p><strong>é‡è½½</strong>æ˜¯æŒ‡æ ¹æ®ä¸åŒçš„æ–¹æ³•ç­¾åè°ƒç”¨ä¸åŒçš„å‡½æ•°å®ç°ã€‚</p></li><li><p><code>Golang</code> çš„è®¾è®¡æ€æƒ³ä¸­æ˜¯<strong>ä¸å…è®¸ä»»ä½•å½¢å¼çš„é‡è½½</strong>çš„ï¼Œè¿™æ˜¯ä¸ºäº†å¼ºåŒ–æ˜¾å¼åŒ–çš„é£æ ¼ã€‚</p><p><em>PSï¼šä¸åŒç±»å‹çš„æ¥æ”¶å™¨ç»‘å®šçš„åŒåæ–¹æ³•ï¼Œä¸¥æ ¼æ¥è¯´ä¸ç®—é‡è½½</em></p></li><li><p>å°½ç®¡ <code>Golang</code> æœ¬èº«ä¸æä¾›é‡è½½çš„æœºåˆ¶ï¼Œæˆ‘ä»¬è¿˜æ˜¯å¯ä»¥<strong>å€ŸåŠ©æ¥å£</strong>æ¥å®ç°ç±»ä¼¼çš„åŠŸèƒ½ã€‚</p>  <figure class="highlight go hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">Speak</span><span class="hljs-params">(persons ...<span class="hljs-keyword">interface</span>&#123;&#125;)</span></span> &#123;</span><br><span class="line">    <span class="hljs-keyword">for</span> _, person := <span class="hljs-keyword">range</span> persons &#123;</span><br><span class="line">        <span class="hljs-keyword">switch</span> t := person.(<span class="hljs-keyword">type</span>) &#123;</span><br><span class="line">        <span class="hljs-keyword">case</span> Chinese:</span><br><span class="line">            <span class="hljs-comment">// Speak Chinese</span></span><br><span class="line">        <span class="hljs-keyword">case</span> American:</span><br><span class="line">            <span class="hljs-comment">// Speak English</span></span><br><span class="line">        <span class="hljs-keyword">case</span> <span class="hljs-literal">nil</span>:</span><br><span class="line">            <span class="hljs-comment">// Error handler</span></span><br><span class="line">        <span class="hljs-keyword">default</span>:</span><br><span class="line">            <span class="hljs-comment">// Default handler</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;</span><br><span class="line">    chinese := Chinese&#123;&#125;</span><br><span class="line">    american := american&#123;&#125;</span><br><span class="line">    Speak(chinese) <span class="hljs-comment">// Speak Chinese</span></span><br><span class="line">    Speak(american) <span class="hljs-comment">// Speak English</span></span><br><span class="line">    Speak(chinese, american) <span class="hljs-comment">// chinese Speak Chinese, american Speak English</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h4><span id="é‡å†™å’ŒåŠ¨æ€ç»‘å®š">é‡å†™å’ŒåŠ¨æ€ç»‘å®š</span></h4><ul><li><p><strong>é‡å†™å’ŒåŠ¨æ€ç»‘å®š</strong>æ˜¯ä¸ºäº†å…è®¸å°†å­ç±»ç±»å‹çš„æŒ‡é’ˆèµ‹å€¼ç»™çˆ¶ç±»ç±»å‹çš„æŒ‡é’ˆï¼Œåœ¨è¿è¡Œæ—¶å¯ä»¥é€šè¿‡æŒ‡å‘çˆ¶ç±»çš„æŒ‡é’ˆæ¥è°ƒç”¨å®ç°å­ç±»ä¸­çš„æ–¹æ³•ã€‚</p></li><li><p>æ—¢ç„¶<code>Golang</code>ä¸­ä¸å­˜åœ¨ä¸¥æ ¼çš„ç±»å’Œå¯¹è±¡ï¼Œé‡å†™å’ŒåŠ¨æ€ç»‘å®šçš„ç†è®ºå…¶å®å¹¶ä¸å¤ªé€‚åˆ <code>Golang</code>ï¼Œæˆ‘ä»¬åªéœ€è¦å…³å¿ƒæ€ä¹ˆå°†<strong>åˆ©ç”¨ä¸€ä¸ªæ¥å£è®¿é—®å¯ä»¥å®šä½åˆ°å…·ä½“çš„ç±»å‹</strong>å°±å¯ä»¥äº†ã€‚</p></li><li><p><code>Golang</code> å®ç°äº†ç¼–è¯‘æ—¶<strong>é™æ€æ¥å£åˆ¤æ–­ï¼ˆç±»å‹æ˜¯å¦å®ç°æ¥å£ï¼‰</strong>ï¼Œ<strong>è¿è¡Œæ—¶åŠ¨æ€ç±»å‹é€‰æ‹©ï¼ˆåˆ°åº•æ˜¯å“ªç§ç±»å‹ï¼‰</strong>ã€‚</p>  <figure class="highlight go hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">type</span> Animal <span class="hljs-keyword">interface</span> &#123;</span><br><span class="line">    move()</span><br><span class="line">    <span class="hljs-comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">type</span> Bird <span class="hljs-keyword">struct</span> &#123;</span><br><span class="line">    <span class="hljs-comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(b *Bird)</span> <span class="hljs-title">move</span><span class="hljs-params">()</span></span> &#123;</span><br><span class="line">    <span class="hljs-comment">// fly</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">type</span> Pig <span class="hljs-keyword">struct</span> &#123;</span><br><span class="line">    <span class="hljs-comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(p *Pig)</span> <span class="hljs-title">move</span><span class="hljs-params">()</span></span> &#123;</span><br><span class="line">    <span class="hljs-comment">// walk</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;</span><br><span class="line">    <span class="hljs-keyword">var</span> animal Animal</span><br><span class="line">    bird := Bird&#123;&#125;</span><br><span class="line">    pig := Pig&#123;&#125;</span><br><span class="line"></span><br><span class="line">    animal = bird</span><br><span class="line">    animal.move() <span class="hljs-comment">// fly</span></span><br><span class="line"></span><br><span class="line">    animal = pig</span><br><span class="line">    animal.move() <span class="hljs-comment">// walk</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h2><span id="å‚è€ƒé“¾æ¥"><strong>å‚è€ƒé“¾æ¥</strong></span></h2><ul><li><a href="https://books.studygolang.com/gopl-zh/" target="_blank" rel="noopener">ã€ŠGoè¯­è¨€åœ£ç»ã€‹</a></li><li><a href="https://learnku.com/docs/the-way-to-go" target="_blank" rel="noopener">ã€ŠGoå…¥é—¨æŒ‡å—ã€‹</a></li></ul><h2><span id="è‡´è°¢"><strong>è‡´è°¢</strong></span></h2><blockquote><p>æ„Ÿè°¢ç‹åŒå­¦åšæŒä¸æ‡ˆçš„â€œå…«ç‚¹é’Ÿæ£€æŸ¥â€ä»¥åŠä¸€ç‚¹éƒ½ä¸å«Œå¼ƒçš„â€œåº·åº·åšå®¢â€ï¼Œè®©æˆ‘å¾—ä»¥åœ¨å¿«è¦å†™ä¸ä¸‹å»çš„æ—¶å€™è¿˜åšæŒç€åšä¸€äº›æœ‰æ„ä¹‰çš„å¤è¯»ï¼ŒXOXOã€‚</p></blockquote><hr>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ä»‹ç» &lt;code&gt;Golang&lt;/code&gt; ä¸­çš„&lt;strong&gt;é¢å‘å¯¹è±¡&lt;/strong&gt;æ€æƒ³å®è·µï¼Œä¸»è¦è®¨è®ºä»¥ä¸‹&lt;strong&gt;å››ä¸ªéƒ¨åˆ†&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ç±»å’Œå¯¹è±¡&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å°è£…&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç»§æ‰¿&lt;/strong&gt; &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¤šæ€&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
    
    </summary>
    
    
      <category term="Programming Language" scheme="https://lottewong.github.io/categories/Programming-Language/"/>
    
    
      <category term="Golang" scheme="https://lottewong.github.io/tags/Golang/"/>
    
      <category term="Programming Paradigm" scheme="https://lottewong.github.io/tags/Programming-Paradigm/"/>
    
  </entry>
  
  <entry>
    <title>#Operation# WSLä»å…¥é—¨åˆ°...(4) Quick Start on WSL</title>
    <link href="https://lottewong.github.io/2020/01/14/WSL%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0...(4)/"/>
    <id>https://lottewong.github.io/2020/01/14/WSL%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0...(4)/</id>
    <published>2020-01-13T23:00:21.000Z</published>
    <updated>2020-01-14T09:35:28.478Z</updated>
    
    <content type="html"><![CDATA[<p><strong>å®‰è£…</strong>ã€<strong>é…ç½®</strong>å¹¶<strong>ä½¿ç”¨</strong> WSL ï¼Œä¸»è¦åˆ†ä¸ºä»¥ä¸‹<strong>äº”ä¸ªéƒ¨åˆ†</strong>ï¼š</p><ul><li>å‰æƒ…æè¦</li><li><strong>å®‰è£…å‘è¡Œç‰ˆæœ¬</strong></li><li><strong>ç¼–å†™é…ç½®è„šæœ¬</strong></li><li><strong>ä½¿ç”¨ç›¸å…³å‘½ä»¤</strong></li><li>å‚è€ƒé“¾æ¥</li></ul><hr><a id="more"></a><h1><span id="ç›®å½•-table-of-contents"><strong>ç›®å½• Table of Contents</strong></span></h1><!-- toc --><ul><li><a href="#å‰æƒ…æè¦"><strong>å‰æƒ…æè¦</strong></a></li><li><a href="#å®‰è£…å‘è¡Œç‰ˆæœ¬"><strong>å®‰è£…å‘è¡Œç‰ˆæœ¬</strong></a><ul><li><a href="#step-1-å¼€å¯æ”¯æŒ-wsl-é€‰é¡¹">Step 1: å¼€å¯æ”¯æŒ WSL é€‰é¡¹</a></li><li><a href="#step-2-å®‰è£…-linux-å‘è¡Œç‰ˆæœ¬">Step 2: å®‰è£… Linux å‘è¡Œç‰ˆæœ¬</a></li><li><a href="#step-3-é…ç½®-linux-å‘è¡Œç‰ˆæœ¬">Step 3: é…ç½® Linux å‘è¡Œç‰ˆæœ¬</a></li></ul></li><li><a href="#ç¼–å†™é…ç½®è„šæœ¬"><strong>ç¼–å†™é…ç½®è„šæœ¬</strong></a><ul><li><a href="#è‡ªåŠ¨æŒ‚è½½">è‡ªåŠ¨æŒ‚è½½</a></li><li><a href="#ç½‘ç»œé…ç½®">ç½‘ç»œé…ç½®</a></li><li><a href="#äº¤äº’æ“ä½œ">äº¤äº’æ“ä½œ</a></li><li><a href="#å…·ä½“ç¤ºä¾‹">å…·ä½“ç¤ºä¾‹</a></li></ul></li><li><a href="#ä½¿ç”¨ç›¸å…³å‘½ä»¤"><strong>ä½¿ç”¨ç›¸å…³å‘½ä»¤</strong></a><ul><li><a href="#æŸ¥çœ‹ç‰ˆæœ¬åˆ—è¡¨">æŸ¥çœ‹ç‰ˆæœ¬åˆ—è¡¨</a></li><li><a href="#è®¾ç½®é»˜è®¤ç‰ˆæœ¬">è®¾ç½®é»˜è®¤ç‰ˆæœ¬</a></li><li><a href="#é‡æ–°å®‰è£…ç‰ˆæœ¬">é‡æ–°å®‰è£…ç‰ˆæœ¬</a></li><li><a href="#æŒ‡å®šå‚æ•°ç™»å½•">æŒ‡å®šå‚æ•°ç™»å½•</a></li><li><a href="#äº¤äº’æ“ä½œé€‰æ‹©">äº¤äº’æ“ä½œé€‰æ‹©</a></li><li><a href="#windowså‘½ä»¤è¡Œè¿è¡Œlinuxå·¥å…·">Windowså‘½ä»¤è¡Œè¿è¡ŒLinuxå·¥å…·</a></li><li><a href="#linuxå‘½ä»¤è¡Œè¿è¡Œwindowså·¥å…·">Linuxå‘½ä»¤è¡Œè¿è¡ŒWindowså·¥å…·</a></li></ul></li><li><a href="#å‚è€ƒé“¾æ¥"><strong>å‚è€ƒé“¾æ¥</strong></a></li></ul><!-- tocstop --><hr><h2><span id="å‰æƒ…æè¦"><strong>å‰æƒ…æè¦</strong></span></h2><br><p><em>ç»ˆäºç»“æŸæ¼«é•¿çš„å¬åŠ›ç¿»è¯‘å’Œé˜…è¯»ç†è§£ï¼Œå¼€å§‹çœŸæ­£ææœºï¼ˆæœŸå¾…åœ°æ“æ‰‹æ‰‹.gifã€‚æœ¬æ–‡å°†è§£é” WSL 1 åˆä½“éªŒï¼ˆå‘ç° Windows build ç‰ˆæœ¬å¥½åƒå¿«è½åäº†ä¸€ä¸ªä¸–çºªï¼ŒWSL 2 è£…ä¸äº†æƒ¹ã€‚</em></p><h2><span id="å®‰è£…å‘è¡Œç‰ˆæœ¬"><strong>å®‰è£…å‘è¡Œç‰ˆæœ¬</strong></span></h2><br><p><u>é…ç½®ç›¸å…³</u>ï¼š</p><ul><li>Windows 10 å®¶åº­ä¸­æ–‡ç‰ˆ 1903 </li><li>64 ä½æ“ä½œç³»ç»Ÿï¼ŒåŸºäº x64 çš„å¤„ç†å™¨</li><li>WSL 1</li><li>Ubuntu 16.04 LTS</li><li>Alpine WSL</li></ul><h3><span id="step-1-å¼€å¯æ”¯æŒ-wsl-é€‰é¡¹">Step 1: å¼€å¯æ”¯æŒ WSL é€‰é¡¹</span></h3><ul><li><p><strong>æ–¹æ³•ä¸€ï¼šæ§åˆ¶é¢æ¿è®¾ç½®</strong></p><ol><li><p>â€œæ§åˆ¶é¢æ¿â€ -&gt; â€œç¨‹åºâ€ -&gt; â€œå¯ç”¨æˆ–å…³é—­ Windows åŠŸèƒ½â€ -&gt; â€œé€‚ç”¨äº Linux çš„ Windows å­ç³»ç»Ÿâ€</p></li><li><p>é‡å¯ç”µè„‘</p></li></ol></li><li><p><strong>æ–¹æ³•äºŒï¼šè¾“å…¥å‘½ä»¤è®¾ç½®</strong></p><ol><li><p>â€œWindows PowerShellï¼ˆä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œï¼‰â€ -&gt; <code>Enable-WindowsOptionalFeature -Online -FeatureName Microsoft-Windows-Subsystem-Linux</code></p></li><li><p>é‡å¯ç”µè„‘</p></li></ol></li></ul><h3><span id="step-2-å®‰è£…-linux-å‘è¡Œç‰ˆæœ¬">Step 2: å®‰è£… Linux å‘è¡Œç‰ˆæœ¬</span></h3><ul><li><strong>æ–¹æ³•ä¸€ï¼šMicrosoft Store å®‰è£…</strong><ol><li>æ‰“å¼€åº”ç”¨å•†åº— </li><li>é€‰æ‹©å‘è¡Œç‰ˆæœ¬<ul><li><a href="https://www.microsoft.com/store/apps/9pjn388hp8c9" target="_blank" rel="noopener">Ubuntu 16.04 LTS</a></li><li><a href="https://www.microsoft.com/store/apps/9N9TNGVNDL3Q" target="_blank" rel="noopener">Ubuntu 18.04 LTS</a></li><li><a href="https://www.microsoft.com/store/apps/9n1tb6fpvj8c" target="_blank" rel="noopener">OpenSUSE Leap 15</a></li><li><a href="https://www.microsoft.com/store/apps/9njvjts82tjx" target="_blank" rel="noopener">OpenSUSE Leap 42</a></li><li><a href="https://www.microsoft.com/store/apps/9p32mwbh6cns" target="_blank" rel="noopener">SUSE Linux Enterprise Server 12</a></li><li><a href="https://www.microsoft.com/store/apps/9pmw35d7fnlx" target="_blank" rel="noopener">SUSE Linux Enterprise Server 15</a></li><li><a href="https://www.microsoft.com/store/apps/9PKR34TNCV07" target="_blank" rel="noopener">Kali Linux</a></li><li><a href="https://www.microsoft.com/store/apps/9MSVKQC78PK6" target="_blank" rel="noopener">Debian GNU/Linux</a></li><li><a href="https://www.microsoft.com/store/apps/9n6gdm4k2hnc" target="_blank" rel="noopener">Fedora Remix for WSL</a></li><li><a href="https://www.microsoft.com/store/apps/9NV1GV1PXZ6P" target="_blank" rel="noopener">Pengwin</a></li><li><a href="https://www.microsoft.com/store/apps/9N8LP0X93VCP" target="_blank" rel="noopener">Pengwin Enterprise</a></li><li><a href="https://www.microsoft.com/store/apps/9p804crf0395" target="_blank" rel="noopener">Alpine WSL</a></li></ul></li><li>å®‰è£…å‘è¡Œç‰ˆæœ¬</li></ol></li><li><strong>æ–¹æ³•äºŒï¼šCommand-Line/Script å®‰è£…</strong><ul><li><a href="https://docs.microsoft.com/en-us/windows/wsl/install-manual" target="_blank" rel="noopener">Manually download Windows Subsystem for Linux distro packages</a></li></ul></li></ul><h3><span id="step-3-é…ç½®-linux-å‘è¡Œç‰ˆæœ¬">Step 3: é…ç½® Linux å‘è¡Œç‰ˆæœ¬</span></h3><ol><li>å¯åŠ¨å·²å®‰è£…å¥½çš„ Linux å‘è¡Œç‰ˆæœ¬<ul><li>ç‚¹å‡»å¯åŠ¨ï¼š<ul><li>èœå•æ å•å‡»è¿è¡Œå‘è¡Œç‰ˆæœ¬</li><li>ç£è´´æ¿å•å‡»è¿è¡Œå‘è¡Œç‰ˆæœ¬</li></ul></li><li>å‘½ä»¤å¯åŠ¨ï¼š<ul><li><code>bash.exe</code> ï¼šé»˜è®¤ç›®å½•ä¸º Windows ç”¨æˆ·ç›®å½•</li><li><code>distro.exe</code>ï¼šé»˜è®¤ç›®å½•ä¸º Linux ç”¨æˆ·ç›®å½•</li><li><code>wsl.exe</code>ï¼šå…è®¸ Windows å’Œ Linux çš„å‘½ä»¤æ··ç”¨</li></ul></li></ul></li><li>ç­‰å¾… Linux å‘è¡Œç‰ˆæœ¬è§£å‹ç¼©å’Œåˆå§‹åŒ–</li><li>åˆ›å»º Linux ä¸‹çš„æ–°ç”¨æˆ·åŠå…¶å¯†ç <ul><li>ç®¡ç†å‘˜ç”¨æˆ·ä¹‹ä¸€</li><li>æ¯æ¬¡è¿›å…¥çš„é»˜è®¤ç”¨æˆ·</li><li>ä¸ Windows ç”¨æˆ·åæ— å…³</li></ul></li><li>å®šæœŸæ›´æ–° Linux ä¸‹çš„ Package<ul><li><code>sudo apt update &amp;&amp; sudo apt upgrade</code></li></ul></li></ol><p><em>PS: å¸¸è§æŠ¥é”™è§£å†³é¡µ ğŸ‘‰  <a href="https://docs.microsoft.com/en-us/windows/wsl/troubleshooting" target="_blank" rel="noopener">WSL troubleshooting page</a></em></p><h2><span id="ç¼–å†™é…ç½®è„šæœ¬"><strong>ç¼–å†™é…ç½®è„šæœ¬</strong></span></h2><br><p>WSL æ”¯æŒä½¿ç”¨ <code>wsl.conf</code> æ¥åˆå§‹åŒ–è‡ªåŠ¨æŒ‚è½½å’Œç½‘ç»œé…ç½®ä¸¤å¤§åŠŸèƒ½ã€‚<code>wsl.conf</code> ä½äº <code>/etc</code>ç›®å½•ï¼Œå¦‚æœæ–‡ä»¶å·²å­˜åœ¨ï¼ŒWSL ä¼šè‡ªåŠ¨è¯»å–é€‚é…ï¼›å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œå¯ä»¥è‡ªè¡Œåœ¨ç›®å½•å†…æ–°å»ºï¼›å¦‚æœæ–‡ä»¶å‡ºé”™äº†ï¼ŒWSL ä¼šå¿½ç•¥é…ç½®æ–‡ä»¶ã€‚</p><h3><span id="è‡ªåŠ¨æŒ‚è½½">è‡ªåŠ¨æŒ‚è½½</span></h3><p><u>Section Label</u>: <code>[automount]</code></p><table><thead><tr><th align="left">key</th><th align="left">value</th><th align="left">default</th><th align="left">notes</th></tr></thead><tbody><tr><td align="left">enabled</td><td align="left">boolean</td><td align="left">true</td><td align="left"><code>true</code> causes fixed drives (i.e <code>C:/</code> or <code>D:/</code>) to be automatically mounted with DrvFs under <code>/mnt</code>. <code>false</code> means drives wonâ€™t be mounted automatically, but you could still mount them manually or via <code>fstab</code>.</td></tr><tr><td align="left">mountFsTab</td><td align="left">boolean</td><td align="left">true</td><td align="left"><code>true</code> sets <code>/etc/fstab</code> to be processed on WSL start. /etc/fstab is a file where you can declare other filesystems, like an SMB share. Thus, you can mount these filesystems automatically in WSL on start up.</td></tr><tr><td align="left">root</td><td align="left">String</td><td align="left"><code>/mnt/</code></td><td align="left">Sets the directory where fixed drives will be automatically mounted. For example, if you have a directory in WSL at <code>/windir/</code>and you specify that as the root, you would expect to see your fixed drives mounted at <code>/windir/c</code></td></tr><tr><td align="left">options</td><td align="left">comma-separated list of values</td><td align="left">empty string</td><td align="left">This value is appended to the default DrvFs mount options string. <strong>Only DrvFs-specific options can be specified.</strong> Options that the mount binary would normally parse into a flag are not supported. If you want to explicitly specify those options, you must include every drive for which you want to do so in /etc/fstab.</td></tr></tbody></table><h3><span id="ç½‘ç»œé…ç½®">ç½‘ç»œé…ç½®</span></h3><p><u>Section label</u>: <code>[network]</code></p><table><thead><tr><th align="left">key</th><th align="left">value</th><th align="left">default</th><th align="left">notes</th></tr></thead><tbody><tr><td align="left">generateHosts</td><td align="left">boolean</td><td align="left"><code>true</code></td><td align="left"><code>true</code> sets WSL to generate <code>/etc/hosts</code>. The <code>hosts</code> file contains a static map of hostnames corresponding IP address.</td></tr><tr><td align="left">generateResolvConf</td><td align="left">boolean</td><td align="left"><code>true</code></td><td align="left"><code>true</code> set WSL to generate <code>/etc/resolv.conf</code>. The <code>resolv.conf</code> contains a DNS list that are capable of resolving a given hostname to its IP address.</td></tr></tbody></table><h3><span id="äº¤äº’æ“ä½œ">äº¤äº’æ“ä½œ</span></h3><p><u>Section label</u>: <code>[interop]</code></p><p>These options are available in Insider Build 17713 and later.</p><table><thead><tr><th align="left">key</th><th align="left">value</th><th align="left">default</th><th align="left">notes</th></tr></thead><tbody><tr><td align="left">enabled</td><td align="left">boolean</td><td align="left"><code>true</code></td><td align="left">Setting this key will determine whether WSL will support launching Windows processes.</td></tr><tr><td align="left">appendWindowsPath</td><td align="left">boolean</td><td align="left"><code>true</code></td><td align="left">Setting this key will determine whether WSL will add Windows path elements to the $PATH environment variable.</td></tr></tbody></table><h3><span id="å…·ä½“ç¤ºä¾‹">å…·ä½“ç¤ºä¾‹</span></h3><figure class="highlight sh hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment"># Enable extra metadata options by default</span></span><br><span class="line">[automount]</span><br><span class="line">enabled = <span class="hljs-literal">true</span></span><br><span class="line">root = /windir/</span><br><span class="line">options = <span class="hljs-string">"metadata,umask=22,fmask=11"</span></span><br><span class="line">mountFsTab = <span class="hljs-literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># Enable DNS â€“ even though these are turned on by default, weâ€™ll specify here just to be explicit.</span></span><br><span class="line">[network]</span><br><span class="line">generateHosts = <span class="hljs-literal">true</span></span><br><span class="line">generateResolvConf = <span class="hljs-literal">true</span></span><br></pre></td></tr></table></figure><h2><span id="ä½¿ç”¨ç›¸å…³å‘½ä»¤"><strong>ä½¿ç”¨ç›¸å…³å‘½ä»¤</strong></span></h2><h3><span id="æŸ¥çœ‹ç‰ˆæœ¬åˆ—è¡¨">æŸ¥çœ‹ç‰ˆæœ¬åˆ—è¡¨</span></h3><ol><li><code>wsl -l</code>, <code>wsl --list</code>ï¼šå¯ç”¨çš„ Linux å‘è¡Œç‰ˆ</li><li><code>wsl --list --all</code>ï¼š æœªå¯ç”¨å’Œå·²å¯ç”¨çš„ Linux å‘è¡Œç‰ˆ</li><li><code>wsl --list --running</code>ï¼šè¿è¡Œçš„ Linux å‘è¡Œç‰ˆ</li></ol><h3><span id="è®¾ç½®é»˜è®¤ç‰ˆæœ¬">è®¾ç½®é»˜è®¤ç‰ˆæœ¬</span></h3><ul><li><code>wsl -s &lt;DistributionName&gt;</code>, <code>wsl --setdefault &lt;DistributionName&gt;</code></li></ul><h3><span id="é‡æ–°å®‰è£…ç‰ˆæœ¬">é‡æ–°å®‰è£…ç‰ˆæœ¬</span></h3><ol><li><code>wsl --unregister &lt;DistributionName&gt;</code></li><li>é‡å¤â€œå®‰è£…å‘è¡Œç‰ˆæœ¬â€çš„â€œStep 3: é…ç½® Linux å‘è¡Œç‰ˆæœ¬â€</li></ol><h3><span id="æŒ‡å®šå‚æ•°ç™»å½•">æŒ‡å®šå‚æ•°ç™»å½•</span></h3><ol><li><code>wsl -d</code>, <code>wsl --distribution</code>ï¼šæŒ‡å®šç‰ˆæœ¬ç™»å½•</li><li><code>wsl -u</code>, <code>wsl --user</code>ï¼šæŒ‡å®šç”¨æˆ·ç™»å½•</li></ol><h3><span id="äº¤äº’æ“ä½œé€‰æ‹©">äº¤äº’æ“ä½œé€‰æ‹©</span></h3><ol><li><code>$ echo 0 &gt; /proc/sys/fs/binfmt_misc/WSLInterop</code>ï¼šåœç”¨äº¤äº’æ“ä½œ</li><li><code>$ echo 1 &gt; /proc/sys/fs/binfmt_misc/WSLInterop</code>ï¼šå¼€å¯äº¤äº’æ“ä½œ</li></ol><h3><span id="windowså‘½ä»¤è¡Œè¿è¡Œlinuxå·¥å…·">Windowså‘½ä»¤è¡Œè¿è¡ŒLinuxå·¥å…·</span></h3><ul><li><p><code>wsl &lt;LinuxCommand&gt;</code></p><figure class="highlight powershell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">C:\temp&gt; wsl ls -la | findstr <span class="hljs-string">"foo"</span></span><br><span class="line">-rwxrwxrwx <span class="hljs-number">1</span> root root     <span class="hljs-number">14</span> Sep <span class="hljs-number">27</span> <span class="hljs-number">14</span>:<span class="hljs-number">26</span> foo.bat</span><br><span class="line"></span><br><span class="line">C:\temp&gt; dir | wsl grep foo</span><br><span class="line"><span class="hljs-number">09</span>/<span class="hljs-number">27</span>/<span class="hljs-number">2016</span>  <span class="hljs-number">02</span>:<span class="hljs-number">26</span> PM                <span class="hljs-number">14</span> foo.bat</span><br></pre></td></tr></table></figure></li></ul><h3><span id="linuxå‘½ä»¤è¡Œè¿è¡Œwindowså·¥å…·">Linuxå‘½ä»¤è¡Œè¿è¡ŒWindowså·¥å…·</span></h3><ul><li><p><code>&lt;WindowsCommand&gt;</code></p><figure class="highlight sh hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ cmd.exe /C dir</span><br><span class="line">&lt;- contents of C:\ -&gt;</span><br><span class="line"></span><br><span class="line">$ PING.EXE www.microsoft.com</span><br><span class="line">Pinging e1863.dspb.akamaiedge.net [2600:1409:a:5a2::747] with 32 bytes of data:</span><br><span class="line">Reply from 2600:1409:a:5a2::747: time=2ms</span><br></pre></td></tr></table></figure></li></ul><p><em>PS: ä»¥ä¸Šé€‚ç”¨äº â€œ<u>Windows 10 Version 1903 and later</u>â€œ, â€œ<u>Versions Earlier than Windows 10 Version 1903</u> â€œçš„å¯¹åº”ç›®å½•è¯·æŸ¥çœ‹æ–‡æœ«çš„å‚è€ƒé“¾æ¥ã€‚Windows Insiders Builds 17063 èµ·æ”¯æŒ Windows å’Œ Linux å…±äº«ç¯å¢ƒå˜é‡ï¼›Fall Creators Update èµ· Windows <code>Path</code> å°†åŠ å…¥ Linux <code>$PATH</code> ã€‚</em></p><h2><span id="å‚è€ƒé“¾æ¥"><strong>å‚è€ƒé“¾æ¥</strong></span></h2><ul><li><a href="https://docs.microsoft.com/en-us/windows/wsl/about" target="_blank" rel="noopener">Windows Subsystem for Linux Documentation</a></li></ul><hr>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;strong&gt;å®‰è£…&lt;/strong&gt;ã€&lt;strong&gt;é…ç½®&lt;/strong&gt;å¹¶&lt;strong&gt;ä½¿ç”¨&lt;/strong&gt; WSL ï¼Œä¸»è¦åˆ†ä¸ºä»¥ä¸‹&lt;strong&gt;äº”ä¸ªéƒ¨åˆ†&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å‰æƒ…æè¦&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å®‰è£…å‘è¡Œç‰ˆæœ¬&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç¼–å†™é…ç½®è„šæœ¬&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä½¿ç”¨ç›¸å…³å‘½ä»¤&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;å‚è€ƒé“¾æ¥&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
    
    </summary>
    
    
      <category term="Operation" scheme="https://lottewong.github.io/categories/Operation/"/>
    
    
      <category term="Linux" scheme="https://lottewong.github.io/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>#Operation# WSLä»å…¥é—¨åˆ°...(3) Dive into WSL 2</title>
    <link href="https://lottewong.github.io/2020/01/13/WSL%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0...(3)/"/>
    <id>https://lottewong.github.io/2020/01/13/WSL%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0...(3)/</id>
    <published>2020-01-12T23:00:21.000Z</published>
    <updated>2020-01-13T10:06:25.908Z</updated>
    
    <content type="html"><![CDATA[<p>å¯¹ <strong>WSL 2 çš„ä¸€äº›å®ç°ç»†èŠ‚</strong>è¿›è¡Œè¡¥å……è¯´æ˜ï¼Œä¸»è¦åˆ†ä¸ºä»¥ä¸‹<strong>äº”ä¸ªéƒ¨åˆ†</strong>ï¼š</p><ul><li>å‰æƒ…æè¦</li><li>èƒŒæ™¯</li><li><strong>æ¶æ„ä¸ç­”ç–‘</strong></li><li>æ€»ç»“</li><li>å‚è€ƒé“¾æ¥</li></ul><hr><a id="more"></a><h1><span id="ç›®å½•-table-of-contents"><strong>ç›®å½• Table of Contents</strong></span></h1><!-- toc --><ul><li><a href="#å‰æƒ…æè¦"><strong>å‰æƒ…æè¦</strong></a></li><li><a href="#èƒŒæ™¯"><strong>èƒŒæ™¯</strong></a><ul><li><a href="#åŠŸèƒ½">åŠŸèƒ½</a></li><li><a href="#æ€§èƒ½">æ€§èƒ½</a></li><li><a href="#å…¼å®¹">å…¼å®¹</a></li></ul></li><li><a href="#æ¶æ„"><strong>æ¶æ„</strong></a><ul><li><a href="#è®¿é—®-windows-æ–‡ä»¶">è®¿é—® Windows æ–‡ä»¶</a></li><li><a href="#è®¿é—®-linux-æ–‡ä»¶">è®¿é—® Linux æ–‡ä»¶</a></li></ul></li><li><a href="#ç­”ç–‘"><strong>ç­”ç–‘</strong></a></li><li><a href="#æ€»ç»“"><strong>æ€»ç»“</strong></a></li><li><a href="#å‚è€ƒé“¾æ¥"><strong>å‚è€ƒé“¾æ¥</strong></a></li></ul><!-- tocstop --><hr><h2><span id="å‰æƒ…æè¦"><strong>å‰æƒ…æè¦</strong></span></h2><br><p><em>å‰é¢å·²ç»ç®€è¦ä»‹ç»äº† WSL 1 å’Œ WSL 2 çš„åŒºåˆ«ï¼Œæœ¬èŠ‚å°†èšç„¦äº WSL 2çš„å®ç°ç»†èŠ‚ã€‚ç‚¹å¼€å®˜æ–¹åšå®¢å¼€å§‹æ”¶è·æƒŠ(<del>da</del>)å–œ(<del>keng</del>)ï¼Œæ‰ç–å­¦æµ…å†™é”™ä¹Ÿä¸è¦æ‰“æˆ‘ (é¢„å…ˆæ„Ÿè°¢å„ä½å‹˜è¯¯ é€ƒ</em></p><p>ã€æ›´å¤šä¿¡æ¯ ğŸ‘‰ <a href="https://lottewong.github.io/2019/12/12/WSL%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0...(1)/">WSLä»å…¥é—¨åˆ°â€¦(1) WSL 1 vs WSL 2</a>ã€‘</p><h2><span id="èƒŒæ™¯"><strong>èƒŒæ™¯</strong></span></h2><h3><span id="åŠŸèƒ½">åŠŸèƒ½</span></h3><blockquote><p>â€¦â€¦ still provides <strong>the same user experience</strong> as in WSL 1 (the current widely available version).</p></blockquote><h3><span id="æ€§èƒ½">æ€§èƒ½</span></h3><blockquote><p>Its primary goals are to <strong>increase file system performance</strong>, as well as <strong>adding full system call compatibility</strong>.</p></blockquote><h3><span id="å…¼å®¹">å…¼å®¹</span></h3><blockquote><p>Individual Linux distros can be run either as a WSL 1 distro, or as a WSL 2 distro, can be <strong>upgraded or downgraded at any time</strong>, and you can run WSL 1 and WSL 2 distros <strong>side by side</strong>. </p></blockquote><h2><span id="æ¶æ„"><strong>æ¶æ„</strong></span></h2><br><p><img src="/images/wsl2_component.png" alt="WSL 2 Architecture"></p><p><strong>å·¥ä½œæµå¤§æ¦‚æ˜¯ï¼š</strong></p><ol><li>å¯åŠ¨ LXSS Manager Service <strong>è·Ÿè¸ª Linux Distribution çš„å®‰è£…ã€è¿è¡Œå’Œå¸è½½</strong>ã€‚</li><li>å¯åŠ¨ Host compute service å’Œ Host Network Service <strong>åˆ›å»ºå’Œåˆå§‹åŒ– Lightweight utility VM å®ä¾‹</strong>ã€‚</li><li>è¢«å°è£…å¥½çš„ï¼ˆ<u>â€œshipping in boxâ€</u>ï¼‰åŸºäº Linux Kernel çš„<strong>è™šæ‹Ÿæœºè¿è¡Œ</strong>ã€‚</li><li>LXSS Manager Service <strong>æ˜ å°„ã€åŠ è½½å’Œç®¡ç† Linux Distribution çš„æ–‡ä»¶ç³»ç»Ÿ</strong>ã€‚</li><li>ä»¥ä¸Šå‡†å¤‡å·¥ä½œå®Œæˆåï¼Œ<code>wsl.exe</code> å’Œ <code>bash</code> ä¹‹é—´å°†<strong>é€šè¿‡ <code>socket</code> ä¼ é€’æŒ‡ä»¤</strong>æ¥å®Œæˆä½œä¸šã€‚</li></ol><p><em>PS: Lightweight utility VM åªä¼šåœ¨éœ€è¦æ—¶åˆ›å»ºè¿è¡Œï¼Œå¦‚æœ <code>bash</code> æˆ– <code>wsl.exe</code> é€€å‡ºï¼Œä¸€æ®µæ—¶é—´åå°†ä¼šè¢«å›æ”¶ã€‚</em></p><h3><span id="è®¿é—®-windows-æ–‡ä»¶">è®¿é—® Windows æ–‡ä»¶</span></h3><p><img src="/images/accessing_windows_files_with_wsl2.png" alt="Accessing Windows Files with WSL 2"></p><ul><li><p><strong>Windows</strong> ä¸»æœºå¯åŠ¨ä¸€ä¸ªæ–‡ä»¶<strong>æœåŠ¡å™¨</strong>ï¼Œæ­¤æ—¶ <strong>Linux</strong> ä½œä¸º<strong>å®¢æˆ·ç«¯</strong>å‘é€è¯·æ±‚ï¼Œä¸¤è€…<strong>ä½¿ç”¨ 9P åè®®</strong>è¿›è¡Œé€šä¿¡ã€‚</p></li><li><p><strong>æ•ˆæœçœ‹èµ·æ¥åƒ</strong>æŠŠ Windows çš„ <code>C</code> ç›˜æŒ‚è½½åˆ°äº† Linux çš„ <code>/mnt</code> ç›®å½•ä¸‹ã€‚è®¿é—® Linux çš„ <code>/mnt/c</code> å°±æ˜¯åœ¨ è®¿é—® Window çš„ <code>C:\</code> ã€‚</p></li></ul><p><em>PS: ç‰¹åˆ«åœ°ï¼Œå¦‚æœåœ¨ <code>bash</code> å†…å¯åŠ¨ <code>cmd.exe</code> ï¼Œç”±äº Windows å’Œ Linux çš„å¯æ‰§è¡Œæ–‡ä»¶æ ¼å¼ä¸åŒï¼ˆå‰è€…æ˜¯ PE æˆ– PE32+ ï¼Œåè€…æ˜¯ ELF32 æˆ– ELF64ï¼‰ï¼Œ<code>.exe</code> æ–‡ä»¶æ— æ³•ç›´æ¥è¿è¡Œã€‚WSL 2 çš„å¤„ç†æ–¹æ³•å®é™…ä¸Šæ˜¯ï¼šLinux ä¸‹çš„ <code>bash</code> å‘ <code>wsl.exe</code> å‘é€ Interop commandï¼ŒWindows ä¸‹çš„ <code>wsl.exe</code> è§£æåå¯åŠ¨ <code>.exe</code> æ–‡ä»¶ã€‚</em></p><h3><span id="è®¿é—®-linux-æ–‡ä»¶">è®¿é—® Linux æ–‡ä»¶</span></h3><p><img src="/images/accessing_linux_files_with_wsl2.png" alt="Accessing Linux Files with WSL 2"></p><ul><li><strong>Linux</strong> è™šæ‹Ÿæœºå¯åŠ¨ä¸€ä¸ªæ–‡ä»¶<strong>æœåŠ¡å™¨</strong>ï¼Œæ­¤æ—¶ <strong>Windows</strong> ä½œä¸º<strong>å®¢æˆ·ç«¯</strong>å‘é€è¯·æ±‚ï¼Œä¸¤è€…<strong>ä½¿ç”¨ 9P åè®®</strong>è¿›è¡Œé€šä¿¡ã€‚</li><li><strong>æ•ˆæœçœ‹èµ·æ¥åƒ</strong>åœ¨ Windows ä¸Šå¼€ä¸€èˆ¬çš„è™šæ‹Ÿæœºï¼Œå¯¹åº”çš„ç›®å½•ï¼ˆåœ¨ <code>Network</code> å†…ï¼‰å¯ä»¥è¢«æ–‡ä»¶èµ„æºç®¡ç†å™¨è½»æ¾åœ°è®¿é—®ã€‚</li></ul><p><em>PS: ä»ä¸Šè¿°ä¸­å¯è§ï¼ŒWSL 2 è®¿é—®æ–‡ä»¶çš„ä¸­å¿ƒè§‚ç‚¹ â€”â€” â€œä¸¤ä¸ªç³»ç»Ÿéƒ½åšå„è‡ªå¯ä»¥åš / æ“…é•¿åšçš„äº‹æƒ…ï¼Œé‡äº‹ä¸å†³å°±é€šè¿‡<code>socket</code>å‘æŒ‡ä»¤å±ä¸€å£°ï¼Œè€Œä¸ä¼šé€‰æ‹©ç®€å•ç²—æš´åœ°ç¿»è¯‘ã€‚â€</em></p><h2><span id="ç­”ç–‘"><strong>ç­”ç–‘</strong></span></h2><br><blockquote><p><u>Q1</u>: Microsoft çš„ Linux Team æ ¹æ® WSL 2 <strong>é’ˆå¯¹ Linux Kernel åšäº†å“ªäº›è°ƒæ•´</strong>ï¼Ÿ</p><p><u>A1</u>: é¦–å…ˆï¼Œå’Œ WSL 1 ä¸€æ ·ï¼ŒWSL 2 <strong>æœ¬èº«å¹¶ä¸æä¾› Linux å‘è¡Œç‰ˆæœ¬</strong>ï¼Œç”¨æˆ·éœ€è‡ªè¡Œ<strong>å‰å¾€ Windows Store ä¸‹è½½</strong>æˆ–<strong>è„šæœ¬å®‰è£…è‡ªå®šä¹‰çš„å‘è¡Œç‰ˆæœ¬</strong>ï¼›å…¶æ¬¡ï¼ŒWSL 2 çš„ Linux Kernel <strong>åŸºäºç¨³å®šçš„ <a href="https://www.kernel.org/" target="_blank" rel="noopener">version 4.19</a></strong>ï¼Œå¹¶åœ¨<strong>å¯åŠ¨æ—¶é—´ã€å†…å­˜å ç”¨å’Œéœ€æ”¯æŒè®¾å¤‡æ•°ç­‰æ–¹é¢</strong>éƒ½è¿›è¡Œäº†ç›¸åº”çš„ä¼˜åŒ–ï¼›æœ€åï¼Œ WSL 2 å°†<strong>é€šè¿‡ Windows æ›´æ–°æ¥æ¨é€æ–°æœåŠ¡</strong>ï¼Œå¹¶ç”± Microsoft åŠå…¶å®ƒä¸“ä¸šçš„å•†ä¸šä¼™ä¼´<strong>æä¾›å®‰å…¨ç›‘æ§å’Œä¿éšœ</strong>ã€‚</p></blockquote><blockquote><p><u>Q2</u>: å¯ä»¥<strong>åœ¨è™šæ‹Ÿæœºä¸­ä½¿ç”¨ WSL 2</strong> å—ï¼Ÿ</p><p><u>A2</u>: å¯ä»¥ï¼Œä½†è¦ç¡®ä¿<strong>å¼€å¯ <code>nested virtualization</code> é€‰é¡¹</strong>ï¼ˆåœ¨  Windows PowerShell ï¼ˆä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œï¼‰ä¸­è¾“å…¥ <code>Set-VMProcessor -VMName &lt;VMName&gt; -ExposeVirtualizationExtensions $true</code> å‘½ä»¤ï¼‰ã€‚</p></blockquote><blockquote><p><u>Q3</u>: WSL 1 ä¸­çš„<strong>é…ç½®æ–‡ä»¶ <code>wsl.conf</code></strong> åœ¨ WSL 2 ä¸­ä»å¯ä»¥ä½¿ç”¨å—ï¼Ÿ</p><p><u>A3</u>: å¯ä»¥ï¼Œæ¯”å¦‚è‡ªåŠ¨æŒ‚è½½ç£ç›˜ã€å¼€å¯æˆ–å…³é—­ interop commandå’Œæ›´æ”¹æŒ‚è½½ç›®å½•ç­‰æ“ä½œéƒ½å°†<strong>ç»§ç»­æ”¯æŒ</strong>ï¼Œæ›´å¤š WSL é…ç½®é¡¹å¯è§ <a href="https://docs.microsoft.com/en-us/windows/wsl/wsl-config" target="_blank" rel="noopener">Distro Management</a> ã€‚</p></blockquote><blockquote><p><u>Q4</u>: WSL 2 å°†æ”¯æŒ Docker æŠ€æœ¯ï¼Œ<strong>WSL 2 çš„ Docker ä¼šæœ‰ä»€ä¹ˆç‰¹åˆ«çš„é™åˆ¶å—</strong>ï¼Ÿ</p><p><u>A4</u>: å¦‚æœå¯åŠ¨çš„æ˜¯ Windows çš„ Docker ï¼Œå°†æŒ‰ç…§ Window çš„ Docker å·¥ä½œï¼›å¦‚æœå¯åŠ¨çš„æ˜¯ Linux çš„ Docker ï¼Œå°†æŒ‰ç…§ Linux çš„ Docker å·¥ä½œã€‚å°½ç®¡ Windows çš„ Docker å’Œ Linux çš„ Docker å®ç°æ–¹å¼æœ‰æ‰€å‡ºå…¥ï¼ˆç”±äºç¯‡å¹…æœ‰é™ï¼Œå°†ä¸å±•å¼€è¯´æ˜ï¼‰ï¼Œä½†<strong>åŸåˆ™ä¸Š WSL 2 ä¸å­˜åœ¨å¯¹ Docker çš„ç‰¹åˆ«é™åˆ¶</strong>ã€‚</p></blockquote><blockquote><p><u>Q5</u>: æœ‰æ²¡æœ‰é’ˆå¯¹ WSL 2 çš„<strong>ç¡¬ä»¶æ”¯æŒ</strong>ï¼Œæ¯”å¦‚è®¿é—®å¹¶åŠ é€ŸGPUå¹¶ä¹‹ç±»ï¼Ÿ</p><p><u>A5</u>: <strong>æš‚æœªå®Œå–„</strong>ï¼Œä½†æŒç»­å¼€å‘ä¸­ï¼ˆä½† WSL 1 æ”¯æŒä¸²è¡Œç«¯å£å’ŒUSBè®¾å¤‡çš„è®¿é—®ï¼Œæœ‰éœ€è¦å¯ä»¥å…ˆå‡‘åˆç”¨ï¼‰ã€‚</p></blockquote><blockquote><p><u>Q6</u>: æœ‰æ²¡æœ‰ç»Ÿä¸€ Windows æ–‡ä»¶å’Œ Linux æ–‡ä»¶<strong>æƒé™ç®¡ç†</strong>çš„è§£å†³æ–¹æ¡ˆï¼Ÿ</p><p><u>A6</u>: åœ¨ <strong>WSL 1</strong> ä¸­ï¼Œå› ä¸ºæ˜¯åŒä¸€ä¸»æœºä¸å­˜åœ¨ç³»ç»Ÿè¾¹ç•Œï¼ˆæ˜ å°„ç›¸å¯¹å®¹æ˜“ï¼‰ï¼Œæƒé™ç®¡ç†æ˜¯é€šè¿‡<strong>ä¸­é—´å±‚çš„é©±åŠ¨å™¨æä¾›é¢å¤–æœåŠ¡</strong>å®ç°çš„ï¼›åœ¨ WSL 2 ä¸­ï¼Œå› ä¸ºæ˜¯ä¸åŒä¸»æœºè€Œå­˜åœ¨ç³»ç»Ÿè¾¹ç•Œï¼ˆæ˜ å°„ç›¸å¯¹å›°éš¾ï¼‰ï¼ŒWSL 2 é‡‡å–çš„ç­–ç•¥æ˜¯<strong>ä¿æŒå„è‡ªç³»ç»ŸåŸæœ‰çš„è®¿é—®æƒé™</strong>ï¼Œé€šè¿‡<strong>è¡¥å……ä¸€äº›ä¸Šå±‚åè®®ï¼ˆæ¯”å¦‚ SSHï¼‰</strong>è¿›è¡Œè¾…åŠ©ç®¡ç†ï¼Œæ–°çš„ Release ç‰ˆæœ¬å·²ç»æ”¯æŒ â€œ<a href="https://devblogs.microsoft.com/commandline/sharing-ssh-keys-between-windows-and-wsl-2/" target="_blank" rel="noopener">Sharing SSH keys between Windows and WSL 2</a>â€œã€‚</p></blockquote><blockquote><p><u>Q7</u>: æœ‰æ²¡æœ‰ WSL 2 å¯¹<strong>ç½‘ç»œé…ç½®</strong>çš„æ”¯æŒï¼Ÿ</p><p><u>A7</u>: åœ¨ <strong>WSL 1</strong> ä¸­ï¼Œå› ä¸ºæ˜¯åŒä¸€ä¸»æœºï¼Œç½‘ç»œå‡ºå£çš„ IP åœ°å€æ˜¯ç›¸åŒçš„ï¼Œ<strong>ç›¸å…³æ“ä½œä¹Ÿæ¥è¿‘åŸç”Ÿ</strong> ï¼›åœ¨ <strong>WSL 2</strong> ä¸­ï¼Œå› ä¸ºæ˜¯ä¸åŒä¸»æœºï¼Œç½‘ç»œå‡ºå£çš„ IP åœ°å€æ˜¯ä¸åŒçš„ï¼Œ<strong>WSL 2 è®¡åˆ’å®ç°çš„ Feature åŒ…æ‹¬</strong>ï¼šâ‘  åœ¨æä¾›ä¸åŒçš„IP åœ°å€æƒ…æ™¯ä¸‹ï¼ŒåŠ é€Ÿç½‘ç»œè®¿é—®ï¼›â‘¡ å°†å®¢æœºæ˜ å°„åˆ°ä¸»æœºï¼Œå…±äº«åŒä¸€ IP åœ°å€ï¼›â‘¢ å°½å¿«æ”¯æŒå…¨éƒ¨ Linux ä¸‹çš„ç½‘ç»œåº”ç”¨ã€‚</p></blockquote><h2><span id="æ€»ç»“"><strong>æ€»ç»“</strong></span></h2><br><p><strong>ç®€å•çš„ç†è§£ï¼š</strong>é€šè¿‡ä½¿ç”¨è™šæ‹ŸåŒ–æŠ€æœ¯ï¼Œä½¿å¾— Hypervisor ä¸ŠåŒæ—¶è¿è¡Œ Windows å®ä¾‹å’Œ Linux å®ä¾‹ï¼ŒWindows å®ä¾‹å ä¸»å¯¼åœ°ä½å¹¶ä¸”æŒç»­åœ°è¿è¡Œï¼ŒLinux å®ä¾‹éå¸¸è½»é‡çº§å¹¶ä¸”åªæœ‰åœ¨ç”¨åˆ°æ—¶æ‰ä¼šå¯åŠ¨ã€‚é‡‡ç”¨åŸç”Ÿçš„ Linux Kernel ä¿è¯äº†ç³»ç»Ÿè°ƒç”¨çš„å®Œæ•´æ€§ï¼Œ9P åè®®çš„æ³¨å…¥åˆå¾ˆå¥½åœ°è§£å†³äº†ä¸¤ä¸ªä¸åŒæ–‡ä»¶ç³»ç»Ÿä¹‹é—´çš„äº¤äº’é—®é¢˜ã€‚</p><h2><span id="å‚è€ƒé“¾æ¥"><strong>å‚è€ƒé“¾æ¥</strong></span></h2><ul><li><a href="https://mybuild.techcommunity.microsoft.com/sessions/77003" target="_blank" rel="noopener">The new Windows subsystem for Linux architecture: a deep dive</a></li><li><a href="https://docs.microsoft.com/en-us/windows/wsl/wsl2-about" target="_blank" rel="noopener">About WSL 2</a></li><li><a href="https://devblogs.microsoft.com/commandline/shipping-a-linux-kernel-with-windows/" target="_blank" rel="noopener">Shipping a Linux Kernel with Windows</a></li><li><a href="https://docs.microsoft.com/en-us/windows/wsl/wsl2-faq" target="_blank" rel="noopener">WSL 2 Frequently Asked Questions</a></li></ul><hr>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å¯¹ &lt;strong&gt;WSL 2 çš„ä¸€äº›å®ç°ç»†èŠ‚&lt;/strong&gt;è¿›è¡Œè¡¥å……è¯´æ˜ï¼Œä¸»è¦åˆ†ä¸ºä»¥ä¸‹&lt;strong&gt;äº”ä¸ªéƒ¨åˆ†&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å‰æƒ…æè¦&lt;/li&gt;
&lt;li&gt;èƒŒæ™¯&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ¶æ„ä¸ç­”ç–‘&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;æ€»ç»“&lt;/li&gt;
&lt;li&gt;å‚è€ƒé“¾æ¥&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
    
    </summary>
    
    
      <category term="Operation" scheme="https://lottewong.github.io/categories/Operation/"/>
    
    
      <category term="Linux" scheme="https://lottewong.github.io/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>#Sucks# å†™åœ¨äºŒé›¶äºŒé›¶</title>
    <link href="https://lottewong.github.io/2020/01/01/%E5%86%99%E5%9C%A8%E4%BA%8C%E9%9B%B6%E4%BA%8C%E9%9B%B6/"/>
    <id>https://lottewong.github.io/2020/01/01/%E5%86%99%E5%9C%A8%E4%BA%8C%E9%9B%B6%E4%BA%8C%E9%9B%B6/</id>
    <published>2019-12-31T16:00:00.000Z</published>
    <updated>2020-01-02T04:13:48.833Z</updated>
    
    <content type="html"><![CDATA[<p>ï¼ˆï¼ˆï¼ˆæ— èŠçš„åæ§½ä¸æ²¡å¤šå°‘æ„æ€çš„å¤è¯»</p><hr><a id="more"></a><p>ç”Ÿæ´»å¤§æ¦‚å°±æ˜¯ï¼Œèµ·è½è½è½ã€‚</p><p>è¯´æ¥å†™å‰ç«¯ä¹Ÿå¿«ä¸€ä¸ªæœˆï¼Œè™½ç„¶ä»¥åå¤§æ¦‚ç‡ä¹Ÿä¸ä¼šå†ä¸“é—¨å¸®åˆ«äººå†™äº†ï¼Œä½†æ˜¯è¿™ä¸ªè¿‡ç¨‹è¿˜æ˜¯æœ‰ä¸å°‘å¿ƒå¾—ä½“ä¼šï¼Œæ¯”å¦‚ç†è§£éœ€æ±‚ã€è¯»æ‡‚æ¶æ„ã€å®ç°é€»è¾‘ã€ä¿è¯è´¨é‡å’Œé€šè¿‡æµ‹è¯•ä¹‹ç±»çš„ã€‚å› ä¸ºå¼€å‘å¾—æ¯”è¾ƒéšå¿ƒæ‰€æ¬²ï¼Œæ¢å¥è¯è¯´ï¼Œå°±æ˜¯è¿˜æœ‰å¾ˆå¤šæˆé•¿çš„ç©ºé—´ï¼Œéå¸¸æ„Ÿè°¢å®éªŒå®¤çš„å¸ˆå…„å¸ˆå§æ²¡æœ‰å«Œå¼ƒæˆ‘è¿™ä¸ªå°èœğŸ“ï¼Œé»„è€å¸ˆè¿˜å³å°†è¿æ¥äººç”Ÿç¬¬ä¸€æ¡¶é‡‘ (?)</p><p>è¦è¯´åæ‚”åˆ°å°è±¡æ·±åˆ»çš„äº‹æƒ…ï¼Œé™¤äº†åœ¨GYå’•å’•æ‰äº†ä¿¡æ¯ç«èµ›ï¼Œé€‰å¤§æ•°æ®å¯èƒ½ä¹Ÿæ˜¯ä¹‹ä¸€ã€‚æ— éå°±æ˜¯ä¸ä¼šä¹Ÿä¸é‚£ä¹ˆæ„Ÿå…´è¶£ï¼Œæ¯æ¬¡å…ˆè¢«æ•°æ®å¤„ç†å¥—è·¯ä¸€é˜µï¼Œç„¶åå¯¹ç€æ•°å­¦å…¬å¼å’Œç¥ç»ç½‘ç»œæ•²æ•²æ•²ï¼ŒDebugæ²¡æœ‰æœºå™¨ä¹Ÿè¦æ¥ä¸ªåœ°ä¹…å¤©é•¿ï¼Œè¿˜è¦ç›¯ç€ABæ¦œæ‚£å¾—æ‚£å¤±ï¼Œå®åœ¨æ˜¯æä¸æ¥å•¦ã€‚è™½ç„¶ä½†æ˜¯ï¼Œå­¦ç®—æ³•è¿™åŠå¹´æ¥æœ€å¤§çš„æ”¶è·å°±æ˜¯å­¦ä¼šå¦‚ä½•å¿ƒå¹³æ°”å’Œåœ°æŠŠä¸€ä»¶äº‹æƒ…çœŸæ­£åšå¾—åˆå¿«åˆå¥½ï¼ˆæˆ‘å´è¿˜æ²¡æœ‰</p><p>è¿‡å»ä¸€å¹´æäº†ä¸å°‘å‰¯ä¸šï¼ŒçœŸæ­£æœ‰è¥å…»çš„å´ä¸å¤šï¼Œä»C++å†™åˆ°Dartï¼Œä»å…¨æ ˆå†™åˆ°äº‘è®¡ç®—â€¦æ˜ç™½ä¸€ä¸ªäººçš„ç²¾åŠ›å…¶å®å¾ˆæœ‰é™ï¼Œä»€ä¹ˆéƒ½å¹² â‰ˆ ä»€ä¹ˆéƒ½æ²¡å¹²ã€‚å°±ç®—å¼€äº†nä¸ªrepoï¼Œæ··äº†nä¸ªprojectï¼ŒæŒ‚äº†nä¸ªtitleï¼Œåªè¦é¢å¯¹ <code>Talk is cheap, show me the code</code> ä¹Ÿä¼šæ²‰é»˜ã€‚å½“ç„¶å¹¿åº¦ä¼˜å…ˆå­¦ä¹ ä¹Ÿæ²¡ä»€ä¹ˆä¸å¥½ï¼Œåªä¸è¿‡æ˜¯æˆ‘ç®—åŠ›å¤ªå¼±äº†ç½¢ã€‚åˆ°äº†ä¸‰å¹´çº§å°±ä¸å¯é¿å…åœ°æƒ³ä¸œæƒ³è¥¿ï¼Œä¸èƒ½å†åƒä»å‰ä¸€æ ·è¯´å¹²å°±å¹²ï¼Œè¦è€ƒè™‘æ²‰é»˜æˆæœ¬ï¼Œè¦é¢å¯¹åŒä¼´ç„¦è™‘ï¼Œå†³å®šå»å“ªæ¬ç –ä¹Ÿè¦å°å¿ƒç¿¼ç¿¼ï¼Œè¿˜éšæ—¶åœ¨æ•æ·å’ŒæŠ•æœºçš„è¾¹ç¼˜è¯•æ¢ã€‚æœ€åè¯´æœäº†è‡ªå·±è¿˜æ˜¯ä¿æŒåˆ®åˆ®ä¹çš„å¿ƒæ€â€¦ï¼ˆåˆ®åˆ°äº†äº‘è®¡ç®—è¿˜æŒºå¹¸è¿çš„ è¯¯</p><p>è™½ç„¶ä»¥ä¸Šéƒ½æ˜¯äº›æ— å…³ç—›ç—’çš„åæ§½ï¼Œç”Ÿæ´»ä¹Ÿè¿˜æœ‰å®ƒçš„å¤æ‚å’Œç¾å¥½ï¼Œè¯¸å¦‚å’Œå¾ˆé•¿ä¸€æ®µæ—¶é—´è¢«gaslightçš„è‡ªå·±å’Œè§£å•¦ã€ç¬¬ä¸€æ¬¡å½“PMå•¦ã€å»M$RAè¹­åƒè¹­å–å•¦ã€å†è§å¥½Xå‹å‘å±•é©å‘½æƒ…è°Šå•¦ã€æ— ç–¾è€Œç»ˆåœ°æš—æ‹è¿‡å•¦äº‘äº‘ï¼Œè¿™ç§æ—¶å€™è¿˜æ˜¯è¦æ„Ÿæ…¨å¹´è½»çœŸå¥½æ»´å˜»å˜» :P</p><p>ä»¥å‰è§‰å¾—ç”Ÿæ´»æœ¬è´¨å°±æ˜¯å’Œè¥¿è¥¿å¼—æ–¯ç¥è¯ä¸€æ ·çš„ï¼Œç›¸å½“è™šæ— ã€‚ç°åœ¨ä¹Ÿè¿˜æ˜¯è¿™ä¹ˆè§‰å¾—ï¼Œä¸è¿‡ç›´è§‰ä¸Šæœ‰è¶£çš„äº‹æƒ…é‚£ä¹ˆå¤šï¼Œæ¯å¤©ä¸€ç‚¹ç‚¹ä¹Ÿè¶³å¤Ÿå¿«ä¹ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œæ–°å¹´ä¹‹äº¤è®²çš„ä¸œè¥¿éƒ½ä¸èƒ½ä¿¡ï¼Œå°±ä¸ç»§ç»­ä¸€æœ¬æ­£ç»èƒ¡è¯´å…«é“äº†ï¼Œæœ€åä»¥å°æ³¢ä½œç»“å§ï¼š</p><blockquote><p>â€œé‚£ä¸€å¤©æˆ‘äºŒåä¸€å²ï¼Œåœ¨æˆ‘ä¸€ç”Ÿçš„é»„é‡‘æ—¶ä»£ã€‚æˆ‘æœ‰å¥½å¤šå¥¢æœ›ã€‚æˆ‘æƒ³çˆ±ï¼Œæƒ³åƒï¼Œè¿˜æƒ³å†ä¸€ç¬é—´å˜æˆå¤©ä¸ŠåŠæ˜åŠæš—çš„äº‘ã€‚åæ¥æˆ‘æ‰çŸ¥é“ï¼Œç”Ÿæ´»å°±æ˜¯ä¸ªç¼“æ…¢å—é”¤çš„è¿‡ç¨‹ï¼Œäººä¸€å¤©å¤©è€ä¸‹å»ï¼Œå¥¢æœ›ä¹Ÿä¸€å¤©å¤©æ¶ˆå¤±ï¼Œæœ€åå˜å¾—åƒæŒ¨äº†é”¤çš„ç‰›ä¸€æ ·ã€‚å¯æ˜¯æˆ‘è¿‡äºŒåä¸€å²ç”Ÿæ—¥æ—¶æ²¡æœ‰é¢„è§åˆ°è¿™ä¸€ç‚¹ã€‚æˆ‘è§‰å¾—è‡ªå·±ä¼šæ°¸è¿œç”ŸçŒ›ä¸‹å»ï¼Œä»€ä¹ˆä¹Ÿé”¤ä¸äº†æˆ‘ã€‚â€</p></blockquote><hr>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ï¼ˆï¼ˆï¼ˆæ— èŠçš„åæ§½ä¸æ²¡å¤šå°‘æ„æ€çš„å¤è¯»&lt;/p&gt;
&lt;hr&gt;
    
    </summary>
    
    
      <category term="Sucks" scheme="https://lottewong.github.io/categories/Sucks/"/>
    
    
  </entry>
  
  <entry>
    <title>#Operation# WSLä»å…¥é—¨åˆ°...(2) Dive into WSL 1</title>
    <link href="https://lottewong.github.io/2019/12/13/WSL%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0...(2)/"/>
    <id>https://lottewong.github.io/2019/12/13/WSL%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0...(2)/</id>
    <published>2019-12-12T23:00:21.000Z</published>
    <updated>2020-01-13T05:30:13.057Z</updated>
    
    <content type="html"><![CDATA[<p>å¯¹ <strong>WSL 1 çš„ä¸€äº›å®ç°ç»†èŠ‚</strong>è¿›è¡Œè¡¥å……è¯´æ˜ï¼Œä¸»è¦åˆ†ä¸ºä»¥ä¸‹<strong>äº”ä¸ªéƒ¨åˆ†</strong>ï¼š</p><ul><li>å‰æƒ…æè¦</li><li>èƒŒæ™¯</li><li><strong>æ¶æ„ä¸åŠŸèƒ½</strong></li><li>æ€»ç»“</li><li>å‚è€ƒé“¾æ¥</li></ul><hr><a id="more"></a><h1><span id="ç›®å½•-table-of-contents"><strong>ç›®å½• Table of Contents</strong></span></h1><!-- toc --><ul><li><a href="#å‰æƒ…æè¦"><strong>å‰æƒ…æè¦</strong></a></li><li><a href="#èƒŒæ™¯"><strong>èƒŒæ™¯</strong></a></li><li><a href="#æ¶æ„"><strong>æ¶æ„</strong></a><ul><li><a href="#lxss-manager-service">LXSS Manager Service</a></li><li><a href="#pico-drivers">Pico Drivers</a></li><li><a href="#pico-processes">Pico Processes</a></li></ul></li><li><a href="#åŠŸèƒ½"><strong>åŠŸèƒ½</strong></a><ul><li><a href="#system-calls">System Calls</a></li><li><a href="#file-system">File System</a></li></ul></li><li><a href="#æ€»ç»“"><strong>æ€»ç»“</strong></a></li><li><a href="#å‚è€ƒé“¾æ¥"><strong>å‚è€ƒé“¾æ¥</strong></a></li></ul><!-- tocstop --><hr><h2><span id="å‰æƒ…æè¦"><strong>å‰æƒ…æè¦</strong></span></h2><br><p><em>å‰é¢å·²ç»ç®€è¦ä»‹ç»äº† WSL 1 å’Œ WSL 2 çš„åŒºåˆ«ï¼Œæœ¬èŠ‚å°†èšç„¦äº WSL 1çš„å®ç°ç»†èŠ‚ã€‚ç‚¹å¼€å®˜æ–¹åšå®¢å¼€å§‹æ”¶è·æƒŠ(<del>da</del>)å–œ(<del>keng</del>)ï¼Œæ‰ç–å­¦æµ…å†™é”™ä¹Ÿä¸è¦æ‰“æˆ‘ (é¢„å…ˆæ„Ÿè°¢å„ä½å‹˜è¯¯ é€ƒ</em></p><p>ã€æ›´å¤šä¿¡æ¯ ğŸ‘‰ <a href="https://lottewong.github.io/2019/12/12/WSL%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0...(1)/">WSLä»å…¥é—¨åˆ°â€¦(1) WSL 1 vs WSL 2</a>ã€‘</p><h2><span id="èƒŒæ™¯"><strong>èƒŒæ™¯</strong></span></h2><br><blockquote><p>Early subsystems were implemented as <strong>user mode modules</strong> that <strong>issued appropriate NT system calls based on the API</strong> they presented to applications for that subsystem. All applications were PE/COFF executables, a set of libraries and services to implement the subsystem API and NTDLL to perform the NT system call. When a user mode application got launched, the loader invoked the right subsystem to satisfy the application dependencies based on the executable header.</p></blockquote><ul><li><strong>æ—©æœŸçš„å­ç³»ç»Ÿ</strong>é‡‡ç”¨çš„æ–¹æ³•æ˜¯ï¼Œå°†å­ç³»ç»Ÿè§†ä¸ºä¸Šå±‚çš„ä¸€ç³»åˆ—è¿›ç¨‹ç»„ï¼Œé€šè¿‡ NTDLL æä¾›çš„ API å®ç°ç”¨æˆ·æ¨¡å¼å’Œå†…æ ¸æ¨¡å¼é€šä¿¡ï¼Œå…¶ä¸­ <code>loader</code> å¯¹ <code>application</code> å’Œ <code>subsystem</code> è¿›è¡Œç®¡ç†ã€‚è¿™é‡Œè¿è¡Œçš„ä»ç„¶æ˜¯ Win32 binariesï¼Œéœ€è¦ç§»æ¤å’Œç»´æŠ¤ã€‚</li></ul><blockquote><p>Later versions of subsystems replaced the POSIX layer to provide <strong>the Subsystem for Unix-based Applications (SUA)</strong>. The primary role of SUA was to encourage applications to <strong>get ported to Windows without significant rewrites</strong>. This was achieved by implementing the POSIX user mode APIs using NT constructs.</p></blockquote><ul><li><strong>åæ¥çš„å­ç³»ç»Ÿ</strong>é‡‡ç”¨çš„æ–¹æ³•æ˜¯ï¼Œåœ¨ POSIX å±‚åšä¼˜åŒ–ï¼Œç§»æ¤è€Œä¸æ˜¯é‡å†™ã€‚è¿™é‡Œè¿è¡Œçš„ä»ç„¶æ˜¯ Win32 binariesï¼Œéœ€è¦ç§»æ¤å’Œç»´æŠ¤ã€‚</li></ul><blockquote><p>WSL is a collection of components that enables native Linux ELF64 binaries to run on Windows. It contains <strong>both user mode and kernel mode components</strong>. It is primarily comprised of:</p><ol><li><strong>User mode session manager service</strong> that handles the Linux instance life cycle</li><li><strong>Pico provider drivers</strong> (lxss.sys, lxcore.sys) that emulate a Linux kernel by translating Linux syscalls</li><li><strong>Pico processes</strong> that host the unmodified user mode Linux (e.g. /bin/bash)</li></ol></blockquote><ul><li><strong>WSL</strong> é‡‡ç”¨çš„æ–¹æ³•æ˜¯ï¼Œæ„é€ ä¸€æ•´å¥—åŒ…å«ç”¨æˆ·æ¨¡å¼å’Œå†…æ ¸æ¨¡å¼ç»„ä»¶çš„ç³»ç»Ÿï¼Œå…¶ä¸»è¦ç”±ç”¨æˆ·æ¨¡å¼ä¼šè¯ç®¡ç†æœåŠ¡ï¼ˆUser mode session manager serviceï¼‰ã€Pico é©±åŠ¨ï¼ˆPico provider driversï¼‰å’Œ Pico è¿›ç¨‹ ï¼ˆPico processesï¼‰ä¸‰ä¸ªéƒ¨åˆ†ç»„æˆã€‚è¿™é‡Œè¿è¡Œçš„ä»ç„¶æ˜¯ Linux binariesï¼Œæ— éœ€ç§»æ¤å’Œç»´æŠ¤ã€‚</li></ul><h2><span id="æ¶æ„"><strong>æ¶æ„</strong></span></h2><br><p><img src="/images/wsl1_component.png" alt="WSL 1 Architecture"></p><p><strong>å·¥ä½œæµå¤§æ¦‚æ˜¯ï¼š</strong>Windows çš„ Bash é”®å…¥æŒ‡ä»¤ï¼Œäº¤ç”± LXSS Manager Service å¯åŠ¨å¯¹åº”çš„ Linux å®ä¾‹å¹¶è¿›å…¥å¯¹åº”çš„ Pico è¿›ç¨‹ï¼ŒLinux çš„ Bash é€šè¿‡ä¸­é—´å±‚çš„é©±åŠ¨å™¨ä¸ Windows Kernel è¿›è¡Œç¿»è¯‘äº¤æµï¼ˆ<u>â€œThe lxss.sys and lxcore.sys drivers translate the Linux system calls into NT APIs and emulate the Linux kernel.â€</u>ï¼‰ã€‚</p><p><img src="/images/wsl1_lecture.png" alt="Deepu Thomas and Seth Juarez discuss the underlying architecture that enables the Windows Subsystem for Linux"></p><h3><span id="lxss-manager-service">LXSS Manager Service</span></h3><ul><li><strong>LXSS Manager Service è´Ÿè´£ Windows çš„ Bashï¼ˆWin32 Processï¼‰å’Œ Linux çš„ Bashï¼ˆPico Processï¼‰ä¹‹é—´çš„é€šä¿¡ï¼Œä¸»è¦åœ¨åˆå§‹æ—¶å·¥ä½œã€‚</strong>ä½œç”¨èŒƒå›´åŒ…æ‹¬ä½†ä¸å±€é™äºï¼šåŒæ­¥ Linux å®ä¾‹çš„å®‰è£…å’Œå¸è½½ã€æ¯æ¬¡åªå…è®¸ä¸€ä¸ªè¿›ç¨‹å¯åŠ¨ Linux Binary å¹¶åœ¨ pending æ—¶é˜»å¡åç»­å¯åŠ¨è¿›ç¨‹ç­‰ç­‰ã€‚</li></ul><h3><span id="pico-drivers">Pico Drivers</span></h3><ul><li><strong>Pico Drivers è´Ÿè´£ Linux Instanceï¼ˆUser Modeï¼‰å’Œ Windows Kernelï¼ˆKernel Modeï¼‰ä¹‹é—´çš„é€šä¿¡ï¼Œä¸»è¦åœ¨è¿è¡Œæ—¶å·¥ä½œã€‚</strong>ä½œç”¨èŒƒå›´åŒ…æ‹¬ä½†ä¸å±€é™äºï¼šç¿»è¯‘ Linux system calls ä¸º Windows NT APIs å¯ä»¥ç†è§£çš„å½¢å¼ï¼Œæ¨¡æ‹Ÿ Linux å†…æ ¸å¹¶å¯¹ Windows å†…æ ¸è¿›è¡Œæ“ä½œç­‰ç­‰ã€‚</li></ul><h3><span id="pico-processes">Pico Processes</span></h3><ul><li><strong>å°†å¯æ‰§è¡Œçš„ ELF binaries åŠ è½½è¿›åˆ° Pico Processes çš„åœ°å€ç©ºé—´ï¼Œå¹¶åœ¨ Linux å±‚ä¸Šè¿è¡Œã€‚</strong>å…¶ä¸­ Linux å®ä¾‹æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„ä¸º Pico Processes æœåŠ¡çš„æ•°æ®ç»“æ„ï¼Œå¯ä»¥åŒ…å«å¹¶è¿½è¸ªæ‰€æœ‰çš„ Linux è¿›ç¨‹ã€çº¿ç¨‹å’Œè¿è¡ŒçŠ¶æ€ã€‚å®ƒåœ¨ Win32 Process é¦–æ¬¡å¯åŠ¨ Linux Binary æ—¶åˆ›å»ºï¼Œåœ¨ Win32 Process æœ€åçš„å®¢æˆ·ç«¯å…³é—­è¿æ¥æ—¶è¢«é”€æ¯ã€‚ä»æ•´ä½“ä¸Šçœ‹ï¼Œæ•´ä¸ª WSL 1 åªæœ‰ä¸€ä¸ª Linux å®ä¾‹ï¼Œå®ƒéš”ç¦»å¼€äº†æœ¬æœºåŸæœ‰çš„ Windows å’Œæ‰€æœ‰æ–°å»ºçš„ Linux ï¼›ä»å†…éƒ¨æ¥çœ‹ï¼ŒLinux å®ä¾‹å†…çš„æ¯ä¸ª Pico Process éƒ½è¢«å•ç‹¬éš”ç¦»ï¼Œè¿™ç‚¹å’Œå®¹å™¨å¾ˆç±»ä¼¼ã€‚</li></ul><h2><span id="åŠŸèƒ½"><strong>åŠŸèƒ½</strong></span></h2><br><p>ç”±äº Windows Kernel å’Œ Linux Kernel <strong>åŸºæœ¬ä¸Šä¸å…¼å®¹</strong>ï¼Œéœ€è¦<strong>é¢å¤–å¤„ç†å¾ˆå¤šä¸­é—´è½¬æ¢</strong>ï¼Œä¸€èˆ¬åŒ…æ‹¬ç³»ç»Ÿè°ƒç”¨ã€æ–‡ä»¶ç³»ç»Ÿã€æƒé™ç®¡ç†å’Œç½‘ç»œé…ç½®ç­‰ï¼Œä¸‹é¢ä»‹ç»æœ€åŸºæœ¬å’Œæœ€é‡è¦çš„ä¸¤ä¸ªæ–¹é¢ï¼š</p><h3><span id="system-calls">System Calls</span></h3><ul><li><p>syscall æ˜¯å†…æ ¸æä¾›çš„ä¸€é¡¹æœåŠ¡ï¼Œå¯ä»¥åœ¨ç”¨æˆ·æ¨¡å¼ä¸‹è°ƒç”¨ã€‚<strong>Windows Kernel å’Œ Linux Kernel éƒ½æš´éœ²äº†éå¸¸å¤šçš„ syscallï¼Œä½†ä¸¤è€…å¯¹æ­¤çš„è®¾è®¡æ¨¡å¼å¹¶ä¸åŒå¯¼è‡´ä¸å…¼å®¹ã€‚</strong></p></li><li><p><strong>è§£å†³è¿™ç§å†²çªçš„æ–¹æ³•æ˜¯å¼•å…¥ Pico Driversï¼ˆ<code>lxss.sys</code> and <code>lxcore.sys</code>ï¼‰ã€‚</strong>å½“ä¸€ä¸ª Linux Kernel syscall è¢«è°ƒç”¨ï¼Œè¯¥è¯·æ±‚å°†è¢«è½¬å‘ç»™ <code>lxcore.sys</code>ï¼Œ<code>lxcore.sys</code> å°† Linux Kernel syscall ç¿»è¯‘æˆç­‰ä»·çš„ Windows Kernel syscallï¼Œæœ€åä¼ åˆ° Windows Kernelã€‚ç‰¹åˆ«åœ°ï¼Œå¦‚æœåœ¨ä¸¤ç§å†…æ ¸ä¹‹é—´æœ‰æŸä¸ª syscall ä¸å­˜åœ¨æ˜ å°„å…³ç³»ï¼ˆäº¦å³ä¸èƒ½äº’ç›¸ç¿»è¯‘ï¼‰ï¼Œ<code>lxss.sys</code> è¿˜è¢«è¦æ±‚å¤„ç†è¿™ç§å¼‚å¸¸å¹¶æä¾›ç›¸åº”çš„æœåŠ¡ã€‚</p><ol><li><p><em>ä»¥ Linux çš„ <code>fork()</code> ä¸ºä¾‹ï¼š</em></p><blockquote><p>As an example, the Linux fork() syscall has no direct equivalent call documented for Windows. When a fork system call is made to the Windows Subsystem for Linux, <code>lxcore.sys</code> does some of the initial work to prepare for copying the process. It then calls internal Windows NT kernel APIs to create the process with the correct semantics, and completes copying additional data for the new process.</p></blockquote></li><li><p><em>ä»¥ Linux çš„ <code>chmod</code> ä¸ºä¾‹ï¼š</em></p><blockquote><p>Linux Instance äº§ç”Ÿé™„åŠ  metadataï¼Œåªç”± Linux æ–‡ä»¶ç³»ç»Ÿèƒ½ç†è§£ï¼Œ Windows æ–‡ä»¶ç³»ç»Ÿå¹¶ä¸èƒ½ç†è§£ï¼Œä½†æ˜¯ Windows Kernel ä»ä¼šæ¥æ”¶è¯¥ metadataã€‚ä½†æ˜¯ NTFS å¯¹è¿™ä¸ª metadata æ— åŠ¨äºè¡·ï¼Œè€Œæ˜¯ <code>lxss.sys</code> å¤„ç†è¯¥ metadataï¼Œæœ€ç»ˆåæ˜ åˆ° ext4 ä¸­ã€‚ç”±æ­¤å¯è§ï¼ŒWSL 1 éå¸¸å¤§çš„å·¥ä½œé‡éƒ½è¦èŠ±åœ¨åº”å¯¹ä¸å…¼å®¹çš„æŒ‡ä»¤é›†ã€‚</p></blockquote></li></ol><p><em>PS: å°½ç®¡ Linux çš„å†…æ ¸æ›´æ–°å¾—éå¸¸å¿«ï¼Œç”¨æˆ·æ¨¡å¼çš„æ¥å£å´æ˜¯ç›¸å¯¹å›ºå®šçš„ï¼Œæ‰€ä»¥å¯ä»¥è®¤ä¸º<u>â€œWSL 1 abstracts the Linux kernel via their interfaceâ€</u></em></p></li></ul><h3><span id="file-system">File System</span></h3><ul><li><p>ç”±äº Windows å’Œ Linux çš„æ–‡ä»¶ç³»ç»Ÿä¹Ÿä¸ç›¸åŒï¼ˆWindows çš„æ–‡ä»¶ç³»ç»Ÿæ˜¯ NTFSï¼ŒLinux çš„æ–‡ä»¶ç³»ç»Ÿæ˜¯ ext4ï¼‰ï¼Œä¸èƒ½ç›´æ¥äº’ç›¸æ“ä½œã€‚<strong>WSL çš„æ–‡ä»¶ç³»ç»Ÿè®¾è®¡éœ€è¦æ»¡è¶³ä¸¤ç‚¹ï¼š</strong></p><ol><li>å®Œæ•´æ”¯æŒ Linux æ–‡ä»¶ç³»ç»Ÿ</li><li>å¯è®¿é—®å’Œæ“ä½œ Windows ä¸­çš„ç£ç›˜å’Œæ–‡ä»¶</li></ol></li><li><p><strong>ä¸ºå®ç°ä»¥ä¸Šçš„ç›®æ ‡ WSL å¼•å…¥äº†ä¸¤å¥—æ–‡ä»¶ç³»ç»Ÿï¼ˆVolFs and DriveFsï¼‰ã€‚</strong> VolFs æ–‡ä»¶ç³»ç»Ÿä¸»è¦æä¾›äº† Linux æ–‡ä»¶ç³»ç»Ÿç‰¹æ€§çš„æ”¯æŒï¼Œæ¯”å¦‚ Linux æ–‡ä»¶ç›®å½•ï¼ˆ/etc, /bin, /usr, etc.ï¼‰ã€æƒé™ç®¡ç†å’Œç¬¦å·é“¾æ¥ç­‰ç­‰ã€‚DriveDs æ–‡ä»¶ç³»ç»Ÿä¸»è¦ç”¨äºä¸ Windows åšäº¤äº’ï¼Œæ¯”å¦‚ Windows æ–‡ä»¶ç›®å½•ï¼ˆ/mnt/c, /mnt/d, etc.ï¼‰ã€å¯åŠ¨ Windows çš„å¯æ‰§è¡Œæ–‡ä»¶ç­‰ç­‰ã€‚</p><p><em>PS: éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸¤å¥—æ–‡ä»¶ç³»ç»Ÿä¹‹é—´æ˜¯å¦‚ä½•è¿›è¡Œäº¤äº’çš„å¹¶æœªåœ¨åŸåšå®¢è¯¦ç»†è®¨è®ºï¼Œæ„Ÿå…´è¶£çš„å°ä¼™ä¼´å¯è‡ªè¡Œé˜…è¯»ç»­ç¯‡ <a href="https://blogs.msdn.microsoft.com/wsl/2016/06/15/wsl-file-system-support/" target="_blank" rel="noopener">WSL File System Support</a></em> </p></li></ul><h2><span id="æ€»ç»“"><strong>æ€»ç»“</strong></span></h2><br><p><strong>ç®€å•çš„ç†è§£ï¼š</strong>WSL 1 åœ¨ Windows Kernel ä¹‹ä¸Šåˆ›å»º Linux Instanceï¼ŒWin32 Process é€šè¿‡ LXSS Manager Service ç®¡ç† Pico Processï¼Œç”¨æˆ·æ¨¡å¼çš„ Linux Instance å’Œå†…æ ¸æ¨¡å¼çš„ Windows Kernel ä¹‹é—´é€šè¿‡ Pico Drivers äº¤æµï¼Œä¾é ä¸­é—´å±‚é©±åŠ¨å™¨ç¿»è¯‘å¯ä»¥è§£å†³ System Calls ä¸å…¼å®¹çš„é—®é¢˜ï¼Œè®¾è®¡ä¸¤å¥—æ–‡ä»¶ç³»ç»Ÿèƒ½å¤Ÿæ»¡è¶³åŒæ—¶ä½¿ç”¨ Windows å’Œ Linux çš„éœ€è¦ã€‚</p><h2><span id="å‚è€ƒé“¾æ¥"><strong>å‚è€ƒé“¾æ¥</strong></span></h2><ul><li><a href="https://blogs.msdn.microsoft.com/wsl/2016/04/22/windows-subsystem-for-linux-overview/" target="_blank" rel="noopener">Windows Subsystem for Linux Overview</a></li><li><a href="http://research.microsoft.com/en-us/projects/drawbridge/" target="_blank" rel="noopener">Project Drawbridge</a></li></ul><hr>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å¯¹ &lt;strong&gt;WSL 1 çš„ä¸€äº›å®ç°ç»†èŠ‚&lt;/strong&gt;è¿›è¡Œè¡¥å……è¯´æ˜ï¼Œä¸»è¦åˆ†ä¸ºä»¥ä¸‹&lt;strong&gt;äº”ä¸ªéƒ¨åˆ†&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å‰æƒ…æè¦&lt;/li&gt;
&lt;li&gt;èƒŒæ™¯&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ¶æ„ä¸åŠŸèƒ½&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;æ€»ç»“&lt;/li&gt;
&lt;li&gt;å‚è€ƒé“¾æ¥&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
    
    </summary>
    
    
      <category term="Operation" scheme="https://lottewong.github.io/categories/Operation/"/>
    
    
      <category term="Linux" scheme="https://lottewong.github.io/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>#Operation# WSLä»å…¥é—¨åˆ°...(1) WSL 1 vs WSL 2</title>
    <link href="https://lottewong.github.io/2019/12/12/WSL%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0...(1)/"/>
    <id>https://lottewong.github.io/2019/12/12/WSL%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0...(1)/</id>
    <published>2019-12-11T23:00:21.000Z</published>
    <updated>2020-01-13T10:11:31.699Z</updated>
    
    <content type="html"><![CDATA[<p>å¯¹æ¯”<strong>é€‚ç”¨äº Linux çš„ Windows å­ç³»ç»Ÿï¼ˆWindows Subsystem for Linux, WSLï¼‰</strong>çš„ä¸¤ä¸ªç‰ˆæœ¬ - <strong>WSL 1</strong> å’Œ <strong>WSL 2</strong> ï¼Œä¸»è¦åˆ†ä¸ºä»¥ä¸‹<strong>å…­ä¸ªéƒ¨åˆ†</strong>ï¼š</p><ul><li>å‰æƒ…æè¦</li><li>ç›¸å…³ç®€ä»‹</li><li><strong>æ€§èƒ½å¯¹æ¯”</strong></li><li><strong>æ¶æ„å¯¹æ¯”</strong></li><li>å‡ ç‚¹æ€»ç»“</li><li>å‚è€ƒé“¾æ¥</li></ul><hr><a id="more"></a><h1><span id="ç›®å½•-table-of-contents"><strong>ç›®å½• Table of Contents</strong></span></h1><!-- toc --><ul><li><a href="#å‰æƒ…æè¦"><strong>å‰æƒ…æè¦</strong></a></li><li><a href="#ç›¸å…³ç®€ä»‹"><strong>ç›¸å…³ç®€ä»‹</strong></a></li><li><a href="#æ€§èƒ½å¯¹æ¯”"><strong>æ€§èƒ½å¯¹æ¯”</strong></a><ul><li><a href="#file-system-performance">File system performance</a></li><li><a href="#full-system-call-compatibility">Full system call compatibility</a></li></ul></li><li><a href="#æ¶æ„å¯¹æ¯”"><strong>æ¶æ„å¯¹æ¯”</strong></a><ul><li><a href="#wsl-1">WSL 1</a></li><li><a href="#wsl-2">WSL 2</a><ul><li><a href="#linux-kernel">Linux Kernel</a></li><li><a href="#virtualization">Virtualization</a></li></ul></li></ul></li><li><a href="#å‡ ç‚¹æ€»ç»“"><strong>å‡ ç‚¹æ€»ç»“</strong></a></li><li><a href="#å‚è€ƒé“¾æ¥"><strong>å‚è€ƒé“¾æ¥</strong></a></li></ul><!-- tocstop --><hr><h2><span id="å‰æƒ…æè¦"><strong>å‰æƒ…æè¦</strong></span></h2><br><p><em>å‰é˜µç½‘ä¸Šå†²æµªå›´è§‚ M$ Build 2019 çš„ WSL Session ï¼Œæ„Ÿå—äº†ä¸€æ³¢  Microsoft â¤ Open Sourceï¼Œé‚å†³å®šæ ¹æ®è®²åº§å’Œæ–‡æ¡£å†…å®¹å½“ä¸€æ¬¡å¤è¯»æœºè®¨è®ºä¸€ä¸‹ WSL ( å•Šæˆ‘çš„å¡‘æ–™è‹±è¯­_(:Ğ·)âˆ )_ã€‚</em></p><h2><span id="ç›¸å…³ç®€ä»‹"><strong>ç›¸å…³ç®€ä»‹</strong></span></h2><br><blockquote><p><strong>The Windows Subsystem for Linux</strong> lets developers run a GNU/Linux environment â€“ including most command-line tools, utilities, and applications â€“ directly on Windows, unmodified, without the overhead of a virtual machine.</p></blockquote><ul><li><strong>é€‚ç”¨äº Linux çš„ Windows å­ç³»ç»Ÿï¼ˆWindows Subsystem for Linux, WSLï¼‰</strong>å¯ä»¥ç®€å•åœ°ç†è§£ä¸ºåœ¨ Windows ä¸Šæä¾›äº†è¿è¡Œ Linux çš„å¹³å°ã€‚ç”±äºæ˜¯ Subsystem ï¼Œä¸è£¸æœºè£… Linux Distribution ç›¸æ¯”ï¼Œå­˜åœ¨åŠŸèƒ½é™åˆ¶å’Œæ€§èƒ½æ‰“æŠ˜çš„æƒ…å†µã€‚</li></ul><blockquote><p>You can:</p><p>â€¦â€¦</p><ul><li><p><strong>Invoke Windows applications</strong> using a Unix-like command-line shell.</p></li><li><p><strong>Invoke GNU/Linux applications</strong> on Windows.</p></li></ul><p>â€¦â€¦</p></blockquote><ul><li>å¯¹äºæ‡’å¾—å¼€è™šæ‹Ÿæœºorè£…åŒç³»ç»Ÿ + ECSæ¸£æ¸£çº§é…ç½® + éå°Šè´µè‹¹æœç”¨æˆ·è€Œè¨€ï¼Œ WSL è¿˜æ˜¯å¾ˆæœ‰å¸å¼•åŠ›çš„ (è™½ç„¶ä¹Ÿå¾ˆå¤šå‘ã€‚é™¤äº†<strong>å¯¹ Linux æœ¬èº«æœ‰éœ€æ±‚</strong>å¤–ï¼Œä¸Šé¢æåˆ°çš„ <strong>Windows å’Œ Linux äº’ç›¸invoke</strong> ä¹Ÿå¾ˆæœ‰æ„æ€ï¼Œ WSL å› æ­¤å¤§å¤§é™ä½äº†åŸæœ¬é…ç½®ä¸¤ä¸ªæ–‡ä»¶ç³»ç»Ÿçš„ç¹çç¨‹åº¦ã€‚</li></ul><h2><span id="æ€§èƒ½å¯¹æ¯”"><strong>æ€§èƒ½å¯¹æ¯”</strong></span></h2><br><p><strong>WSL 2</strong> ç›¸æ¯” <strong>WSL 1</strong>ï¼Œä¸»è¦<strong>ä¼˜åŒ–äº†è®¿é—®æ–‡ä»¶ç³»ç»Ÿçš„é€Ÿåº¦</strong>ä»¥åŠ<strong>æä¾›äº†æ›´å®Œæ•´çš„ç³»ç»Ÿè°ƒç”¨æ¥å£</strong>ã€‚</p><h3><span id="file-system-performance">File system performance</span></h3><p><img src="/images/file_system_performance.png" alt="File system performance"></p><h3><span id="full-system-call-compatibility">Full system call compatibility</span></h3><p><img src="/images/full_system_call_compatibility.png" alt="Full system call compatibility"></p><h2><span id="æ¶æ„å¯¹æ¯”"><strong>æ¶æ„å¯¹æ¯”</strong></span></h2><br><h3><span id="wsl-1">WSL 1</span></h3><p><img src="/images/wsl1_architecture.png" alt="WSL 1 Architecture"></p><ul><li><p><strong>WSL 1</strong> çš„å¤§ä½“æ€è·¯æ˜¯ï¼Œåœ¨ä¸€å° Windows ä¸»æœºä¸Šå®‰è£… Linux å‘è¡Œç‰ˆæœ¬ï¼Œä¾èµ–<strong>ä¸­é—´å±‚çš„é©±åŠ¨å™¨</strong>å®Œæˆ Linux Namespace å’Œ Windows Kernel ä¹‹é—´çš„<strong>é€šä¿¡æ•è·å’ŒæŒ‡ä»¤ç¿»è¯‘</strong>ï¼ˆæ¯”å¦‚ <code>path</code> å’Œ <code>flag</code> ï¼‰ï¼Œä½œç”¨èŒƒå›´åŒ…æ‹¬ä½†ä¸å±€é™äºç³»ç»Ÿè°ƒç”¨ã€æ–‡ä»¶ç³»ç»Ÿã€æƒé™ç®¡ç†å’Œç½‘ç»œé…ç½®ç­‰ã€‚</p></li><li><p>è¿™æ ·çš„è®¾è®¡å­˜åœ¨ä¸€äº›<strong>ç¼ºé™·</strong>ï¼š</p><ol><li>æŸäº›ç¿»è¯‘æ— å¯é¿å…åœ°éœ€è¦ä»˜å‡ºæ—¶ç©ºä»£ä»·ï¼Œç”šè‡³ç”±äºä¸¤ç§å†…æ ¸çš„è®¾è®¡æ€æƒ³å­˜åœ¨å†²çªè€Œæ— æ³•è¿›è¡Œã€‚</li><li>ç”±äº Linux Kernel æ›´æ–°å¾—éå¸¸å¿«ï¼Œå•é  M$ Team è‡ªå·±å®ç°ç¿»è¯‘ï¼Œå¼€å‘è¿›åº¦è¿œè¿œæ»åäºå®é™…ç”Ÿäº§éœ€æ±‚ã€‚</li></ol></li></ul><p>ã€æ›´å¤šè¯¦è§ ğŸ‘‰ <a href="https://lottewong.github.io/2019/12/13/WSL%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0...(2)/">WSLä»å…¥é—¨åˆ°â€¦(2) Dive into WSL 1</a>ã€‘</p><h3><span id="wsl-2">WSL 2</span></h3><p><img src="/images/wsl2_architecture.png" alt="WSL 2 Architecture"></p><ul><li><p><strong>WSL 2</strong> çš„å¤§ä½“æ€è·¯æ˜¯ï¼Œ<strong>å¼€å¯ Hyper-V åŠŸèƒ½</strong>ï¼ŒWindows Hyper-V Containerï¼ˆåŒ…å«Windows Kernelå’ŒWindows Usermodeï¼‰<strong>æŒç»­è¿è¡Œ</strong>ï¼ŒLinux Hyper-V Containerï¼ˆåŒ…å«Linux Kernelå’ŒLinux Usermodeï¼‰<strong>éšç”¨éšå¼€</strong>ï¼Œä¸¤è€…<strong>é€šè¿‡ Socket é€šä¿¡</strong>ã€‚</p></li><li><p>è¿™æ ·çš„è®¾è®¡å­˜åœ¨ä¸€äº›<strong>ç¼ºé™·</strong>ï¼š</p><ol><li>éœ€è¦å¤„ç†å™¨æä¾›è™šæ‹ŸåŒ–é€‰é¡¹ï¼Œä¸€äº› arm64 æ¶æ„çš„èŠ¯ç‰‡ä¸æ”¯æŒè¯¥åŠŸèƒ½ã€‚</li><li>Windows å¼€Hyper-Våå°†æ— æ³•åŒæ—¶è¿è¡Œ VMware å’Œ Virtual Box ç­‰å·¥å…·ï¼Œå› ä¸ºå®ƒä»¬éƒ½è¦æ±‚ç‹¬å  Hypervisor æ‰èƒ½å¤Ÿè¿è¡Œã€‚</li><li>è™šæ‹ŸåŒ–ä¼´éšä¸€ç³»åˆ—ä¸€è‡´æ€§é—®é¢˜ï¼Œæ¯”å¦‚æƒé™ç®¡ç†å’Œç½‘ç»œé…ç½®ç­‰ç­‰ã€‚</li></ol></li></ul><p>ã€æ›´å¤šè¯¦è§ ğŸ‘‰ <a href="https://lottewong.github.io/2020/01/13/WSL%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0...(3)/">WSLä»å…¥é—¨åˆ°â€¦(3) Dive into WSL 2</a>ã€‘</p><h4><span id="linux-kernel">Linux Kernel</span></h4><ul><li><p>ç”¨ Linux Kernel æ˜¯ä¸ºäº†<strong>è§£å†³ WSL 1 çš„é—ç•™é—®é¢˜</strong>ï¼ˆ<u>â€œUses real Linux kernel for improved performance and perfect compatibilityâ€</u>ï¼‰ï¼Œç¿»è¯‘ä¸å¥½æå°±â€œæ‹¿æ¥ä¸»ä¹‰â€ã€‚ M$ ç”šè‡³ä¸º WSL 2 å®šåˆ¶äº† Linux Kernel  (æ²¡æƒ³åˆ°å§.jpg</p><p><img src="/images/linux_kernel.png" alt="Shipping a Linux Kernel with Windows"> </p></li></ul><h4><span id="virtualization">Virtualization</span></h4><ul><li><p>è¦<strong>ä½¿ä¸¤ç§å†…æ ¸èƒ½å¤Ÿå…±å­˜</strong>æœ€ç›´æ¥çš„æ€è·¯å°±æ˜¯ä½¿ç”¨è™šæ‹ŸåŒ–æŠ€æœ¯ï¼Œè€Œ WSL 2 é‡‡ç”¨äº†ä¸€ç§æœ‰åˆ«äºä¼ ç»Ÿè™šæ‹Ÿæœºå’Œæ–°å…´å®¹å™¨çš„æ–°(?)æ–¹æ³• - Lightweight utility VMï¼Œå…¶ç‰¹ç‚¹æ˜¯é›†æˆåº¦é«˜ï¼ˆå…³è” Windows æœåŠ¡ï¼‰ä¸”åªåœ¨è¿è¡Œæ—¶å¯åŠ¨ï¼ˆå¦åˆ™è¢«é”€æ¯å›æ”¶ï¼‰ã€‚</p><p><img src="/images/virtualization.png" alt="Lightweight utility VM"></p><ol><li><p>ç›¸æ¯”ä¼ ç»Ÿè™šæ‹Ÿæœºï¼Œå†…å­˜å ç”¨æ›´å°ã€å¯åŠ¨é€Ÿåº¦æ›´å¿«ä»¥åŠå¯ä»¥åŒæ—¶è¿è¡Œæ›´å¤šå®ä¾‹ã€‚</p></li><li><p>ç›¸æ¯”æ–°å…´å®¹å™¨ï¼ŒåŸºäº Hyper-V é¢å‘ server åœºæ™¯ï¼Œæœ¬è´¨è¿˜æ˜¯ VM ï¼Œéš”ç¦»å¾—æ›´å½»åº•ã€‚</p></li></ol><p><img src="/images/hyper_v_container.png" alt="Hyper-V Containers"></p></li></ul><h2><span id="å‡ ç‚¹æ€»ç»“"><strong>å‡ ç‚¹æ€»ç»“</strong></span></h2><br><p>æ ¹æ®PMçš„è¯´æ³•ï¼Œ <strong>WSL 1</strong> å’Œ <strong>WSL 2</strong> ä¼šå¹¶è¡Œç»´æŠ¤ï¼Œæ—¢é€‚ç”¨äº<strong>æ¡Œé¢ç‰ˆ</strong>ä¹Ÿå¯ä»¥è¿è¡Œåœ¨<strong>æœåŠ¡å™¨</strong>ã€‚ä¸‹é¢ç®€å•å›é¡¾ä¸¤è€…çš„<strong>åŒºåˆ«</strong>ï¼š</p><table><thead><tr><th></th><th>WSL 1</th><th>WSL 2</th></tr></thead><tbody><tr><td>æ ¸å¿ƒæŠ€æœ¯</td><td>Pico provider drivers</td><td>Lightweight utility VM</td></tr><tr><td>åŒä¸€å®ä¾‹ï¼ˆContainerï¼‰</td><td>âœ“</td><td>âœ—</td></tr><tr><td>é¢å¤–æ”¯æŒï¼ˆè™šæ‹ŸåŒ–ï¼‰</td><td>âœ—</td><td>âœ“</td></tr><tr><td>æ–‡ä»¶ç³»ç»Ÿ</td><td>è®¿é—®æ…¢</td><td>è®¿é—®å¿«</td></tr><tr><td>ç³»ç»Ÿè°ƒç”¨</td><td>ç¼ºå°‘</td><td>å®Œæ•´</td></tr><tr><td>æƒé™ç®¡ç†</td><td>ç›¸åŒ</td><td>ä¸åŒ</td></tr><tr><td>ç½‘ç»œé…ç½®</td><td>ç›¸åŒ</td><td>ä¸åŒ</td></tr></tbody></table><br><p>åç»­ä¸¤èŠ‚å°†åˆ†åˆ«å†æ·±å…¥ä»‹ç» <strong>WSL 1 å’Œ WSL 2 çš„å®ç°ç»†èŠ‚</strong>ã€‚é‚£ä¹ˆæˆ‘å…ˆå å‘é€ƒäº†ï¼ˆï¼ˆï¼ˆ</p><h2><span id="å‚è€ƒé“¾æ¥"><strong>å‚è€ƒé“¾æ¥</strong></span></h2><ul><li><a href="https://mybuild.techcommunity.microsoft.com/sessions/77003" target="_blank" rel="noopener">The new Windows subsystem for Linux architecture: a deep dive</a></li><li><a href="https://docs.microsoft.com/en-us/windows/wsl/about" target="_blank" rel="noopener">Windows Subsystem for Linux Documentation</a></li></ul><hr>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å¯¹æ¯”&lt;strong&gt;é€‚ç”¨äº Linux çš„ Windows å­ç³»ç»Ÿï¼ˆWindows Subsystem for Linux, WSLï¼‰&lt;/strong&gt;çš„ä¸¤ä¸ªç‰ˆæœ¬ - &lt;strong&gt;WSL 1&lt;/strong&gt; å’Œ &lt;strong&gt;WSL 2&lt;/strong&gt; ï¼Œä¸»è¦åˆ†ä¸ºä»¥ä¸‹&lt;strong&gt;å…­ä¸ªéƒ¨åˆ†&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å‰æƒ…æè¦&lt;/li&gt;
&lt;li&gt;ç›¸å…³ç®€ä»‹&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ€§èƒ½å¯¹æ¯”&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ¶æ„å¯¹æ¯”&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;å‡ ç‚¹æ€»ç»“&lt;/li&gt;
&lt;li&gt;å‚è€ƒé“¾æ¥&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
    
    </summary>
    
    
      <category term="Operation" scheme="https://lottewong.github.io/categories/Operation/"/>
    
    
      <category term="Linux" scheme="https://lottewong.github.io/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>#Testing# HTTPçš„é€šä¿¡ç›‘æ§å’Œå›æ”¾ï¼šFiddleræŠ“åŒ…ä¸Socketå‘åŒ…</title>
    <link href="https://lottewong.github.io/2019/10/15/HTTP%E7%9A%84%E9%80%9A%E4%BF%A1%E7%9B%91%E6%8E%A7%E5%92%8C%E5%9B%9E%E6%94%BE%EF%BC%9AFiddler%E6%8A%93%E5%8C%85%E4%B8%8ESocket%E5%8F%91%E5%8C%85/"/>
    <id>https://lottewong.github.io/2019/10/15/HTTP%E7%9A%84%E9%80%9A%E4%BF%A1%E7%9B%91%E6%8E%A7%E5%92%8C%E5%9B%9E%E6%94%BE%EF%BC%9AFiddler%E6%8A%93%E5%8C%85%E4%B8%8ESocket%E5%8F%91%E5%8C%85/</id>
    <published>2019-10-14T23:00:21.000Z</published>
    <updated>2020-01-02T07:38:11.350Z</updated>
    
    <content type="html"><![CDATA[<p>åˆ©ç”¨<strong>Fiddler</strong>æŠ“åŒ…å’Œ<strong>Socket</strong>å‘åŒ…ï¼Œå¹¶ç”¨<strong>Curl</strong>ç»Ÿè®¡å“åº”æ—¶é—´ï¼Œä¸»è¦åˆ†ä¸ºä»¥ä¸‹<strong>å››ä¸ªéƒ¨åˆ†</strong>ï¼š</p><ul><li>å·¥å…·çš„é…ç½®åŠå·¥å…·çš„ä½¿ç”¨</li><li><strong>æˆªè·ã€ä¿®æ”¹ã€å‘é€æ•°æ®åŒ…</strong></li><li><strong>ç»Ÿè®¡ç½‘é¡µå’Œå…ƒç´ çš„å“åº”æ—¶é—´</strong></li><li>éœ€æ³¨æ„äº‹é¡¹åŠå¾…æ”¹è¿›äº‹é¡¹</li></ul><hr><a id="more"></a><h1><span id="ç›®å½•-table-of-contents"><strong>ç›®å½• Table of Contents</strong></span></h1><!-- toc --><ul><li><a href="#ä»»åŠ¡-task"><strong>ä»»åŠ¡ Task</strong></a></li><li><a href="#å·¥å…·çš„é…ç½®-configuration"><strong>å·¥å…·çš„é…ç½® Configuration</strong></a><ul><li><a href="#å®‰è£…å·¥å…·">å®‰è£…å·¥å…·</a></li><li><a href="#å‹¾é€‰è§£ç ">å‹¾é€‰è§£ç </a></li><li><a href="#è¿‡æ»¤ä¿å­˜">è¿‡æ»¤ä¿å­˜</a></li><li><a href="#è®¾ç½®æ–­ç‚¹">è®¾ç½®æ–­ç‚¹</a></li></ul></li><li><a href="#å·¥å…·çš„ä½¿ç”¨-usage"><strong>å·¥å…·çš„ä½¿ç”¨ Usage</strong></a><ul><li><a href="#statistics">Statistics</a></li><li><a href="#filters">Filters</a></li><li><a href="#inspectors">Inspectors</a></li><li><a href="#composer">Composer</a></li><li><a href="#autoresponder">AutoResponder</a></li></ul></li><li><a href="#æˆªè·æ•°æ®åŒ…-capture"><strong>æˆªè·æ•°æ®åŒ… Capture</strong></a><ul><li><a href="#å›¾å½¢ç•Œé¢">å›¾å½¢ç•Œé¢</a></li></ul></li><li><a href="#ä¿®æ”¹æ•°æ®åŒ…-modify"><strong>ä¿®æ”¹æ•°æ®åŒ… Modify</strong></a><ul><li><a href="#ç¨‹åºè„šæœ¬">ç¨‹åºè„šæœ¬</a></li></ul></li><li><a href="#å‘é€æ•°æ®åŒ…-send"><strong>å‘é€æ•°æ®åŒ… Send</strong></a><ul><li><a href="#fiddler">Fiddler</a></li><li><a href="#socket">Socket</a></li></ul></li><li><a href="#è®°å“åº”æ—¶é—´-analyses"><strong>è®°å“åº”æ—¶é—´ Analyses</strong></a><ul><li><a href="#fiddler-1">Fiddler</a></li><li><a href="#curl">Curl</a></li></ul></li><li><a href="#éœ€æ³¨æ„äº‹é¡¹-notices"><strong>éœ€æ³¨æ„äº‹é¡¹ Notices</strong></a></li><li><a href="#å¾…æ”¹è¿›äº‹é¡¹-todos"><strong>å¾…æ”¹è¿›äº‹é¡¹ Todos</strong></a></li></ul><!-- tocstop --><hr><h2><span id="ä»»åŠ¡-task"><strong>ä»»åŠ¡ Task</strong></span></h2><blockquote><p>éƒ¨ç½²ç±»ä¼¼Microsoft PetshopWebåº”ç”¨åŸºæœ¬å®ä¾‹ï¼Œå¼€å‘æ€§èƒ½æµ‹è¯•å°å·¥å…·èƒ½æˆªè·åŸºäºIEæµè§ˆå™¨ä¸WebæœåŠ¡å™¨çš„äº¤äº’çš„æ•°æ®åŒ…ï¼Œä¿®æ”¹æ•°æ®åŒ…ï¼ˆæ¯”å¦‚ç®€åŒ–èµ·è§ï¼Œä¿®æ”¹è¦æœç´¢çš„å…³é”®å­—ï¼‰ï¼Œå†æŠŠä¿®æ”¹åçš„å†…å®¹ä½¿ç”¨å¤šçº¿ç¨‹çš„æ–¹å¼å‘é€åˆ°æœåŠ¡å™¨ã€‚ç»Ÿè®¡è¯·æ±‚æ¯ä¸ªç½‘é¡µä¸Šä¸»è¦å…ƒç´ ï¼ˆgif,cssç­‰ï¼‰éœ€è¦çš„æ—¶é—´ï¼Œä»¥åŠè¯·æ±‚æ•´ä¸ªç½‘é¡µçš„æ—¶é—´ã€‚</p><p>æç¤ºï¼š</p><ol><li><p>åœ¨è·å–æ•°æ®åŒ…çš„è¿‡ç¨‹ä¸­è¦æ ¹æ®HTTPè¯·æ±‚çš„ç‰¹ç‚¹ï¼Œä»åŸå§‹çš„æ•°æ®åŒ…ä¸­è¿‡æ»¤å‡ºHTTPçš„æ•°æ®åŒ…ã€‚æ‰¾åˆ°æäº¤çš„â€œæœç´¢çš„å…³é”®å­—â€ï¼Œå°†å…¶æ›¿æ¢æˆå…¶å®ƒå­—ç¬¦ã€‚</p></li><li><p>å‘é€æ•°æ®åŒ…ä½¿ç”¨Socketï¼Œå¯ä»¥å‚è€ƒç½‘ç»œç¼–ç¨‹çš„èµ„æ–™ã€‚</p></li></ol></blockquote><p><img src="/images/fiddler_socket.png" alt="Flowchart"></p><h2><span id="å·¥å…·çš„é…ç½®-configuration"><strong>å·¥å…·çš„é…ç½® Configuration</strong></span></h2><h3><span id="å®‰è£…å·¥å…·">å®‰è£…å·¥å…·</span></h3><p><a href="https://www.telerik.com/fiddler" target="_blank" rel="noopener">Fiddlerä¸‹è½½åœ°å€</a></p><p><img src="/images/decrypt_https_1.png" alt="Decrypt to capture Https"></p><p><img src="/images/decrypt_https_2.png" alt="Decrypt to capture Https"></p><h3><span id="å‹¾é€‰è§£ç ">å‹¾é€‰è§£ç </span></h3><p><img src="/images/encode_decode.png" alt="GZip encoding is default in Fiddler"></p><h3><span id="è¿‡æ»¤ä¿å­˜">è¿‡æ»¤ä¿å­˜</span></h3><ol><li>æ‰‹åŠ¨</li></ol><p><img src="/images/filters.png" alt="Set filters"></p><p><img src="/images/save_sessions.png" alt="Save sessions"></p><ol start="2"><li>è„šæœ¬</li></ol><p><img src="/images/customize_rules_1.png" alt="Customize Rules"></p><p><img src="/images/customize_rules_2.png" alt="Edit scripts"></p><figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">if</span> (oSession.fullUrl.Contains(<span class="hljs-string">"baidu.com"</span>)) &#123;</span><br><span class="line">    <span class="hljs-comment">// for(var key in oSession.oRequest.headers) &#123;</span></span><br><span class="line">        <span class="hljs-comment">// if('Referer' === key) &#123;</span></span><br><span class="line">            <span class="hljs-keyword">if</span>(oSession.oRequest.headers[<span class="hljs-string">'Referer'</span>].indexOf(<span class="hljs-string">"&amp;wd="</span>) != <span class="hljs-number">-1</span>) &#123;</span><br><span class="line">                <span class="hljs-keyword">var</span> fso;</span><br><span class="line">                <span class="hljs-keyword">var</span> file;</span><br><span class="line">                fso = <span class="hljs-keyword">new</span> ActiveXObject(<span class="hljs-string">"Scripting.FileSystemObject"</span>);</span><br><span class="line">                file = fso.OpenTextFile(<span class="hljs-string">"E:\\MyPrograms\\fiddler_sessions\\Session"</span> + <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>().getTime() + <span class="hljs-string">".txt"</span>, <span class="hljs-number">8</span> ,<span class="hljs-literal">true</span>, <span class="hljs-literal">true</span>);</span><br><span class="line">                <span class="hljs-comment">// file.writeLine("Request url: " + oSession.url);</span></span><br><span class="line">                file.writeLine(<span class="hljs-string">"Request header:"</span> + <span class="hljs-string">"\n"</span> + oSession.oRequest.headers);</span><br><span class="line">                <span class="hljs-comment">// file.writeLine("Request body: " + oSession.GetRequestBodyAsString());</span></span><br><span class="line">                file.writeLine(<span class="hljs-string">"\n"</span>);</span><br><span class="line">                file.close();</span><br><span class="line">            &#125;</span><br><span class="line">        <span class="hljs-comment">// &#125;</span></span><br><span class="line">    <span class="hljs-comment">// &#125;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3><span id="è®¾ç½®æ–­ç‚¹">è®¾ç½®æ–­ç‚¹</span></h3><ol><li>æ‰‹åŠ¨</li></ol><p><img src="/images/breakpoints.png" alt="Set Breakpoints"></p><ol start="2"><li>å‘½ä»¤</li></ol><ul><li>åœ¨å·¦ä¸‹è§’é»‘æ¡†æ¡†ä¸­è¾“å…¥å‘½ä»¤<ul><li>åœæ­¢æ–­ç‚¹ï¼š<code>bpu</code></li><li>å¼€å§‹æ–­ç‚¹ï¼š<code>bpu $host</code></li></ul></li></ul><h2><span id="å·¥å…·çš„ä½¿ç”¨-usage"><strong>å·¥å…·çš„ä½¿ç”¨ Usage</strong></span></h2><h3><span id="statistics">Statistics</span></h3><p><img src="/images/statistics.png" alt="Statistics"></p><h3><span id="filters">Filters</span></h3><p><img src="/images/filters.png" alt="Filters"></p><h3><span id="inspectors">Inspectors</span></h3><p><img src="/images/inspectors.png" alt="Inspectors"></p><h3><span id="composer">Composer</span></h3><p><img src="/images/composer.png" alt="Composer"></p><h3><span id="autoresponder">AutoResponder</span></h3><p><img src="/images/auto_responder.png" alt="AutoResponder"></p><h2><span id="æˆªè·æ•°æ®åŒ…-capture"><strong>æˆªè·æ•°æ®åŒ… Capture</strong></span></h2><h3><span id="å›¾å½¢ç•Œé¢">å›¾å½¢ç•Œé¢</span></h3><ul><li>ä½¿ç”¨å›¾å½¢ç•Œé¢æˆ–ç¼–ç¨‹è„šæœ¬åº”ç”¨è¿‡æ»¤</li><li>ç‚¹å‡»å·¦ä¸‹è§’ <code>Capturingæˆ–ç©ºç™½å¤„</code> åœæ­¢æˆ–å¼€å§‹æˆªè·æ•°æ®åŒ…</li><li>ä½¿ç”¨StatisticsæŸ¥çœ‹æ—¶é—´ï¼Œä½¿ç”¨InspectorsæŸ¥çœ‹å†…å®¹</li><li>ä½¿ç”¨å›¾å½¢ç•Œé¢æˆ–ç¼–ç¨‹è„šæœ¬ä¿å­˜ä¼šè¯</li></ul><h2><span id="ä¿®æ”¹æ•°æ®åŒ…-modify"><strong>ä¿®æ”¹æ•°æ®åŒ… Modify</strong></span></h2><h3><span id="ç¨‹åºè„šæœ¬">ç¨‹åºè„šæœ¬</span></h3><ol><li><p>å¯¹äºæ‰‹åŠ¨ä¿å­˜çš„ä¼šè¯</p><figure class="highlight python hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment"># æ›¿æ¢è¯·æ±‚ä¸­çš„æœç´¢å­—æ®µ</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_ref</span><span class="hljs-params">(file, cont)</span>:</span></span><br><span class="line">    <span class="hljs-keyword">with</span> open(file, encoding=<span class="hljs-string">'utf-8'</span>) <span class="hljs-keyword">as</span> f:</span><br><span class="line">        lines = f.readlines()</span><br><span class="line">        <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> lines:</span><br><span class="line">            <span class="hljs-keyword">if</span> <span class="hljs-string">'Referer'</span> <span class="hljs-keyword">in</span> line:</span><br><span class="line">                start = line.find(<span class="hljs-string">"&amp;wd="</span>)</span><br><span class="line">                end = line.find(<span class="hljs-string">"&amp;rsv_pq="</span>)</span><br><span class="line">                old_str = line[start+<span class="hljs-number">4</span>:end]</span><br><span class="line">                new_str = parse.quote(cont)</span><br><span class="line">                line = line.replace(old_str, new_str)</span><br><span class="line">                <span class="hljs-keyword">return</span> line</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># é‡æ–°æ‹¼è£…éœ€å‘é€çš„æŠ¥æ–‡</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_req</span><span class="hljs-params">(file, cont)</span>:</span></span><br><span class="line">    msg = <span class="hljs-string">''</span></span><br><span class="line">    <span class="hljs-keyword">with</span> open(file, encoding=<span class="hljs-string">'utf-8'</span>) <span class="hljs-keyword">as</span> f:</span><br><span class="line">        lines = f.readlines()</span><br><span class="line">        <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> lines:</span><br><span class="line">            <span class="hljs-keyword">if</span> <span class="hljs-string">'GET'</span> <span class="hljs-keyword">in</span> line:</span><br><span class="line">                line = <span class="hljs-string">'GET '</span> + get_ref(file, cont)[<span class="hljs-number">9</span>:<span class="hljs-number">-1</span>] + <span class="hljs-string">' HTTP/1.1'</span></span><br><span class="line">            <span class="hljs-keyword">if</span> <span class="hljs-string">'Referer'</span> <span class="hljs-keyword">in</span> line:</span><br><span class="line">                line = get_ref(file, cont)</span><br><span class="line">            <span class="hljs-keyword">if</span> <span class="hljs-string">'Accept-Encoding'</span> <span class="hljs-keyword">in</span> line:</span><br><span class="line">                <span class="hljs-keyword">continue</span></span><br><span class="line">            line = line.strip(<span class="hljs-string">'\n'</span>) + <span class="hljs-string">'\r\n'</span></span><br><span class="line">            msg += line</span><br><span class="line">        msg = bytes(msg, encoding=<span class="hljs-string">"utf8"</span>)</span><br><span class="line">        <span class="hljs-keyword">return</span> msg</span><br></pre></td></tr></table></figure></li><li><p>å¯¹äºè‡ªåŠ¨ä¿å­˜çš„ä¼šè¯</p><figure class="highlight python hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment"># æ›¿æ¢è¯·æ±‚ä¸­çš„æœç´¢å­—æ®µ</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_ref</span><span class="hljs-params">(file, cont)</span>:</span></span><br><span class="line">    <span class="hljs-keyword">with</span> open(file, encoding=<span class="hljs-string">'utf-16'</span>) <span class="hljs-keyword">as</span> f:</span><br><span class="line">        lines = f.readlines()</span><br><span class="line">        <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> lines:</span><br><span class="line">            <span class="hljs-keyword">if</span> <span class="hljs-string">'Referer'</span> <span class="hljs-keyword">in</span> line:</span><br><span class="line">                start = line.find(<span class="hljs-string">"&amp;wd="</span>)</span><br><span class="line">                end = line.find(<span class="hljs-string">"&amp;rsv_pq="</span>)</span><br><span class="line">                old_str = line[start+<span class="hljs-number">4</span>:end]</span><br><span class="line">                new_str = parse.quote(cont)</span><br><span class="line">                line = line.replace(old_str, new_str)</span><br><span class="line">                <span class="hljs-keyword">return</span> line</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># é‡æ–°æ‹¼è£…éœ€å‘é€çš„æŠ¥æ–‡</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_req</span><span class="hljs-params">(file, cont)</span>:</span></span><br><span class="line">    msg = <span class="hljs-string">''</span></span><br><span class="line">    <span class="hljs-keyword">with</span> open(file, encoding=<span class="hljs-string">'utf-16'</span>) <span class="hljs-keyword">as</span> f:</span><br><span class="line">        lines = f.readlines()</span><br><span class="line">        <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> lines:</span><br><span class="line">            <span class="hljs-keyword">if</span> <span class="hljs-string">'Request header:'</span> <span class="hljs-keyword">in</span> line:</span><br><span class="line">                <span class="hljs-keyword">continue</span></span><br><span class="line">            <span class="hljs-keyword">if</span> <span class="hljs-string">'GET'</span> <span class="hljs-keyword">in</span> line:</span><br><span class="line">                line = <span class="hljs-string">'GET '</span> + get_ref(file, cont)[<span class="hljs-number">9</span>:<span class="hljs-number">-1</span>] + <span class="hljs-string">' HTTP/1.1'</span></span><br><span class="line">            <span class="hljs-keyword">if</span> <span class="hljs-string">'Referer'</span> <span class="hljs-keyword">in</span> line:</span><br><span class="line">                line = get_ref(file, cont)</span><br><span class="line">            <span class="hljs-keyword">if</span> <span class="hljs-string">'Accept-Encoding'</span> <span class="hljs-keyword">in</span> line:</span><br><span class="line">                <span class="hljs-keyword">continue</span></span><br><span class="line">            line = line.strip(<span class="hljs-string">'\n'</span>) + <span class="hljs-string">'\r\n'</span></span><br><span class="line">            msg += line</span><br><span class="line">        msg = bytes(msg[:<span class="hljs-number">-4</span>], encoding=<span class="hljs-string">"utf8"</span>)</span><br><span class="line">        <span class="hljs-keyword">return</span> msg</span><br></pre></td></tr></table></figure></li></ol><h2><span id="å‘é€æ•°æ®åŒ…-send"><strong>å‘é€æ•°æ®åŒ… Send</strong></span></h2><h3><span id="fiddler">Fiddler</span></h3><ol><li>ä½¿ç”¨WebForms</li></ol><ul><li>ä½¿ç”¨å›¾å½¢ç•Œé¢æˆ–ç¼–ç¨‹è„šæœ¬åº”ç”¨è¿‡æ»¤</li><li>ä½¿ç”¨å›¾å½¢ç•Œé¢æˆ–è¿è¡Œå‘½ä»¤è®¾ç½®æ–­ç‚¹</li><li>åœ¨ <code>å¯¹åº”æŠ¥æ–‡A</code> çš„ <code>Request WebForms</code>å†…ä¿®æ”¹â€œæœç´¢å…³é”®å­—â€</li><li>ç‚¹å‡» <code>Break on Response</code> å°†ä¿®æ”¹åçš„ <code>å¯¹åº”æŠ¥æ–‡A</code> å‘é€åˆ°Fiddler</li><li>åœ¨ <code>å¯¹åº”æŠ¥æ–‡B</code> çš„ <code>Request WebForms</code>å†…æŸ¥çœ‹â€œæœç´¢å…³é”®å­—â€</li><li>ç‚¹å‡» <code>Run to Completion</code> å°†ä¿®æ”¹åçš„ <code>å¯¹åº”æŠ¥æ–‡B</code> å‘é€åˆ°Server</li></ul><ol start="2"><li>ä½¿ç”¨Composer</li></ol><ul><li>ä¿å­˜ä¼šè¯Requestè¯·æ±‚å¤´éƒ¨</li><li>åœ¨è®°äº‹æœ¬å†…ä¿®æ”¹â€œæœç´¢å…³é”®å­—â€</li><li>åœ¨Composerå†…å‘é€è¯·æ±‚æŠ¥æ–‡</li></ul><h3><span id="socket">Socket</span></h3>  <figure class="highlight python hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">'__main__'</span>:</span><br><span class="line">    <span class="hljs-comment"># è¯»å–ä¿¡æ¯</span></span><br><span class="line">    file = input(<span class="hljs-string">"file:"</span>)</span><br><span class="line">    cont = input(<span class="hljs-string">"cont:"</span>)</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment"># å¥—æ¥å­—è¿æ¥æœåŠ¡ç«¯</span></span><br><span class="line">    s = ssl.wrap_socket(socket.socket())</span><br><span class="line">    s.connect((<span class="hljs-string">'www.baidu.com'</span>, <span class="hljs-number">443</span>))</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment"># å‘é€ä¿®æ”¹åçš„è¯·æ±‚</span></span><br><span class="line">    s.send(get_req(file, cont))</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment"># ç¼“å­˜æœåŠ¡ç«¯çš„å“åº”</span></span><br><span class="line">    buffer = []</span><br><span class="line">    <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:</span><br><span class="line">        d = s.recv(<span class="hljs-number">1024</span>)</span><br><span class="line">        <span class="hljs-keyword">if</span> d:</span><br><span class="line">            buffer.append(d)</span><br><span class="line">        <span class="hljs-keyword">else</span>:</span><br><span class="line">            <span class="hljs-keyword">break</span></span><br><span class="line">    res = <span class="hljs-string">b''</span>.join(buffer)</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment"># å®¢æˆ·ç«¯å…³é—­å¥—æ¥å­—</span></span><br><span class="line">    s.close()</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment"># ä¿å­˜å“åº”</span></span><br><span class="line">    header, html = res.split(<span class="hljs-string">b'\r\n\r\n'</span>, <span class="hljs-number">1</span>)</span><br><span class="line">    print(header.decode(<span class="hljs-string">'utf-8'</span>))</span><br><span class="line">    <span class="hljs-keyword">with</span> open(cont + <span class="hljs-string">'.html'</span>, <span class="hljs-string">'wb'</span>) <span class="hljs-keyword">as</span> f:</span><br><span class="line">        f.write(html)</span><br></pre></td></tr></table></figure><h2><span id="è®°å“åº”æ—¶é—´-analyses"><strong>è®°å“åº”æ—¶é—´ Analyses</strong></span></h2><h3><span id="fiddler">Fiddler</span></h3><h3><span id="curl">Curl</span></h3><h2><span id="éœ€æ³¨æ„äº‹é¡¹-notices"><strong>éœ€æ³¨æ„äº‹é¡¹ Notices</strong></span></h2><ol><li>æŠ¥æ–‡æ ¼å¼</li></ol><ul><li>æ— è®ºä½¿æ‰‹åŠ¨è¿˜æ˜¯è„šæœ¬ä¿å­˜ä¼šè¯çš„è¯·æ±‚æŠ¥æ–‡ï¼Œéƒ½éœ€è¦æ³¨æ„æ¯ä¸ªå±æ€§æ˜¯å¦ä»¥ <code>\r\n</code>  ç»“å°¾ï¼Œæœ€åå±æ€§æ˜¯å¦ä»¥ <code>\r\n\r\n</code> ç»“å°¾</li><li>é‡åˆ° <code>HTTP 400 Bad Request</code> å“åº”ä»”ç»†æ£€æŸ¥æŠ¥æ–‡æ ¼å¼æ˜¯å¦æ­£ç¡®</li></ul><ol start="2"><li>ç¼–ç é—®é¢˜</li></ol><ul><li>æ³¨æ„ä¿å­˜ä¼šè¯çš„ç¼–ç æ ¼å¼ï¼Œæ‰‹åŠ¨ä¿å­˜ä½¿ç”¨ç¼–ç æ ¼å¼ <code>utf-8</code> ï¼Œè„šæœ¬ä¿å­˜ä½¿ç”¨ç¼–ç æ ¼å¼ <code>utf-16</code></li><li>Socketå‘é€æŠ¥æ–‡å’Œæ¥å—æŠ¥æ–‡éƒ½éœ€è¦äºŒè¿›åˆ¶æ•°æ®</li><li>Fiddleré»˜è®¤ä½¿ç”¨GZipæ ¼å¼å‹ç¼©ï¼Œåœ¨å‘é€è¯·æ±‚æŠ¥æ–‡æ—¶ä¸ºç¡®ä¿å“åº”ä¸»é¢˜éä¹±ç ï¼Œåº”è¯¥å»é™¤ <code>Accept-Encoding: gzip, deflate</code> è¿™è¡Œå±æ€§</li></ul><ol start="3"><li>ç«¯å£é—®é¢˜</li></ol><ul><li>Socketé€šä¿¡éœ€è¦çŸ¥é“ä¸»æœºåœ°å€åŠå…¶ç«¯å£å·<ul><li>Fiddler Sessionsæˆ–Inpectorså¯çŸ¥ä¸»æœºåœ°å€åŠå…¶ç«¯å£å·</li><li>ä¿å­˜çš„TCPæŠ¥æ–‡ï¼ˆä½¿ç”¨Wiresharkï¼‰å¯çŸ¥ä¸»æœºåœ°å€åŠå…¶ç«¯å£å·</li><li>ä¿å­˜çš„HTTP/HTTPSæŠ¥æ–‡ï¼ˆä½¿ç”¨Fiddlerï¼‰ä»…çŸ¥ä¸»æœºåœ°å€ï¼Œå·²çŸ¥å¸¸ç”¨ç«¯å£ï¼šHTTPä¸º80/HTTPSä¸º443</li></ul></li></ul><ol start="4"><li>è¯·æ±‚å˜åŒ–</li></ol><ul><li><code>Break on Response</code> å’Œ <code>Run to Completion</code> å¯¹åº”ä¼šè¯å¹¶ä¸ç›¸åŒ</li></ul><h2><span id="å¾…æ”¹è¿›äº‹é¡¹-todos"><strong>å¾…æ”¹è¿›äº‹é¡¹ Todos</strong></span></h2><ul><li>ä¼˜åŒ–è¿‡æ»¤ä¼šè¯å’Œæ›¿æ¢å†…å®¹è„šæœ¬ï¼šæ­£åˆ™è¡¨è¾¾å¼</li><li>å‘é€å“åº”å›æµè§ˆå™¨ï¼šSocketå‘å…¶å®ƒè¿›ç¨‹å‘æŠ¥æ–‡</li><li>æŒç»­åŒ–ã€å¤šçº¿ç¨‹æŠ“åŒ…ã€ä¿®æ”¹ã€å‘åŒ…ï¼šå¤šçº¿ç¨‹ç¼–ç¨‹</li><li>å®ç°æ›¿ä»£Fiddlerçš„ä»£ç†æœåŠ¡å™¨ï¼šåˆ©ç”¨Pythonç¬¬ä¸‰æ–¹ä»£ç†åº“</li></ul><hr>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;åˆ©ç”¨&lt;strong&gt;Fiddler&lt;/strong&gt;æŠ“åŒ…å’Œ&lt;strong&gt;Socket&lt;/strong&gt;å‘åŒ…ï¼Œå¹¶ç”¨&lt;strong&gt;Curl&lt;/strong&gt;ç»Ÿè®¡å“åº”æ—¶é—´ï¼Œä¸»è¦åˆ†ä¸ºä»¥ä¸‹&lt;strong&gt;å››ä¸ªéƒ¨åˆ†&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å·¥å…·çš„é…ç½®åŠå·¥å…·çš„ä½¿ç”¨&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æˆªè·ã€ä¿®æ”¹ã€å‘é€æ•°æ®åŒ…&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç»Ÿè®¡ç½‘é¡µå’Œå…ƒç´ çš„å“åº”æ—¶é—´&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;éœ€æ³¨æ„äº‹é¡¹åŠå¾…æ”¹è¿›äº‹é¡¹&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
    
    </summary>
    
    
      <category term="Testing" scheme="https://lottewong.github.io/categories/Testing/"/>
    
    
      <category term="Fiddler" scheme="https://lottewong.github.io/tags/Fiddler/"/>
    
      <category term="Curl" scheme="https://lottewong.github.io/tags/Curl/"/>
    
      <category term="Socket" scheme="https://lottewong.github.io/tags/Socket/"/>
    
  </entry>
  
  <entry>
    <title>#Cloud Computing# LinuxOneä¸Šçš„Dockeråˆä½“éªŒ</title>
    <link href="https://lottewong.github.io/2019/06/18/LinuxOne%E4%B8%8A%E7%9A%84Docker%E5%AE%9E%E8%B7%B5/"/>
    <id>https://lottewong.github.io/2019/06/18/LinuxOne%E4%B8%8A%E7%9A%84Docker%E5%AE%9E%E8%B7%B5/</id>
    <published>2019-06-17T23:00:21.000Z</published>
    <updated>2020-01-02T08:40:58.173Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨<strong>LinuxOne</strong>ä¸Šåˆ©ç”¨<strong>Docker</strong>éƒ¨ç½²åº”ç”¨ä¸æœåŠ¡ï¼Œä¸»è¦åˆ†ä¸ºä»¥ä¸‹<strong>äº”ä¸ªéƒ¨åˆ†</strong>ï¼š</p><ul><li>ç¯å¢ƒå‡†å¤‡ Environment</li><li><strong>DockeråŸç† Theory</strong></li><li><strong>Dockerä½¿ç”¨ Usage</strong></li><li><strong>Dockerå®æˆ˜ Practice</strong></li><li>æ³¨æ„äº‹é¡¹ Notices</li></ul><hr><a id="more"></a><h1><span id="ç›®å½•-table-of-contents"><strong>ç›®å½• Table of Contents</strong></span></h1><!-- toc --><ul><li><a href="#ç¯å¢ƒå‡†å¤‡-environment"><strong>ç¯å¢ƒå‡†å¤‡ Environment</strong></a><ul><li><a href="#ç”³è¯·githubè´¦å·å¹¶é…ç½®å¥½æœ¬åœ°git">ç”³è¯·Githubè´¦å·å¹¶é…ç½®å¥½æœ¬åœ°Git</a></li><li><a href="#ç”³è¯·ibm-idè´¦å·å¹¶å¼€é€šå¼€å‘è€…è´¦å·">ç”³è¯·IBM IDè´¦å·å¹¶å¼€é€šå¼€å‘è€…è´¦å·</a></li><li><a href="#ç”³è¯·ibm-linuxoneè´¦å·">ç”³è¯·IBM LinuxOneè´¦å·</a><ul><li><a href="#virtual-machine">Virtual Machine</a></li><li><a href="#private-cloud">Private Cloud</a></li></ul></li><li><a href="#å®‰è£…nodejsç¯å¢ƒ">å®‰è£…Node.jsç¯å¢ƒ</a></li><li><a href="#å®‰è£…sshç™»å½•å·¥å…·">å®‰è£…SSHç™»å½•å·¥å…·</a></li></ul></li><li><a href="#dockeråŸç†-theory"><strong>DockeråŸç† Theory</strong></a><ul><li><a href="#å·¥ä½œæµç¨‹">å·¥ä½œæµç¨‹</a></li><li><a href="#åè¯è¾¨æ">åè¯è¾¨æ</a></li></ul></li><li><a href="#dockerä½¿ç”¨-usage"><strong>Dockerä½¿ç”¨ Usage</strong></a><ul><li><a href="#å®‰è£…">å®‰è£…</a></li><li><a href="#å‘½ä»¤">å‘½ä»¤</a></li></ul></li><li><a href="#dockerå®æˆ˜-practice"><strong>Dockerå®æˆ˜ Practice</strong></a><ul><li><a href="#åˆ‡æ¢æƒé™å’Œè·¯å¾„é…ç½®ç”¨æˆ·ä¹ æƒ¯">åˆ‡æ¢æƒé™å’Œè·¯å¾„ï¼Œé…ç½®ç”¨æˆ·ä¹ æƒ¯</a></li><li><a href="#å®‰è£…å¹¶è¿è¡Œ-websphere-libertyç»ƒä¹ ä½¿ç”¨docker-run">å®‰è£…å¹¶è¿è¡Œ WebSphere Liberty<strong>ï¼ˆç»ƒä¹ ä½¿ç”¨docker runï¼‰</strong></a></li><li><a href="#å®‰è£…å¹¶è¿è¡Œ-wordpressç»ƒä¹ ä½¿ç”¨docker-compose-up">å®‰è£…å¹¶è¿è¡Œ WordPress<strong>ï¼ˆç»ƒä¹ ä½¿ç”¨docker-compose upï¼‰</strong></a></li><li><a href="#å®‰è£…å¹¶è¿è¡Œ-todo-appç†Ÿæ‚‰mean-stack-dockeræ¶æ„">å®‰è£…å¹¶è¿è¡Œ Todo App<strong>ï¼ˆç†Ÿæ‚‰MEAN Stack + Dockeræ¶æ„ï¼‰</strong></a></li><li><a href="#todo-appå‰ç«¯æ’å…¥æ•°æ®-åç«¯å¤„ç†æ•°æ®-æ•°æ®åº“æŸ¥æ•°æ®ç†Ÿæ‚‰mean-stack-dockerå‰åç«¯æ•°æ®åº“äº¤äº’">Todo Appå‰ç«¯æ’å…¥æ•°æ®ã€åç«¯å¤„ç†æ•°æ®ã€æ•°æ®åº“æŸ¥æ•°æ®<strong>ï¼ˆç†Ÿæ‚‰MEAN Stack + Dockerå‰åç«¯æ•°æ®åº“äº¤äº’ï¼‰</strong></a></li><li><a href="#æœ¬åœ°éƒ¨ç½²é‡‘èå¾®æœåŠ¡ç†Ÿæ‚‰localhost-micro-servicesæ¨¡å¼">æœ¬åœ°éƒ¨ç½²é‡‘èå¾®æœåŠ¡<strong>ï¼ˆç†Ÿæ‚‰Localhost â†’ Micro-servicesæ¨¡å¼ï¼‰</strong></a></li><li><a href="#è¿œç¨‹éƒ¨ç½²é‡‘èå¾®æœåŠ¡ç†Ÿæ‚‰docker-micro-servicesæ¨¡å¼">è¿œç¨‹éƒ¨ç½²é‡‘èå¾®æœåŠ¡<strong>ï¼ˆç†Ÿæ‚‰Docker â†’ Micro-servicesæ¨¡å¼ï¼‰</strong></a></li><li><a href="#äº‘ç«¯éƒ¨ç½²é‡‘èå¾®æœåŠ¡ç†Ÿæ‚‰cloud-micro-servicesæ¨¡å¼">äº‘ç«¯éƒ¨ç½²é‡‘èå¾®æœåŠ¡<strong>ï¼ˆç†Ÿæ‚‰Cloud â†’ Micro-servicesæ¨¡å¼ï¼‰</strong></a></li></ul></li><li><a href="#æ³¨æ„äº‹é¡¹-notices"><strong>æ³¨æ„äº‹é¡¹ Notices</strong></a></li></ul><!-- tocstop --><hr><h2><span id="ç¯å¢ƒå‡†å¤‡-environment"><strong>ç¯å¢ƒå‡†å¤‡ Environment</strong></span></h2><h3><span id="ç”³è¯·githubè´¦å·å¹¶é…ç½®å¥½æœ¬åœ°git">ç”³è¯·Githubè´¦å·å¹¶é…ç½®å¥½æœ¬åœ°Git</span></h3><ul><li><a href="https://www.liaoxuefeng.com/wiki/896043488029600" target="_blank" rel="noopener">å»–é›ªå³°Gitæ•™ç¨‹</a></li></ul><h3><span id="ç”³è¯·ibm-idè´¦å·å¹¶å¼€é€šå¼€å‘è€…è´¦å·">ç”³è¯·IBM IDè´¦å·å¹¶å¼€é€šå¼€å‘è€…è´¦å·</span></h3><blockquote><p><em>è¯¥æ­¥éª¤ä¸»è¦æä¾›æ¥å£æƒé™</em></p></blockquote><ol><li><p>Register IBM ID ï¼ˆç»Ÿä¸€é‚®ç®±ï¼‰</p></li><li><p>Create an API Developer Portal account ï¼ˆç»Ÿä¸€é‚®ç®±ï¼‰</p></li><li><p>Apps</p><ul><li><p>Create new App</p></li><li><p>Configure the App: </p><ul><li>Title: $TITLE</li></ul></li><li><p>Sumbit</p><ul><li>Client ID</li><li>Client Secret</li></ul></li></ul></li><li><p>API Products</p><ul><li>Use banking API<ul><li>Subscribe Default Plan</li><li>Select Previous App</li></ul></li><li>Subscribe</li></ul></li></ol><h3><span id="ç”³è¯·ibm-linuxoneè´¦å·">ç”³è¯·IBM LinuxOneè´¦å·</span></h3><blockquote><p><em>è¯¥æ­¥éª¤ä¸»è¦æä¾›éƒ¨ç½²ç¯å¢ƒ</em></p></blockquote><h4><span id="virtual-machine">Virtual Machine</span></h4><ol><li><p>Login</p></li><li><p>Virtual Services</p><ul><li><p>Manage Instances</p></li><li><p>Create Instances</p></li><li><p>Configure the Instance</p><ul><li>Type: General purpose VM</li><li>Instance Name: $INSTANCE_NAME</li><li>Instance Description: $INSTANCE_DESCRITION</li><li>Image: RHEL7.6</li><li>SSH Key Pairs: Create â†’ Save â†’ Select â†’ Create</li></ul></li><li><p>Check the Instance</p><ul><li>Status: Active</li><li>Linux User: linux1</li><li>IP Address: 148.100.xxx.xxx</li></ul></li></ul></li></ol><h4><span id="private-cloud">Private Cloud</span></h4><ol><li><p>Login</p></li><li><p>Catalog</p><ul><li>openmplbank</li></ul></li><li><p>Configure</p><ul><li>Input Release name</li><li>Select Target Namespace</li></ul></li><li><p>Install</p></li><li><p>View Helm Release</p><ul><li>Deployment<ul><li>AVAILABLE = 1</li></ul></li><li>Launch</li></ul></li></ol><h3><span id="å®‰è£…nodejsç¯å¢ƒ">å®‰è£…Node.jsç¯å¢ƒ</span></h3><ol><li><p>å®‰è£…Node.js: </p><p><a href="https://link.zhihu.com/?target=https%3A//nodejs.org/en/download/" target="_blank" rel="noopener">Download | Node.js</a></p></li><li><p>æ£€æŸ¥æ˜¯å¦å®‰è£…æˆåŠŸ:</p> <figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ node -v</span><br><span class="line">$ npm -v</span><br></pre></td></tr></table></figure></li></ol><h3><span id="å®‰è£…sshç™»å½•å·¥å…·">å®‰è£…SSHç™»å½•å·¥å…·</span></h3><ul><li>Windowsï¼šå¯é€‰<a href="https://www.zybuluo.com/abelsu7/note/1476987?tdsourcetag=s_pctim_aiomsg" target="_blank" rel="noopener">PuTTY</a>æˆ–<a href="https://lottewong.github.io/2019/05/17/_files/xshellè¿æ¥linux1.doc">Xshell</a>æˆ–<a href="https://docs.microsoft.com/en-us/windows/wsl/faq" target="_blank" rel="noopener">WSL</a></li><li>Linuxï¼š<code>ssh -i /path/to/key/keyname.pem linuxusername@serveripaddress</code></li></ul><h2><span id="dockeråŸç†-theory"><strong>DockeråŸç† Theory</strong></span></h2><h3><span id="å·¥ä½œæµç¨‹">å·¥ä½œæµç¨‹</span></h3><p><img src="/images/docker_flowchart.png" alt="Flowchart"></p><h3><span id="åè¯è¾¨æ">åè¯è¾¨æ</span></h3><table><thead><tr><th align="left">æ¦‚å¿µ</th><th align="left">å«ä¹‰</th></tr></thead><tbody><tr><td align="left">Docker é•œåƒ(Images)</td><td align="left">Dockeré•œåƒæ˜¯ç”¨äºåˆ›å»ºDockerå®¹å™¨çš„æ¨¡æ¿ã€‚</td></tr><tr><td align="left">Docker å®¹å™¨(Container)</td><td align="left">Dockerå®¹å™¨æ˜¯ç‹¬ç«‹è¿è¡Œçš„ä¸€ä¸ªæˆ–ä¸€ç»„åº”ç”¨ã€‚</td></tr><tr><td align="left">Docker å®¢æˆ·ç«¯(Client)</td><td align="left">Dockerå®¢æˆ·ç«¯é€šè¿‡å‘½ä»¤è¡Œæˆ–è€…å…¶ä»–å·¥å…·ä½¿ç”¨Docker APIï¼Œä¸Dockerçš„å®ˆæŠ¤è¿›ç¨‹é€šä¿¡ã€‚</td></tr><tr><td align="left">Docker ä¸»æœº(Host)</td><td align="left">Dockerä¸»æœºæ˜¯ä¸€ä¸ªç‰©ç†æˆ–è€…è™šæ‹Ÿçš„æœºå™¨ç”¨äºæ‰§è¡ŒDockerå®ˆæŠ¤è¿›ç¨‹å’Œå®¹å™¨ã€‚</td></tr></tbody></table><h2><span id="dockerä½¿ç”¨-usage"><strong>Dockerä½¿ç”¨ Usage</strong></span></h2><h3><span id="å®‰è£…">å®‰è£…</span></h3><ol><li><p>å®‰è£…docker</p> <figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment"># ä¸‹è½½Dockerå½’æ¡£åŒ…</span></span><br><span class="line"></span><br><span class="line">wget ftp://ftp.unicamp.br/pub/linuxpatch/s390x/redhat/rhel7.3/docker-17.05.0-ce-rhel7.3-20170523.tar.gz</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># è§£å‹Dockerå½’æ¡£åŒ…</span></span><br><span class="line"></span><br><span class="line">tar -xzvf docker-17.05.0-ce-rhel7.3-20170523.tar.gz</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># è¿ç§»Dockerå½’æ¡£åŒ…</span></span><br><span class="line"><span class="hljs-comment"># !!! è¿™é‡Œç›´æ¥cpåˆ°/usr/binå°±å¥½ï¼Œå› ä¸º/usr/local/binä¸åœ¨PATHç¯å¢ƒå˜é‡é‡Œ !!!</span></span><br><span class="line"></span><br><span class="line">cp docker-17.05.0-ce-rhel7.3-20170523/docker* /usr/bin/</span><br></pre></td></tr></table></figure></li><li><p>å®‰è£…docker-compose</p> <figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment"># æŸ¥çœ‹python-setuptools</span></span><br><span class="line"></span><br><span class="line">yum info python-setuptools</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># å®‰è£…python-setuptools</span></span><br><span class="line"></span><br><span class="line">yum install -y python-setuptools</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># å®‰è£…pip</span></span><br><span class="line"></span><br><span class="line">easy_install pip</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># ç½‘é€Ÿè¿‡æ…¢çš„è¯å…ˆç¦ç”¨æ‰ IPv6</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-built_in">echo</span> 1 &gt; /proc/sys/net/ipv6/conf/all/disable_ipv6</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># å‡çº§backports.ssl_match_hostname</span></span><br><span class="line"></span><br><span class="line">pip install backports.ssl_match_hostname --upgrade --ignore-installed</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># å…ˆå®‰è£…ä¾èµ–ï¼Œä¸ç„¶ä¼šæŠ¥é”™</span></span><br><span class="line"></span><br><span class="line">yum install python-devel libffi-devel</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># å®‰è£…docker-compose</span></span><br><span class="line"></span><br><span class="line">pip install docker-compose==1.13.0</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># æŸ¥çœ‹docker-composeå®‰è£…æƒ…å†µå’Œç‰ˆæœ¬ä¿¡æ¯</span></span><br><span class="line"></span><br><span class="line">docker-compose version</span><br></pre></td></tr></table></figure></li></ol><h3><span id="å‘½ä»¤">å‘½ä»¤</span></h3><ul><li><p>åå°å¯åŠ¨daemonè¿›ç¨‹</p><figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment"># -g è®¾ç½®Docker Daemonè¿è¡Œæ—¶çš„æ ¹ç›®å½•</span></span><br><span class="line"><span class="hljs-comment"># &amp; æ”¾åœ¨å‘½ä»¤åé¢è¡¨ç¤ºè®¾ç½®æ­¤è¿›ç¨‹ä¸ºåå°è¿›ç¨‹</span></span><br><span class="line"></span><br><span class="line">docker daemon -g /<span class="hljs-built_in">local</span>/docker/lib &amp;</span><br></pre></td></tr></table></figure></li><li><p>å‘½ä»¤æŸ¥çœ‹dockerä¿¡æ¯</p><figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment"># æŸ¥çœ‹å½“å‰æœºå™¨dockerç‰ˆæœ¬è€æ—§</span></span><br><span class="line"></span><br><span class="line">docker version</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># æ£€æŸ¥åå°æœ‰æ— dockerè¿›ç¨‹è¿è¡Œ</span></span><br><span class="line"></span><br><span class="line">ps aux | grep docker</span><br></pre></td></tr></table></figure></li><li><p>dockeré•œåƒå¤„ç†</p><figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment"># æŸ¥çœ‹æ‰€æœ‰é•œåƒ</span></span><br><span class="line"></span><br><span class="line">docker images</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># æ‹‰å–è¿œç¨‹é•œåƒ</span></span><br><span class="line"></span><br><span class="line">docker image pull repository:tag</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># æ„å»ºæœ¬åœ°é•œåƒ</span></span><br><span class="line"></span><br><span class="line">docker build -t <span class="hljs-string">"repository:tag"</span> ./</span><br></pre></td></tr></table></figure></li><li><p>dockerå®¹å™¨å¤„ç†</p><figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment"># æŸ¥çœ‹æ‰€æœ‰å®¹å™¨</span></span><br><span class="line"></span><br><span class="line">docker ps</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># åˆ›å»ºè¿è¡Œå®¹å™¨</span></span><br><span class="line"></span><br><span class="line">docker run image</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># åœæ­¢è¿è¡Œå®¹å™¨</span></span><br><span class="line"></span><br><span class="line">docker stop container</span><br></pre></td></tr></table></figure></li><li><p>dockeræœåŠ¡å¤„ç†</p><figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment"># æŸ¥çœ‹æ‰€æœ‰æœåŠ¡</span></span><br><span class="line"></span><br><span class="line">docker-compose ps</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># åˆ›å»ºè¿è¡ŒæœåŠ¡</span></span><br><span class="line"></span><br><span class="line">docker-compose up</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># åœæ­¢è¿è¡ŒæœåŠ¡</span></span><br><span class="line"></span><br><span class="line">docker-compose down</span><br></pre></td></tr></table></figure></li><li><p>docker build</p><figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment"># -t åœ¨æ–°å®¹å™¨å†…æŒ‡å®šä¸€ä¸ªä¼ªç»ˆç«¯æˆ–ç»ˆç«¯</span></span><br><span class="line"></span><br><span class="line">docker build -t <span class="hljs-string">"repository:tag"</span> ./</span><br></pre></td></tr></table></figure></li><li><p>docker run</p><figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment"># -d å¼€å¯daemonæ¨¡å¼</span></span><br><span class="line"><span class="hljs-comment"># -i å…è®¸ä½ å¯¹å®¹å™¨å†…çš„æ ‡å‡†è¾“å…¥ (STDIN) è¿›è¡Œäº¤äº’</span></span><br><span class="line"><span class="hljs-comment"># -p æŒ‡å®šç«¯å£æ˜ å°„è§„åˆ™</span></span><br><span class="line"></span><br><span class="line">docker run -d -i -p ipadress1:port1/protocal:ipadress2:port2/protocal repository:tag</span><br></pre></td></tr></table></figure></li><li><p>docker-compose up</p><figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment"># -d å¼€å¯daemonæ¨¡å¼</span></span><br><span class="line"><span class="hljs-comment"># ç«¯å£æ˜ å°„å’Œé•œåƒæ¥æºéƒ½å†™åœ¨äº†.ymlé…ç½®æ–‡ä»¶</span></span><br><span class="line"></span><br><span class="line">docker-compose up -d</span><br></pre></td></tr></table></figure></li><li><p>docker exec</p><figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment"># -i å…è®¸ä½ å¯¹å®¹å™¨å†…çš„æ ‡å‡†è¾“å…¥ (STDIN) è¿›è¡Œäº¤äº’</span></span><br><span class="line"><span class="hljs-comment"># -t åœ¨æ–°å®¹å™¨å†…æŒ‡å®šä¸€ä¸ªä¼ªç»ˆç«¯æˆ–ç»ˆç«¯</span></span><br><span class="line"></span><br><span class="line">docker <span class="hljs-built_in">exec</span> â€“it container bash</span><br></pre></td></tr></table></figure></li></ul><h2><span id="dockerå®æˆ˜-practice"><strong>Dockerå®æˆ˜ Practice</strong></span></h2><h3><span id="åˆ‡æ¢æƒé™å’Œè·¯å¾„é…ç½®ç”¨æˆ·ä¹ æƒ¯">åˆ‡æ¢æƒé™å’Œè·¯å¾„ï¼Œé…ç½®ç”¨æˆ·ä¹ æƒ¯</span></h3><figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment"># åˆ‡ä¸ºæ ¹ç”¨æˆ·ï¼Œå¦åˆ™æ²¡æœ‰æƒé™</span></span><br><span class="line"></span><br><span class="line">sudo su</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># åˆ‡åˆ°å®¶ç›®å½•ï¼Œå¦åˆ™éš¾æ‰¾æ–‡ä»¶</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-built_in">cd</span> ~</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># RHEL 7.6å·²ç»è‡ªå¸¦å®‰è£…äº†VIM 7.4ï¼Œå¯åŠ¨å‘½ä»¤æ˜¯viï¼Œä¹ æƒ¯ç”¨vimå‘½ä»¤çš„åŒå­¦å¯ä»¥å…ˆè®¾ç½®ä¸€ä¸‹åˆ«å[å½“å‰ç”Ÿæ•ˆ]</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-built_in">alias</span> vim=<span class="hljs-string">'vi'</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># RHEL 7.6å·²ç»è‡ªå¸¦å®‰è£…äº†VIM 7.4ï¼Œå¯åŠ¨å‘½ä»¤æ˜¯viï¼Œä¹ æƒ¯ç”¨vimå‘½ä»¤çš„åŒå­¦å¯ä»¥å…ˆè®¾ç½®ä¸€ä¸‹åˆ«å[æ°¸ä¹…ç”Ÿæ•ˆ]</span></span><br><span class="line"><span class="hljs-comment"># !!! å¯ä»¥å°†alias vim='vi'åŠ åˆ°~/.bashrcä¸­ !!!</span></span><br><span class="line"><span class="hljs-built_in">source</span> ~/.bashrc</span><br></pre></td></tr></table></figure><h3><span id="å®‰è£…å¹¶è¿è¡Œ-websphere-libertyç»ƒä¹ ä½¿ç”¨docker-run">å®‰è£…å¹¶è¿è¡Œ WebSphere Liberty<strong>ï¼ˆç»ƒä¹ ä½¿ç”¨docker runï¼‰</strong></span></h3><figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment"># æ‰‹åŠ¨æ‹‰å–websphere-libertyé•œåƒåˆ°æœ¬åœ°</span></span><br><span class="line"></span><br><span class="line">docker image pull s390x/websphere-liberty:webProfile7</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># åå°è¿è¡Œå®¹å™¨ï¼Œå¹¶æŒ‡å®šç«¯å£æ˜ å°„è§„åˆ™</span></span><br><span class="line"></span><br><span class="line">docker run -d -p 80:9080 -p 443:9443 s390x/websphere-liberty:webProfile7</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># æµè§ˆå™¨è®¿é—®http://[LinuxOne Host IP]ï¼Œå³å¯çœ‹åˆ°WebSphere Libertyçš„ç•Œé¢</span></span><br></pre></td></tr></table></figure><h3><span id="å®‰è£…å¹¶è¿è¡Œ-wordpressç»ƒä¹ ä½¿ç”¨docker-compose-up">å®‰è£…å¹¶è¿è¡Œ WordPress<strong>ï¼ˆç»ƒä¹ ä½¿ç”¨docker-compose upï¼‰</strong></span></h3><figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment"># åˆ›å»ºdocker-compose.yml</span></span><br><span class="line"></span><br><span class="line">vim docker-compose.yml</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># ç¼–è¾‘docker-compose.yml</span></span><br><span class="line"></span><br><span class="line">version: <span class="hljs-string">'2'</span></span><br><span class="line">services:</span><br><span class="line">  wordpress:</span><br><span class="line">    image: s390x/wordpress</span><br><span class="line">  ports:</span><br><span class="line">    - 8080:80 <span class="hljs-comment"># å°†æœ¬åœ° 8080 ç«¯å£æ˜ å°„åˆ°å®¹å™¨çš„ 80 ç«¯å£</span></span><br><span class="line">  environment:</span><br><span class="line">    WORDPRESS_DB_PASSWORD: example</span><br><span class="line">  mysql:</span><br><span class="line">    image: brunswickheads/mariadb-5.5-s390x</span><br><span class="line">  environment:</span><br><span class="line">    MYSQL_ROOT_PASSWORD: example</span><br><span class="line"></span><br><span class="line">:wq</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># æŸ¥çœ‹docker-compose.yml</span></span><br><span class="line"></span><br><span class="line">cat docker-compose.yml</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># åˆ›å»ºwordpressç›®å½•æ–¹ä¾¿æ•´ç†</span></span><br><span class="line"></span><br><span class="line">mkdir wordpress</span><br><span class="line">mv docker-compose.yml wordpress/</span><br><span class="line"><span class="hljs-built_in">cd</span> wordpress/</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># æ ¹æ®docker-compose.ymlä¸­å®šä¹‰çš„æœåŠ¡å¯åŠ¨å®¹å™¨</span></span><br><span class="line"></span><br><span class="line">docker-compose up -d</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># åˆ›å»ºå®Œæˆåï¼ŒæŸ¥çœ‹ç›¸å…³å®¹å™¨çš„çŠ¶æ€</span></span><br><span class="line"></span><br><span class="line">docker-compose ps</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># æµè§ˆå™¨è®¿é—®http://[Your LinuxONE IP Address]:8080ï¼Œå³å¯çœ‹åˆ° WordPress çš„é¡µé¢</span></span><br></pre></td></tr></table></figure><h3><span id="å®‰è£…å¹¶è¿è¡Œ-todo-appç†Ÿæ‚‰mean-stack-dockeræ¶æ„">å®‰è£…å¹¶è¿è¡Œ Todo App<strong>ï¼ˆç†Ÿæ‚‰MEAN Stack + Dockeræ¶æ„ï¼‰</strong></span></h3><figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment"># ä¸ºæ–¹ä¾¿ç®¡ç†æ–‡ä»¶ï¼Œåˆ‡æ¢åˆ°å®¶ç›®å½•</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-built_in">cd</span> ~</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># ä»Githubæ‹‰å–æºç åˆ°æœ¬åœ°ä½¿ç”¨</span></span><br><span class="line"></span><br><span class="line">git <span class="hljs-built_in">clone</span> https://github.com/IBM/Cloud-Native-Workloads-on-LinuxONE</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># è¿ç§»æºç æ–‡ä»¶å¤¹åˆ°å®¶ç›®å½•</span></span><br><span class="line"></span><br><span class="line">cp -r Cloud-Native-Workloads-on-LinuxONE/files/mean-docker ./</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># å®‰è£…æ˜¾ç¤ºç›®å½•æ ‘çš„æ’ä»¶åŒ…</span></span><br><span class="line"></span><br><span class="line">yum install -y tree</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># æ˜¾ç¤ºmean-dockerçš„ç›®å½•æ ‘</span></span><br><span class="line"></span><br><span class="line">tree mean-docker</span><br><span class="line"></span><br><span class="line">mean-docker</span><br><span class="line">â”œâ”€â”€ docker-compose.yml <span class="hljs-comment"># docker-compose é…ç½®æ–‡ä»¶</span></span><br><span class="line">â”œâ”€â”€ express-server</span><br><span class="line">â”‚   â”œâ”€â”€ app</span><br><span class="line">â”‚   â”‚   â”œâ”€â”€ models</span><br><span class="line">â”‚   â”‚   â”‚   â””â”€â”€ todo.js</span><br><span class="line">â”‚   â”‚   â””â”€â”€ routes.js</span><br><span class="line">â”‚   â”œâ”€â”€ config</span><br><span class="line">â”‚   â”‚   â””â”€â”€ database.js</span><br><span class="line">â”‚   â”œâ”€â”€ Dockerfile <span class="hljs-comment"># docker image ç”Ÿæˆæ–‡ä»¶</span></span><br><span class="line">â”‚   â”œâ”€â”€ license</span><br><span class="line">â”‚   â”œâ”€â”€ package.json</span><br><span class="line">â”‚   â”œâ”€â”€ public</span><br><span class="line">â”‚   â”‚   â”œâ”€â”€ index.html <span class="hljs-comment"># å‰ç«¯æ–‡ä»¶</span></span><br><span class="line">â”‚   â”‚   â””â”€â”€ js</span><br><span class="line">â”‚   â”‚       â”œâ”€â”€ controllers</span><br><span class="line">â”‚   â”‚       â”‚   â””â”€â”€ main.js <span class="hljs-comment"># åç«¯æ–‡ä»¶</span></span><br><span class="line">â”‚   â”‚       â”œâ”€â”€ core.js</span><br><span class="line">â”‚   â”‚       â””â”€â”€ services</span><br><span class="line">â”‚   â”‚           â””â”€â”€ todos.js <span class="hljs-comment"># æ•°æ®åº“æ–‡ä»¶</span></span><br><span class="line">â”‚   â”œâ”€â”€ README.md</span><br><span class="line">â”‚   â””â”€â”€ server.js</span><br><span class="line">â””â”€â”€ README.md <span class="hljs-comment"># è¯´æ˜æ–‡æ¡£</span></span><br><span class="line">8 directories, 14 files</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># ä¿®æ”¹Angular.jsæˆå›½å†…é•œåƒæº</span></span><br><span class="line"></span><br><span class="line">vim mean-docker/express-server/public/index.html</span><br><span class="line">src=<span class="hljs-string">"//cdn.bootcss.com/angular.js/1.2.16/angular.min.js"</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># æŸ¥çœ‹Dockerfileçš„å†…å®¹</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-built_in">cd</span> express-server/</span><br><span class="line">ls</span><br><span class="line">vim Dockerfile</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># ç¼–è¾‘Dockerfileçš„å†…å®¹</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># Expose the port the app runs in</span></span><br><span class="line">EXPOSE 8081</span><br><span class="line">...</span><br><span class="line">...</span><br><span class="line"><span class="hljs-comment"># Express listening port</span></span><br><span class="line">ENV PORT 8081</span><br><span class="line"></span><br><span class="line">:wq</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># é‡æ–°æ„å»ºé•œåƒ</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-built_in">cd</span> mean-docker</span><br><span class="line">docker-compose down  <span class="hljs-comment"># åœæ­¢æ­£åœ¨è¿è¡Œçš„å®¹å™¨</span></span><br><span class="line">docker-compose build <span class="hljs-comment"># å…ˆé‡æ–°æ„å»ºé•œåƒ</span></span><br><span class="line">docker-compose up    <span class="hljs-comment"># å†åŸºäºæ–°é•œåƒé‡æ–°å¯åŠ¨å®¹å™¨</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># æŸ¥çœ‹docker-compose.ymlçš„å†…å®¹</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-built_in">cd</span> mean-docker/</span><br><span class="line">ls</span><br><span class="line">vim docker-compose.yml</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># ç¼–è¾‘docker-compose.ymlçš„å†…å®¹</span></span><br><span class="line"><span class="hljs-comment"># å› ä¸ºä¹‹å‰æœ¬åœ°çš„8080ç«¯å£è¢« WordPress å ç”¨äº†ï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨8081ç«¯å£</span></span><br><span class="line"></span><br><span class="line">...</span><br><span class="line">...</span><br><span class="line">ports:</span><br><span class="line">- <span class="hljs-string">"8081:8081"</span> <span class="hljs-comment"># æœ¬åœ° 8081 ç«¯å£æ˜ å°„åˆ° express å®¹å™¨çš„ 8081 ç«¯å£</span></span><br><span class="line">...</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">:wq</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># å¯åŠ¨æŒ‡å®šæœåŠ¡</span></span><br><span class="line"></span><br><span class="line">docker-compose up -d</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># ä½¿ç”¨docker-compose pså‘½ä»¤æŸ¥çœ‹å¯åŠ¨çš„å®¹å™¨</span></span><br><span class="line"></span><br><span class="line">docker-compose ps</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># æµè§ˆå™¨è®¿é—®http://[ip of machine]:8081ï¼Œå³å¯çœ‹åˆ°ä½ çš„ TODO-List App</span></span><br></pre></td></tr></table></figure><h3><span id="todo-appå‰ç«¯æ’å…¥æ•°æ®-åç«¯å¤„ç†æ•°æ®-æ•°æ®åº“æŸ¥æ•°æ®ç†Ÿæ‚‰mean-stack-dockerå‰åç«¯æ•°æ®åº“äº¤äº’">Todo Appå‰ç«¯æ’å…¥æ•°æ®ã€åç«¯å¤„ç†æ•°æ®ã€æ•°æ®åº“æŸ¥æ•°æ®<strong>ï¼ˆç†Ÿæ‚‰MEAN Stack + Dockerå‰åç«¯æ•°æ®åº“äº¤äº’ï¼‰</strong></span></h3><figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">......</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># åœ¨è¿è¡Œçš„å®¹å™¨ä¸­æ‰§è¡Œå‘½ä»¤</span></span><br><span class="line"></span><br><span class="line">docker <span class="hljs-built_in">exec</span> â€“it meandocker_database_1 bash</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># è¿›å…¥MongoDB</span></span><br><span class="line"></span><br><span class="line">&gt; mongo</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># æŸ¥çœ‹æ•°æ®åº“</span></span><br><span class="line"></span><br><span class="line">&gt; show dbs</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># æŒ‡å®šæ•°æ®åº“</span></span><br><span class="line"></span><br><span class="line">&gt; use docker-mean</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># æšä¸¾æ•°æ®è¡¨</span></span><br><span class="line"></span><br><span class="line">&gt; show tables</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># æŸ¥çœ‹å…ƒç¥–é›†</span></span><br><span class="line"></span><br><span class="line">&gt; db.todos.find()</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># æŒ‡å®šå…ƒç¥–é¡¹</span></span><br><span class="line"></span><br><span class="line">&gt; db.todos.find(&#123;<span class="hljs-string">"key"</span>: <span class="hljs-string">"value"</span>&#125;)</span><br></pre></td></tr></table></figure><h3><span id="æœ¬åœ°éƒ¨ç½²é‡‘èå¾®æœåŠ¡ç†Ÿæ‚‰localhost-micro-servicesæ¨¡å¼">æœ¬åœ°éƒ¨ç½²é‡‘èå¾®æœåŠ¡<strong>ï¼ˆç†Ÿæ‚‰Localhost â†’ Micro-servicesæ¨¡å¼ï¼‰</strong></span></h3><figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment"># Fork ICp-banking-microservices åˆ°è‡ªå·±è´¦å·ä¸‹ï¼Œå°†ä½ Forkçš„é¡¹ç›®git cloneè‡³æœ¬åœ°</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># Githubé…ç½®è¿‡SSH</span></span><br><span class="line">git <span class="hljs-built_in">clone</span> git@github.com:LotteWong/ICp-banking-microservices.git</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># Githubæœªé…ç½®SSH</span></span><br><span class="line">git <span class="hljs-built_in">clone</span> https://github.com/YOUR_USERNAME/ICp-banking-microservices</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># åœ¨banking-application/public/js/bankingAPI.jsä¸­å¡«å…¥ä½ çš„Client IDå’ŒClient Secret</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># è¿›å…¥ICp-banking-microservices/banking-applicationç›®å½•ï¼Œå®‰è£…npmä¾èµ–</span></span><br><span class="line"></span><br><span class="line">npm install</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># å¦‚æœå‡ºç°npmä»£ç†è®¾ç½®é”™è¯¯ï¼Œé‡æ–°è®¾ç½®ä»£ç†å³å¯</span></span><br><span class="line"></span><br><span class="line">npm config <span class="hljs-built_in">set</span> registry <span class="hljs-string">"http://registry.npmjs.org/"</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># è¿›å…¥ICp-banking-microservices/banking-applicationç›®å½•ï¼Œå¯åŠ¨åº”ç”¨</span></span><br><span class="line"></span><br><span class="line">node app.js</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># æµè§ˆå™¨è®¿é—®http://localhost:3000ï¼Œå³å¯è®¿é—®åº”ç”¨</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># éšä¾¿é€‰æ‹©ä¸€ä¸ªcustomer IDæµ‹è¯•ï¼Œè‹¥æœ‰JSONæ ¼å¼çš„æ•°æ®è¿”å›ï¼Œåˆ™è¯´æ˜APIå¯ç”¨ã€‚å¦‚æœå‡ºé”™å¯è‡ªæ’æŸ¥ï¼Œå¯èƒ½æ˜¯IDå’ŒSecretä¸åŒ¹é…ï¼ˆå‰å¾€å¼€å‘è€…é¡µé¢çš„åº”ç”¨ç¨‹åºé¡µé¢ä¸­éªŒè¯IDå’ŒSecretï¼‰æˆ–è€…æµè§ˆå™¨ä¸æ”¯æŒç½‘é€Ÿè¾ƒæ…¢ä¹‹ç±»ï¼ˆæ›´æ¢æµè§ˆå™¨æ›´æ¢ç½‘ç»œæºï¼‰</span></span><br></pre></td></tr></table></figure><h3><span id="è¿œç¨‹éƒ¨ç½²é‡‘èå¾®æœåŠ¡ç†Ÿæ‚‰docker-micro-servicesæ¨¡å¼">è¿œç¨‹éƒ¨ç½²é‡‘èå¾®æœåŠ¡<strong>ï¼ˆç†Ÿæ‚‰Docker â†’ Micro-servicesæ¨¡å¼ï¼‰</strong></span></h3><figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment"># åœ¨é LinuxOne çš„æœ¬æœºå°†é¡¹ç›®æ¨é€è‡³ Github è¿œç¨‹ä»“åº“</span></span><br><span class="line"><span class="hljs-comment"># !!! å®é™…ä¸Šä¸åº”è¯¥æŠŠClient IDå’ŒClient Secretè¿™ç§å¯†é’¥ç±»å‹çš„æ•°æ®æ¨åˆ° Github ä¸Šï¼Œè¿™é‡Œä¸ºäº†æ–¹ä¾¿å®éªŒæš‚æ—¶è¿™ä¹ˆåšï¼Œä»¥ååˆ‡å‹¿æ¨¡ä»¿ã€‚ !!!</span></span><br><span class="line"></span><br><span class="line">git add public/js/bankingAPI.js</span><br><span class="line">git commit -m <span class="hljs-string">"Update of bankingAPI.js"</span></span><br><span class="line">git push origin master</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># å…ˆç™»å½•ä½ çš„ LinuxONE ä¸»æœºå®ä¾‹ï¼Œä¸ºæ–¹ä¾¿ç®¡ç†æ–‡ä»¶ï¼Œåˆ‡æ¢åˆ°å®¶ç›®å½•</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-built_in">cd</span> ~</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># å°†ä½  Fork ååˆæ›´æ–°çš„ä»£ç æ‹‰å–åˆ°æœ¬åœ°</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># Githubé…ç½®è¿‡SSH</span></span><br><span class="line">git <span class="hljs-built_in">clone</span> git@github.com:LotteWong/ICp-banking-microservices.git</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># Githubæœªé…ç½®SSH</span></span><br><span class="line">git <span class="hljs-built_in">clone</span> https://github.com/YOUR_USERNAME/ICp-banking-microservices</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># æ„å»º Docker é•œåƒ</span></span><br><span class="line"></span><br><span class="line">docker build -t <span class="hljs-string">"respository:tag"</span> ./</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># æŸ¥çœ‹ Docker é•œåƒ</span></span><br><span class="line"></span><br><span class="line">docker images</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># å¯åŠ¨ Docker å®¹å™¨</span></span><br><span class="line"></span><br><span class="line">docker run -p 3000:3000 respository:tag</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># æŸ¥çœ‹ Docker å®¹å™¨</span></span><br><span class="line"></span><br><span class="line">docker ps</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># æµè§ˆå™¨è®¿é—®http://[LinuxOne Host IP]:3000ï¼Œå³å¯è®¿é—®åº”ç”¨</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># éšä¾¿é€‰æ‹©ä¸€ä¸ªcustomer IDæµ‹è¯•ï¼Œè‹¥æœ‰JSONæ ¼å¼çš„æ•°æ®è¿”å›ï¼Œåˆ™è¯´æ˜APIå¯ç”¨ã€‚å¦‚æœå‡ºé”™å¯è‡ªæ’æŸ¥ï¼Œå¯èƒ½æ˜¯IDå’ŒSecretä¸åŒ¹é…ï¼ˆå‰å¾€å¼€å‘è€…é¡µé¢çš„åº”ç”¨ç¨‹åºé¡µé¢ä¸­éªŒè¯IDå’ŒSecretï¼‰æˆ–è€…æµè§ˆå™¨ä¸æ”¯æŒç½‘é€Ÿè¾ƒæ…¢ä¹‹ç±»ï¼ˆæ›´æ¢æµè§ˆå™¨æ›´æ¢ç½‘ç»œæºï¼‰</span></span><br></pre></td></tr></table></figure><h3><span id="äº‘ç«¯éƒ¨ç½²é‡‘èå¾®æœåŠ¡ç†Ÿæ‚‰cloud-micro-servicesæ¨¡å¼">äº‘ç«¯éƒ¨ç½²é‡‘èå¾®æœåŠ¡<strong>ï¼ˆç†Ÿæ‚‰Cloud â†’ Micro-servicesæ¨¡å¼ï¼‰</strong></span></h3><figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment"># åˆ° ICP ä¸­éƒ¨ç½²å¥½çš„åº”ç”¨ï¼Œç‚¹å‡»å¯åŠ¨ï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨è·³è½¬åˆ°åˆ†é…çš„ç«¯å£</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># ä¹‹åå°±å’Œæ­¤å‰çš„å®éªŒä¸€æ ·äº†ï¼Œåªä¸è¿‡ä½ çš„åº”ç”¨æ˜¯éƒ¨ç½²åœ¨ ICP ä¸Šï¼Œç”± Kubernetes è‡ªåŠ¨ç»´æŠ¤å¯ç”¨çš„ Pod æ•°é‡</span></span><br></pre></td></tr></table></figure><h2><span id="æ³¨æ„äº‹é¡¹-notices"><strong>æ³¨æ„äº‹é¡¹ Notices</strong></span></h2><ul><li><strong>ç«¯å£æ˜ å°„</strong>å°±æ˜¯å°†ä¸»æœºçš„IPåœ°å€çš„ä¸€ä¸ªç«¯å£æ˜ å°„åˆ°å±€åŸŸç½‘ä¸­ä¸€å°æœºå™¨ï¼Œå½“ç”¨æˆ·è®¿é—®è¿™ä¸ªIPçš„è¿™ä¸ªç«¯å£æ—¶ï¼ŒæœåŠ¡å™¨è‡ªåŠ¨å°†è¯·æ±‚æ˜ å°„åˆ°å¯¹åº”å±€åŸŸç½‘åˆ†æœºã€‚</li><li><code>.pem</code>ä¸ºé€šç”¨è¯ä¹¦æ ¼å¼ï¼Œ<code>ppk</code>ä¸ºPuTTYä¸‹é¢çš„ä¸“æœ‰æ ¼å¼ã€‚ä¸¤è€…éƒ½ä¸º<strong>SSH Key Pairs</strong>æ ¼å¼ï¼Œå†…å«å…¬é’¥å’Œå¯†é’¥ã€‚</li><li><strong>é•œåƒæ˜¯ç±»ï¼Œå®¹å™¨æ˜¯å¯¹è±¡ï¼ŒæœåŠ¡æ˜¯å¯¹è±¡é›†ã€‚</strong><code>Dockerfile</code>ç”¨äºæ„å»ºé•œåƒï¼›<code>docker-compose.yml</code>ç”¨äºç»„ç»‡é•œåƒï¼›<code>docker run</code>ç”¨äºå¯åŠ¨å®¹å™¨ï¼›<code>docker-compose up</code>ç”¨äºå¯åŠ¨æœåŠ¡ã€‚</li><li>ä½¿ç”¨Dockeréœ€è¦éå¸¸æ³¨æ„<strong>å·çš„ç®¡ç†</strong>ï¼Œå¦‚æœé‡‡ç”¨é»˜è®¤åŒ¿åçš„æ–¹å¼è€Œä¸æŒ‡å®šå·çš„ä½ç½®ï¼ŒæœåŠ¡å™¨çš„å®¹é‡å¾ˆå¿«å°±ä¼šè¢«æ¯æ¬¡é‡æ–°ç”Ÿæˆçš„åŒä¸€é•œåƒç»™çˆ†æ‰ã€‚</li><li><strong>MEAN Stack</strong>åŒ…æ‹¬<code>MongoDBï¼ˆæ•°æ®åº“ï¼‰</code>ã€<code>Express.jsï¼ˆè·¯ç”±ï¼‰</code>ã€<code>AngularJSï¼ˆå‰ç«¯ï¼‰</code>å’Œ<code>Node.jsï¼ˆåç«¯ï¼‰</code>ã€‚æœ¬æ¬¡å®éªŒæœ€ç»ˆé¡¹ç›®å‹é“¾ ğŸ‘‰ <a href="https://github.com/LotteWong/SCUT_Online_Bank_Application" target="_blank" rel="noopener">SCUT Online Bank Application</a>ã€‚</li></ul><hr>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;åœ¨&lt;strong&gt;LinuxOne&lt;/strong&gt;ä¸Šåˆ©ç”¨&lt;strong&gt;Docker&lt;/strong&gt;éƒ¨ç½²åº”ç”¨ä¸æœåŠ¡ï¼Œä¸»è¦åˆ†ä¸ºä»¥ä¸‹&lt;strong&gt;äº”ä¸ªéƒ¨åˆ†&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç¯å¢ƒå‡†å¤‡ Environment&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;DockeråŸç† Theory&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Dockerä½¿ç”¨ Usage&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Dockerå®æˆ˜ Practice&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;æ³¨æ„äº‹é¡¹ Notices&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
    
    </summary>
    
    
      <category term="Cloud Computing" scheme="https://lottewong.github.io/categories/Cloud-Computing/"/>
    
    
      <category term="Docker" scheme="https://lottewong.github.io/tags/Docker/"/>
    
  </entry>
  
  <entry>
    <title>#Configuration# ä»é›¶åˆ°å£¹ï¼šGitHub Pages + Hexo = Blog</title>
    <link href="https://lottewong.github.io/2019/06/02/%E4%BB%8E%E9%9B%B6%E5%88%B0%E5%A3%B9%EF%BC%9AGitHub%20Pages%20+%20Hexo%20=%20Blog/"/>
    <id>https://lottewong.github.io/2019/06/02/%E4%BB%8E%E9%9B%B6%E5%88%B0%E5%A3%B9%EF%BC%9AGitHub%20Pages%20+%20Hexo%20=%20Blog/</id>
    <published>2019-06-01T23:00:21.000Z</published>
    <updated>2020-01-02T04:14:40.863Z</updated>
    
    <content type="html"><![CDATA[<p>åˆ©ç”¨<strong>GitHub Pages+Hexo</strong>æ‰“é€ ä¸€ä¸ªä¸ªäººåšå®¢ï¼Œä¸»è¦åˆ†ä¸ºä»¥ä¸‹<strong>äº”ä¸ªéƒ¨åˆ†</strong>ï¼š</p><ul><li>ç¯å¢ƒå‡†å¤‡ Environment</li><li><strong>æ–‡ä»¶è®¾ç½® Configuration</strong></li><li>ä¸ªæ€§é€‰é¡¹ Customization</li><li><strong>åšå®¢å†™ä½œ Writing</strong></li><li>åšå®¢å¤‡ä»½ Backup</li></ul><hr><a id="more"></a><h1><span id="ç›®å½•-table-of-contents"><strong>ç›®å½• Table of Contents</strong></span></h1><!-- toc --><ul><li><a href="#ç¯å¢ƒå‡†å¤‡-environment"><strong>ç¯å¢ƒå‡†å¤‡ Environment</strong></a><ul><li><a href="#å®‰è£…git-github">å®‰è£…Git + Github</a></li><li><a href="#å®‰è£…nodejs">å®‰è£…Node.js</a></li><li><a href="#å®‰è£…hexo">å®‰è£…Hexo</a></li></ul></li><li><a href="#æ–‡ä»¶è®¾ç½®-configuration"><strong>æ–‡ä»¶è®¾ç½® Configuration</strong></a><ul><li><a href="#æœ¬åœ°è¿è¡Œ">æœ¬åœ°è¿è¡Œ</a></li><li><a href="#è¿œç¨‹è¿è¡Œ">è¿œç¨‹è¿è¡Œ</a></li><li><a href="#åŸºæœ¬é…ç½®">åŸºæœ¬é…ç½®</a></li></ul></li><li><a href="#ä¸ªæ€§é€‰é¡¹-customization"><strong>ä¸ªæ€§é€‰é¡¹ Customization</strong></a><ul><li><a href="#åŸºæœ¬é…ç½®-1">åŸºæœ¬é…ç½®</a></li></ul></li><li><a href="#åšå®¢å†™ä½œ-writing"><strong>åšå®¢å†™ä½œ Writing</strong></a></li><li><a href="#åšå®¢å¤‡ä»½-backup"><strong>åšå®¢å¤‡ä»½ Backup</strong></a></li><li><a href="#å¾…åŠäº‹é¡¹-todos"><strong>å¾…åŠäº‹é¡¹ Todos</strong></a></li></ul><!-- tocstop --><hr><h2><span id="ç¯å¢ƒå‡†å¤‡-environment"><strong>ç¯å¢ƒå‡†å¤‡ Environment</strong></span></h2><h3><span id="å®‰è£…git-github">å®‰è£…Git + Github</span></h3><ul><li><p><strong>å®‰è£…Gitéƒ¨ç½²æ’ä»¶:</strong> </p><figure class="highlight powershell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure></li></ul><h3><span id="å®‰è£…nodejs">å®‰è£…Node.js</span></h3><ul><li><p><strong>å®‰è£…Node.js:</strong> </p><p><a href="https://link.zhihu.com/?target=https%3A//nodejs.org/en/download/" target="_blank" rel="noopener">Download | Node.js</a></p></li><li><p><strong>æ£€æŸ¥æ˜¯å¦å®‰è£…æˆåŠŸ:</strong></p><figure class="highlight powershell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ node -v</span><br><span class="line">$ npm -v</span><br></pre></td></tr></table></figure></li></ul><h3><span id="å®‰è£…hexo">å®‰è£…Hexo</span></h3><ul><li><p><strong>å®‰è£…Hexo:</strong></p><figure class="highlight powershell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install -g hexo-cli</span><br></pre></td></tr></table></figure></li><li><p><strong>æ£€æŸ¥æ˜¯å¦å®‰è£…æˆåŠŸ:</strong></p><figure class="highlight powershell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo -v</span><br></pre></td></tr></table></figure></li><li><p><strong>åˆå§‹åŒ–:</strong></p><figure class="highlight powershell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo init blog</span><br></pre></td></tr></table></figure></li></ul><h2><span id="æ–‡ä»¶è®¾ç½®-configuration"><strong>æ–‡ä»¶è®¾ç½® Configuration</strong></span></h2><h3><span id="æœ¬åœ°è¿è¡Œ">æœ¬åœ°è¿è¡Œ</span></h3><figure class="highlight powershell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ hexo clean <span class="hljs-comment"># åˆ é™¤ç¼“å­˜</span></span><br><span class="line">$ hexo g <span class="hljs-comment"># ç”ŸæˆHexoé¡µé¢</span></span><br><span class="line">$ hexo s <span class="hljs-comment"># æœ¬åœ°éƒ¨ç½²Hexoé¡µé¢</span></span><br></pre></td></tr></table></figure><h3><span id="è¿œç¨‹è¿è¡Œ">è¿œç¨‹è¿è¡Œ</span></h3><figure class="highlight powershell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ hexo clean <span class="hljs-comment"># åˆ é™¤ç¼“å­˜</span></span><br><span class="line">$ hexo g <span class="hljs-comment"># ç”ŸæˆHexoé¡µé¢</span></span><br><span class="line">$ hexo d <span class="hljs-comment"># è¿œç¨‹éƒ¨ç½²Hexoé¡µé¢</span></span><br></pre></td></tr></table></figure><h3><span id="åŸºæœ¬é…ç½®">åŸºæœ¬é…ç½®</span></h3><p>/_config.yml</p><figure class="highlight yaml hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment"># Hexo Configuration</span></span><br><span class="line"><span class="hljs-comment">## Docs: https://hexo.io/docs/configuration.html</span></span><br><span class="line"><span class="hljs-comment">## Source: https://github.com/hexojs/hexo/</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># Site</span></span><br><span class="line"><span class="hljs-attr">title:</span> <span class="hljs-string">LotteWong's</span> <span class="hljs-string">Blog</span> <span class="hljs-comment"># ä¸ªäººåšå®¢ä¸»æ ‡é¢˜</span></span><br><span class="line"><span class="hljs-attr">subtitle:</span> <span class="hljs-string">åœ¨ä»£ç ç¬¦å·è¡¨è±¡ä¸­é¿éš¾ã€‚</span> <span class="hljs-comment"># ä¸ªäººåšå®¢å‰¯æ ‡é¢˜</span></span><br><span class="line"><span class="hljs-attr">description:</span> <span class="hljs-comment"># æœç´¢å¼•æ“æè¿°è¯</span></span><br><span class="line"><span class="hljs-attr">keywords:</span> <span class="hljs-comment"># æœç´¢å¼•æ“å…³é”®è¯</span></span><br><span class="line"><span class="hljs-attr">author:</span> <span class="hljs-string">LotteWong</span> <span class="hljs-comment"># ä½œè€…åç§°</span></span><br><span class="line"><span class="hljs-attr">avatar:</span> <span class="hljs-string">./public/images/avatar.png</span> <span class="hljs-comment"># ä½œè€…å¤´åƒ</span></span><br><span class="line"><span class="hljs-attr">language:</span> <span class="hljs-string">en</span> <span class="hljs-comment"># ç½‘ç«™è¯­è¨€</span></span><br><span class="line"><span class="hljs-attr">timezone:</span> <span class="hljs-string">Asia/Shanghai</span> <span class="hljs-comment"># ç½‘ç«™æ—¶åŒº</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># URL</span></span><br><span class="line"><span class="hljs-comment">## If your site is put in a subdirectory, set url as 'http://yoursite.com/child' and root as '/child/'</span></span><br><span class="line"><span class="hljs-attr">url:</span> <span class="hljs-attr">https://lottewong.github.io</span></span><br><span class="line"><span class="hljs-attr">root:</span> <span class="hljs-string">/</span></span><br><span class="line"><span class="hljs-attr">permalink:</span> <span class="hljs-string">:year/:month/:day/:title/</span></span><br><span class="line"><span class="hljs-attr">permalink_defaults:</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># Directory</span></span><br><span class="line"><span class="hljs-attr">source_dir:</span> <span class="hljs-string">source</span> <span class="hljs-comment"># æ–‡ç« ç›®å½•</span></span><br><span class="line"><span class="hljs-attr">public_dir:</span> <span class="hljs-string">public</span> <span class="hljs-comment"># ç´ æç›®å½•</span></span><br><span class="line"><span class="hljs-attr">tag_dir:</span> <span class="hljs-string">tags</span> <span class="hljs-comment"># æ ‡ç­¾ç›®å½•</span></span><br><span class="line"><span class="hljs-attr">archive_dir:</span> <span class="hljs-string">archives</span> <span class="hljs-comment"># å½’æ¡£ç›®å½•</span></span><br><span class="line"><span class="hljs-attr">category_dir:</span> <span class="hljs-string">categories</span> <span class="hljs-comment"># åˆ†ç±»ç›®å½•</span></span><br><span class="line"><span class="hljs-attr">code_dir:</span> <span class="hljs-string">downloads/code</span></span><br><span class="line"><span class="hljs-attr">i18n_dir:</span> <span class="hljs-string">:lang</span></span><br><span class="line"><span class="hljs-attr">skip_render:</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># Writing</span></span><br><span class="line"><span class="hljs-attr">new_post_name:</span> <span class="hljs-string">:title.md</span> <span class="hljs-comment"># File name of new posts</span></span><br><span class="line"><span class="hljs-attr">default_layout:</span> <span class="hljs-string">post</span></span><br><span class="line"><span class="hljs-attr">titlecase:</span> <span class="hljs-literal">false</span> <span class="hljs-comment"># Transform title into titlecase</span></span><br><span class="line"><span class="hljs-attr">external_link:</span> <span class="hljs-literal">true</span> <span class="hljs-comment"># Open external links in new tab</span></span><br><span class="line"><span class="hljs-attr">filename_case:</span> <span class="hljs-number">0</span></span><br><span class="line"><span class="hljs-attr">render_drafts:</span> <span class="hljs-literal">false</span></span><br><span class="line"><span class="hljs-attr">post_asset_folder:</span> <span class="hljs-literal">false</span></span><br><span class="line"><span class="hljs-attr">relative_link:</span> <span class="hljs-literal">false</span></span><br><span class="line"><span class="hljs-attr">future:</span> <span class="hljs-literal">true</span></span><br><span class="line"><span class="hljs-attr">highlight:</span></span><br><span class="line"><span class="hljs-attr">  enable:</span> <span class="hljs-literal">true</span></span><br><span class="line"><span class="hljs-attr">  line_number:</span> <span class="hljs-literal">true</span></span><br><span class="line"><span class="hljs-attr">  auto_detect:</span> <span class="hljs-literal">false</span></span><br><span class="line"><span class="hljs-attr">  tab_replace:</span></span><br><span class="line">  </span><br><span class="line"><span class="hljs-comment"># Home page setting</span></span><br><span class="line"><span class="hljs-comment"># path: Root path for your blogs index page. (default = '')</span></span><br><span class="line"><span class="hljs-comment"># per_page: Posts displayed per page. (0 = disable pagination)</span></span><br><span class="line"><span class="hljs-comment"># order_by: Posts order. (Order by date descending by default)</span></span><br><span class="line"><span class="hljs-attr">index_generator:</span></span><br><span class="line"><span class="hljs-attr">  path:</span> <span class="hljs-string">''</span></span><br><span class="line"><span class="hljs-attr">  per_page:</span> <span class="hljs-number">10</span></span><br><span class="line"><span class="hljs-attr">  order_by:</span> <span class="hljs-bullet">-date</span></span><br><span class="line">  </span><br><span class="line"><span class="hljs-comment"># Category &amp; Tag</span></span><br><span class="line"><span class="hljs-attr">default_category:</span> <span class="hljs-string">uncategorized</span></span><br><span class="line"><span class="hljs-attr">category_map:</span></span><br><span class="line"><span class="hljs-attr">tag_map:</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># Date / Time format</span></span><br><span class="line"><span class="hljs-comment">## Hexo uses Moment.js to parse and display date</span></span><br><span class="line"><span class="hljs-comment">## You can customize the date format as defined in</span></span><br><span class="line"><span class="hljs-comment">## http://momentjs.com/docs/#/displaying/format/</span></span><br><span class="line"><span class="hljs-attr">date_format:</span> <span class="hljs-string">YYYY-MM-DD</span></span><br><span class="line"><span class="hljs-attr">time_format:</span> <span class="hljs-attr">HH:mm:ss</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># Pagination</span></span><br><span class="line"><span class="hljs-comment">## Set per_page to 0 to disable pagination</span></span><br><span class="line"><span class="hljs-attr">per_page:</span> <span class="hljs-number">10</span></span><br><span class="line"><span class="hljs-attr">pagination_dir:</span> <span class="hljs-string">page</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># Extensions</span></span><br><span class="line"><span class="hljs-comment">## Plugins: https://hexo.io/plugins/</span></span><br><span class="line"><span class="hljs-comment">## Themes: https://hexo.io/themes/</span></span><br><span class="line"><span class="hljs-attr">plugins:</span> <span class="hljs-comment"># è®¾ç½®ä¸ªäººåšå®¢æ’ä»¶</span></span><br><span class="line"><span class="hljs-attr">theme:</span> <span class="hljs-string">icarus</span> <span class="hljs-comment"># è®¾ç½®ä¸ªäººåšå®¢ä¸»é¢˜</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># Deployment</span></span><br><span class="line"><span class="hljs-comment">## Docs: https://hexo.io/docs/deployment.html</span></span><br><span class="line"><span class="hljs-attr">deploy:</span> </span><br><span class="line"><span class="hljs-attr">  type:</span> <span class="hljs-string">git</span> <span class="hljs-comment"># éƒ¨ç½²ç±»å‹</span></span><br><span class="line"><span class="hljs-attr">  repo:</span> <span class="hljs-string">git@github.com:LotteWong/lottewong.github.io.git</span> <span class="hljs-comment"># éƒ¨ç½²ä»“åº“</span></span><br><span class="line"><span class="hljs-attr">  branch:</span> <span class="hljs-string">master</span> <span class="hljs-comment"># éƒ¨ç½²åˆ†æ”¯</span></span><br></pre></td></tr></table></figure><h2><span id="ä¸ªæ€§é€‰é¡¹-customization"><strong>ä¸ªæ€§é€‰é¡¹ Customization</strong></span></h2><h3><span id="åŸºæœ¬é…ç½®">åŸºæœ¬é…ç½®</span></h3><p>/themes/icarus/_config.yml</p><figure class="highlight yaml hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment"># Version of the Icarus theme that is currently used</span></span><br><span class="line"><span class="hljs-attr">version:</span> <span class="hljs-number">2.3</span><span class="hljs-number">.0</span></span><br><span class="line"><span class="hljs-comment"># Path or URL to the website's icon</span></span><br><span class="line"><span class="hljs-attr">favicon:</span> <span class="hljs-string">/images/favicon.ico</span></span><br><span class="line"><span class="hljs-comment"># Path or URL to RSS atom.xml</span></span><br><span class="line"><span class="hljs-attr">rss:</span> <span class="hljs-string">./atom.xml</span></span><br><span class="line"><span class="hljs-comment"># Path or URL to the website's logo to be shown on the left of the navigation bar or footer</span></span><br><span class="line"><span class="hljs-attr">logo:</span> <span class="hljs-string">/images/logo.png</span></span><br><span class="line"><span class="hljs-comment"># Open Graph metadata</span></span><br><span class="line"><span class="hljs-comment"># https://hexo.io/docs/helpers.html#open-graph</span></span><br><span class="line"><span class="hljs-attr">open_graph:</span></span><br><span class="line">    <span class="hljs-comment"># Facebook App ID</span></span><br><span class="line">    <span class="hljs-comment"># fb_app_id: </span></span><br><span class="line">    <span class="hljs-comment"># Facebook Admin ID</span></span><br><span class="line">    <span class="hljs-comment"># fb_admins: </span></span><br><span class="line">    <span class="hljs-comment"># Twitter ID</span></span><br><span class="line">    <span class="hljs-comment"># twitter_id:</span></span><br><span class="line">    <span class="hljs-comment"># Twitter site</span></span><br><span class="line">    <span class="hljs-comment"># twitter_site: </span></span><br><span class="line">    <span class="hljs-comment"># Google+ profile link</span></span><br><span class="line">    <span class="hljs-comment"># google_plus: </span></span><br><span class="line"><span class="hljs-comment"># Navigation bar link settings é¡¶éƒ¨æ è®¾ç½®</span></span><br><span class="line"><span class="hljs-attr">navbar:</span></span><br><span class="line">    <span class="hljs-comment"># Navigation bar menu links</span></span><br><span class="line"><span class="hljs-attr">    menu:</span></span><br><span class="line"><span class="hljs-attr">        Home:</span> <span class="hljs-string">/</span></span><br><span class="line"><span class="hljs-attr">        Archives:</span> <span class="hljs-string">/archives</span></span><br><span class="line"><span class="hljs-attr">        Categories:</span> <span class="hljs-string">/categories</span></span><br><span class="line"><span class="hljs-attr">        Tags:</span> <span class="hljs-string">/tags</span></span><br><span class="line"><span class="hljs-attr">        About:</span> <span class="hljs-string">/about</span></span><br><span class="line">    <span class="hljs-comment"># Navigation bar links to be shown on the right</span></span><br><span class="line"><span class="hljs-attr">    links:</span></span><br><span class="line"><span class="hljs-attr">        Email:</span></span><br><span class="line"><span class="hljs-attr">            icon:</span> <span class="hljs-string">far</span> <span class="hljs-string">fa-envelope-open</span></span><br><span class="line"><span class="hljs-attr">            url:</span> <span class="hljs-attr">mailto:lottewong21@gmail.com</span></span><br><span class="line"><span class="hljs-comment"># Footer section link settings é¡µå°¾æ è®¾ç½®</span></span><br><span class="line"><span class="hljs-attr">footer:</span></span><br><span class="line">    <span class="hljs-comment"># Links to be shown on the right of the footer section</span></span><br><span class="line"><span class="hljs-attr">    links:</span></span><br><span class="line"><span class="hljs-attr">        GitHub:</span></span><br><span class="line"><span class="hljs-attr">            icon:</span> <span class="hljs-string">fab</span> <span class="hljs-string">fa-github</span></span><br><span class="line"><span class="hljs-attr">            url:</span> <span class="hljs-string">'https://github.com/LotteWong'</span></span><br><span class="line"><span class="hljs-attr">        RSS:</span></span><br><span class="line"><span class="hljs-attr">            icon:</span> <span class="hljs-string">fas</span> <span class="hljs-string">fa-rss</span></span><br><span class="line"><span class="hljs-attr">            url:</span> <span class="hljs-string">/atom.xml</span></span><br><span class="line"><span class="hljs-comment"># Sidebar settings. ä¾§è¾¹æ è®¾ç½®</span></span><br><span class="line"><span class="hljs-comment"># Please be noted that a sidebar is only visible when it has at least one widget</span></span><br><span class="line"><span class="hljs-attr">sidebar:</span></span><br><span class="line">    <span class="hljs-comment"># left sidebar settings</span></span><br><span class="line"><span class="hljs-attr">    left:</span></span><br><span class="line">        <span class="hljs-comment"># Whether the left sidebar is sticky when page scrolls</span></span><br><span class="line">        <span class="hljs-comment"># https://ppoffice.github.io/hexo-theme-icarus/Configuration/Theme/make-a-sidebar-sticky-when-page-scrolls/</span></span><br><span class="line"><span class="hljs-attr">        sticky:</span> <span class="hljs-literal">false</span></span><br><span class="line">    <span class="hljs-comment"># right sidebar settings</span></span><br><span class="line"><span class="hljs-attr">    right:</span></span><br><span class="line">        <span class="hljs-comment"># Whether the right sidebar is sticky when page scrolls</span></span><br><span class="line">        <span class="hljs-comment"># https://ppoffice.github.io/hexo-theme-icarus/Configuration/Theme/make-a-sidebar-sticky-when-page-scrolls/</span></span><br><span class="line"><span class="hljs-attr">        sticky:</span> <span class="hljs-literal">false</span></span><br><span class="line"><span class="hljs-comment"># Sidebar widget settings ä¾§è¾¹æ è®¾ç½®</span></span><br><span class="line"><span class="hljs-comment"># https://ppoffice.github.io/hexo-theme-icarus/categories/Widgets/</span></span><br><span class="line"><span class="hljs-attr">widgets:</span></span><br><span class="line"><span class="hljs-bullet">    -</span></span><br><span class="line">        <span class="hljs-comment"># Widget name</span></span><br><span class="line"><span class="hljs-attr">        type:</span> <span class="hljs-string">profile</span></span><br><span class="line">        <span class="hljs-comment"># Where should the widget be placed, left or right</span></span><br><span class="line"><span class="hljs-attr">        position:</span> <span class="hljs-string">left</span></span><br><span class="line">        <span class="hljs-comment"># Author name to be shown in the profile widget</span></span><br><span class="line"><span class="hljs-attr">        author:</span> <span class="hljs-string">LotteWong</span></span><br><span class="line">        <span class="hljs-comment"># Title of the author to be shown in the profile widget</span></span><br><span class="line"><span class="hljs-attr">        author_title:</span> <span class="hljs-string">SCUT,</span> <span class="hljs-string">Undergraduate</span></span><br><span class="line">        <span class="hljs-comment"># Author's current location to be shown in the profile widget</span></span><br><span class="line"><span class="hljs-attr">        location:</span> <span class="hljs-string">Guangzhou,</span> <span class="hljs-string">China</span></span><br><span class="line">        <span class="hljs-comment"># Path or URL to the avatar to be shown in the profile widget</span></span><br><span class="line"><span class="hljs-attr">        avatar:</span> </span><br><span class="line">        <span class="hljs-comment"># Email address for the Gravatar to be shown in the profile widget</span></span><br><span class="line"><span class="hljs-attr">        gravatar:</span> </span><br><span class="line">        <span class="hljs-comment"># Whether to show avatar image rounded or square</span></span><br><span class="line"><span class="hljs-attr">        avatar_rounded:</span> <span class="hljs-literal">false</span></span><br><span class="line">        <span class="hljs-comment"># Path or URL for the follow button</span></span><br><span class="line"><span class="hljs-attr">        follow_link:</span> <span class="hljs-string">'https://github.com/LotteWong'</span></span><br><span class="line">        <span class="hljs-comment"># Links to be shown on the bottom of the profile widget</span></span><br><span class="line"><span class="hljs-attr">        social_links:</span></span><br><span class="line"><span class="hljs-attr">            Organization:</span></span><br><span class="line"><span class="hljs-attr">                icon:</span> <span class="hljs-string">fas</span> <span class="hljs-string">fa-sitemap</span></span><br><span class="line"><span class="hljs-attr">                url:</span> <span class="hljs-string">'https://github.com/SCUTMSC'</span></span><br><span class="line"><span class="hljs-attr">            Project:</span></span><br><span class="line"><span class="hljs-attr">                icon:</span> <span class="hljs-string">fas</span> <span class="hljs-string">fa-project-diagram</span></span><br><span class="line"><span class="hljs-attr">                url:</span> <span class="hljs-string">'https://github.com/scutse-man-month-myth/InkYear'</span></span><br><span class="line"><span class="hljs-bullet">    -</span></span><br><span class="line">        <span class="hljs-comment"># Widget name</span></span><br><span class="line"><span class="hljs-attr">        type:</span> <span class="hljs-string">toc</span></span><br><span class="line">        <span class="hljs-comment"># Where should the widget be placed, left or right</span></span><br><span class="line"><span class="hljs-attr">        position:</span> <span class="hljs-string">left</span></span><br><span class="line"><span class="hljs-bullet">    -</span></span><br><span class="line">        <span class="hljs-comment"># Widget name</span></span><br><span class="line"><span class="hljs-attr">        type:</span> <span class="hljs-string">links</span></span><br><span class="line">        <span class="hljs-comment"># Where should the widget be placed, left or right</span></span><br><span class="line"><span class="hljs-attr">        position:</span> <span class="hljs-string">left</span></span><br><span class="line">        <span class="hljs-comment"># Links to be shown in the links widget</span></span><br><span class="line"><span class="hljs-attr">        links:</span></span><br><span class="line"><span class="hljs-attr">            Bokjan:</span> <span class="hljs-string">'https://bokjan.com/'</span></span><br><span class="line"><span class="hljs-attr">            Kingsley:</span> <span class="hljs-string">'https://kingsleyxie.cn/'</span></span><br><span class="line"><span class="hljs-attr">            sticnarf:</span> <span class="hljs-string">'https://sticnarf.me/'</span></span><br><span class="line"><span class="hljs-attr">            ahalims:</span> <span class="hljs-string">'https://ahalims.github.io/'</span></span><br><span class="line"><span class="hljs-attr">            xcw:</span> <span class="hljs-string">'https://yifanyu123.github.io/'</span></span><br><span class="line"><span class="hljs-bullet">    -</span></span><br><span class="line">        <span class="hljs-comment"># Widget name</span></span><br><span class="line"><span class="hljs-attr">        type:</span> <span class="hljs-string">archive</span></span><br><span class="line">        <span class="hljs-comment"># Where should the widget be placed, left or right</span></span><br><span class="line"><span class="hljs-attr">        position:</span> <span class="hljs-string">left</span></span><br><span class="line"><span class="hljs-bullet">    -</span></span><br><span class="line">        <span class="hljs-comment"># Widget name</span></span><br><span class="line"><span class="hljs-attr">        type:</span> <span class="hljs-string">tagcloud</span></span><br><span class="line">        <span class="hljs-comment"># Where should the widget be placed, left or right</span></span><br><span class="line"><span class="hljs-attr">        position:</span> <span class="hljs-string">left</span></span><br><span class="line"><span class="hljs-bullet">    -</span></span><br><span class="line">        <span class="hljs-comment"># Widget name</span></span><br><span class="line"><span class="hljs-attr">        type:</span> <span class="hljs-string">recent_posts</span></span><br><span class="line">        <span class="hljs-comment"># Where should the widget be placed, left or right</span></span><br><span class="line"><span class="hljs-attr">        position:</span> <span class="hljs-string">right</span></span><br><span class="line"><span class="hljs-bullet">    -</span></span><br><span class="line">        <span class="hljs-comment"># Widget name</span></span><br><span class="line"><span class="hljs-attr">        type:</span> <span class="hljs-string">category</span></span><br><span class="line">        <span class="hljs-comment"># Where should the widget be placed, left or right</span></span><br><span class="line"><span class="hljs-attr">        position:</span> <span class="hljs-string">right</span></span><br><span class="line"><span class="hljs-bullet">    -</span></span><br><span class="line">        <span class="hljs-comment"># Widget name</span></span><br><span class="line"><span class="hljs-attr">        type:</span> <span class="hljs-string">tag</span></span><br><span class="line">        <span class="hljs-comment"># Where should the widget be placed, left or right</span></span><br><span class="line"><span class="hljs-attr">        position:</span> <span class="hljs-string">right</span></span><br><span class="line"><span class="hljs-comment"># Article display settings</span></span><br><span class="line"><span class="hljs-attr">article:</span></span><br><span class="line"><span class="hljs-attr">    highlight:</span> <span class="hljs-string">atom-one-light</span></span><br><span class="line">        <span class="hljs-comment"># Code highlight theme</span></span><br><span class="line">        <span class="hljs-comment"># https://github.com/highlightjs/highlight.js/tree/master/src/styles</span></span><br><span class="line">        <span class="hljs-comment"># theme: atom-one-light</span></span><br><span class="line">        <span class="hljs-comment"># Show code copying button</span></span><br><span class="line">        <span class="hljs-comment"># clipboard: true</span></span><br><span class="line">        <span class="hljs-comment"># Default folding status of the code blocks. Can be "", "folded", "unfolded"</span></span><br><span class="line">        <span class="hljs-comment"># fold: unfolded</span></span><br><span class="line">    <span class="hljs-comment"># Whether to show article thumbnail images</span></span><br><span class="line"><span class="hljs-attr">    thumbnail:</span> <span class="hljs-literal">true</span></span><br><span class="line">    <span class="hljs-comment"># Whether to show estimate article reading time</span></span><br><span class="line"><span class="hljs-attr">    readtime:</span> <span class="hljs-literal">true</span></span><br><span class="line"><span class="hljs-comment"># Search plugin settings æœç´¢åŠŸèƒ½æ’ä»¶</span></span><br><span class="line"><span class="hljs-comment"># https://ppoffice.github.io/hexo-theme-icarus/categories/Plugins/Search</span></span><br><span class="line"><span class="hljs-attr">search:</span></span><br><span class="line">    <span class="hljs-comment"># Name of the search plugin</span></span><br><span class="line"><span class="hljs-attr">    type:</span> <span class="hljs-string">insight</span></span><br><span class="line"><span class="hljs-comment"># Comment plugin settings è¯„è®ºåŠŸèƒ½æ’ä»¶</span></span><br><span class="line"><span class="hljs-comment"># https://ppoffice.github.io/hexo-theme-icarus/categories/Plugins/Comment</span></span><br><span class="line"><span class="hljs-attr">comment:</span></span><br><span class="line">    <span class="hljs-comment"># Name of the comment plugin</span></span><br><span class="line"><span class="hljs-attr">    type:</span> </span><br><span class="line"><span class="hljs-comment"># Donation entries æ‰“èµåŠŸèƒ½æ’ä»¶</span></span><br><span class="line"><span class="hljs-comment"># https://ppoffice.github.io/hexo-theme-icarus/categories/Donation/</span></span><br><span class="line"><span class="hljs-attr">donate:</span></span><br><span class="line">    <span class="hljs-comment"># -</span></span><br><span class="line">        <span class="hljs-comment"># Donation entry name</span></span><br><span class="line">        <span class="hljs-comment"># type: alipay</span></span><br><span class="line">        <span class="hljs-comment"># Qrcode image URL</span></span><br><span class="line">        <span class="hljs-comment"># qrcode: '/images/alipay.png'</span></span><br><span class="line">    <span class="hljs-comment"># -</span></span><br><span class="line">        <span class="hljs-comment"># Donation entry name</span></span><br><span class="line">        <span class="hljs-comment"># type: wechat</span></span><br><span class="line">        <span class="hljs-comment"># Qrcode image URL</span></span><br><span class="line">        <span class="hljs-comment"># qrcode: '/images/wechat.png'</span></span><br><span class="line">    <span class="hljs-comment"># -</span></span><br><span class="line">        <span class="hljs-comment"># Donation entry name</span></span><br><span class="line">        <span class="hljs-comment"># type: paypal</span></span><br><span class="line">        <span class="hljs-comment"># Paypal business ID or email address</span></span><br><span class="line">        <span class="hljs-comment"># business: 'SuperGsama@outlook.com'</span></span><br><span class="line">        <span class="hljs-comment"># Currency code</span></span><br><span class="line">        <span class="hljs-comment"># currency_code: USD</span></span><br><span class="line"><span class="hljs-comment"># Share plugin settings åˆ†äº«åŠŸèƒ½æ’ä»¶</span></span><br><span class="line"><span class="hljs-comment"># https://ppoffice.github.io/hexo-theme-icarus/categories/Plugins/Share</span></span><br><span class="line"><span class="hljs-attr">share:</span></span><br><span class="line">    <span class="hljs-comment"># Share plugin name</span></span><br><span class="line"><span class="hljs-attr">    type:</span> </span><br><span class="line"><span class="hljs-comment"># Other plugin settings</span></span><br><span class="line"><span class="hljs-attr">plugins:</span></span><br><span class="line">    <span class="hljs-comment"># Enable page animations</span></span><br><span class="line"><span class="hljs-attr">    animejs:</span> <span class="hljs-literal">true</span></span><br><span class="line">    <span class="hljs-comment"># Enable the lightGallery and Justified Gallery plugins</span></span><br><span class="line">    <span class="hljs-comment"># https://ppoffice.github.io/hexo-theme-icarus/Plugins/General/gallery-plugin/</span></span><br><span class="line"><span class="hljs-attr">    gallery:</span> <span class="hljs-literal">true</span></span><br><span class="line">    <span class="hljs-comment"># Enable the Outdated Browser plugin</span></span><br><span class="line">    <span class="hljs-comment"># http://outdatedbrowser.com/</span></span><br><span class="line"><span class="hljs-attr">    outdated-browser:</span> <span class="hljs-literal">true</span></span><br><span class="line">    <span class="hljs-comment"># Enable the MathJax plugin</span></span><br><span class="line">    <span class="hljs-comment"># https://ppoffice.github.io/hexo-theme-icarus/Plugins/General/mathjax-plugin/</span></span><br><span class="line"><span class="hljs-attr">    mathjax:</span> <span class="hljs-literal">true</span></span><br><span class="line">    <span class="hljs-comment"># Show the back to top button on mobile devices</span></span><br><span class="line"><span class="hljs-attr">    back-to-top:</span> <span class="hljs-literal">true</span></span><br><span class="line">    <span class="hljs-comment"># Google Analytics plugin settings</span></span><br><span class="line">    <span class="hljs-comment"># https://ppoffice.github.io/hexo-theme-icarus/Plugins/General/site-analytics-plugin/#Google-Analytics</span></span><br><span class="line"><span class="hljs-attr">    google-analytics:</span></span><br><span class="line">        <span class="hljs-comment"># Google Analytics tracking id</span></span><br><span class="line"><span class="hljs-attr">        tracking_id:</span> </span><br><span class="line">    <span class="hljs-comment"># Baidu Analytics plugin settings</span></span><br><span class="line">    <span class="hljs-comment"># https://ppoffice.github.io/hexo-theme-icarus/Plugins/General/site-analytics-plugin/#Baidu-Analytics</span></span><br><span class="line"><span class="hljs-attr">    baidu-analytics:</span></span><br><span class="line">        <span class="hljs-comment"># Baidu Analytics tracking id</span></span><br><span class="line"><span class="hljs-attr">        tracking_id:</span> </span><br><span class="line">    <span class="hljs-comment"># Hotjar user feedback plugin</span></span><br><span class="line">    <span class="hljs-comment"># https://ppoffice.github.io/hexo-theme-icarus/Plugins/General/site-analytics-plugin/#Hotjar</span></span><br><span class="line"><span class="hljs-attr">    hotjar:</span></span><br><span class="line">        <span class="hljs-comment"># Hotjar site id</span></span><br><span class="line"><span class="hljs-attr">        site_id:</span> </span><br><span class="line">    <span class="hljs-comment"># Show a loading progress bar at top of the page</span></span><br><span class="line"><span class="hljs-attr">    progressbar:</span> <span class="hljs-literal">true</span></span><br><span class="line">    <span class="hljs-comment"># Show the copy button in the highlighted code area</span></span><br><span class="line"><span class="hljs-attr">    clipboard:</span> <span class="hljs-literal">true</span></span><br><span class="line">    <span class="hljs-comment"># BuSuanZi site/page view counter</span></span><br><span class="line">    <span class="hljs-comment"># https://busuanzi.ibruce.info</span></span><br><span class="line"><span class="hljs-attr">    busuanzi:</span> <span class="hljs-literal">true</span></span><br><span class="line"><span class="hljs-comment"># CDN provider settings</span></span><br><span class="line"><span class="hljs-comment"># https://ppoffice.github.io/hexo-theme-icarus/Configuration/Theme/speed-up-your-site-with-custom-cdn/</span></span><br><span class="line"><span class="hljs-attr">providers:</span></span><br><span class="line">    <span class="hljs-comment"># Name or URL of the JavaScript and/or stylesheet CDN provider</span></span><br><span class="line"><span class="hljs-attr">    cdn:</span> <span class="hljs-string">jsdelivr</span></span><br><span class="line">    <span class="hljs-comment"># Name or URL of the webfont CDN provider</span></span><br><span class="line"><span class="hljs-attr">    fontcdn:</span> <span class="hljs-string">google</span></span><br><span class="line">    <span class="hljs-comment"># Name or URL of the webfont Icon CDN provider</span></span><br><span class="line"><span class="hljs-attr">    iconcdn:</span> <span class="hljs-string">fontawesome</span></span><br></pre></td></tr></table></figure><h2><span id="åšå®¢å†™ä½œ-writing"><strong>åšå®¢å†™ä½œ Writing</strong></span></h2><ul><li><p><strong>é»˜è®¤</strong></p><figure class="highlight powershell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="hljs-string">"blog title"</span></span><br></pre></td></tr></table></figure></li><li><p><strong>è‡ªå®šä¹‰</strong></p><figure class="highlight yml hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-attr">title:</span> <span class="hljs-string">&#123;&#123;</span> <span class="hljs-string">blog</span> <span class="hljs-string">title</span> <span class="hljs-string">&#125;&#125;</span></span><br><span class="line"><span class="hljs-attr">categories:</span> <span class="hljs-string">&#123;&#123;</span> <span class="hljs-string">blog</span> <span class="hljs-string">category</span> <span class="hljs-string">&#125;&#125;</span></span><br><span class="line"><span class="hljs-attr">tags:</span></span><br><span class="line"><span class="hljs-bullet">-</span> <span class="hljs-string">&#123;&#123;</span> <span class="hljs-string">blog</span> <span class="hljs-string">tag</span> <span class="hljs-string">&#125;&#125;</span></span><br><span class="line"><span class="hljs-attr">date:</span> <span class="hljs-string">&#123;&#123;</span> <span class="hljs-string">YYYY-MM-DD</span> <span class="hljs-attr">HH:MM:SS</span> <span class="hljs-string">&#125;&#125;</span></span><br><span class="line"><span class="hljs-attr">thumbnail:</span> <span class="hljs-string">&#123;&#123;</span> <span class="hljs-string">blog</span> <span class="hljs-string">thumbnail</span> <span class="hljs-string">&#125;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-string">&#123;&#123;</span> <span class="hljs-string">Abstract</span> <span class="hljs-string">&#125;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-meta">---</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-string">&lt;!--</span> <span class="hljs-string">more</span> <span class="hljs-bullet">--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-string">&lt;!--</span> <span class="hljs-string">toc</span> <span class="hljs-bullet">--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-meta">---</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-string">&#123;&#123;</span> <span class="hljs-string">Content</span> <span class="hljs-string">&#125;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-meta">---</span></span><br></pre></td></tr></table></figure></li></ul><h2><span id="åšå®¢å¤‡ä»½-backup"><strong>åšå®¢å¤‡ä»½ Backup</strong></span></h2><ul><li><p><strong>Hexoå¤‡ä»½:</strong> </p><figure class="highlight powershell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment"># master branch</span></span><br><span class="line">$ hexo d</span><br></pre></td></tr></table></figure></li><li><p><strong>Codeå¤‡ä»½:</strong> </p><figure class="highlight powershell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment"># dev branch</span></span><br><span class="line">$ git checkout dev</span><br><span class="line">$ git add --all</span><br><span class="line">$ git commit -m <span class="hljs-string">"new blog"</span></span><br><span class="line">$ git push origin dev</span><br></pre></td></tr></table></figure></li></ul><h2><span id="å¾…åŠäº‹é¡¹-todos"><strong>å¾…åŠäº‹é¡¹ Todos</strong></span></h2><ul><li>å¯¹åº”å›¾æ ‡</li><li>æ›´å¤šæ’ä»¶</li><li>ç»‘å®šåŸŸå</li><li>æ›´æ–°å¤–é“¾</li></ul><hr>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;åˆ©ç”¨&lt;strong&gt;GitHub Pages+Hexo&lt;/strong&gt;æ‰“é€ ä¸€ä¸ªä¸ªäººåšå®¢ï¼Œä¸»è¦åˆ†ä¸ºä»¥ä¸‹&lt;strong&gt;äº”ä¸ªéƒ¨åˆ†&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç¯å¢ƒå‡†å¤‡ Environment&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ–‡ä»¶è®¾ç½® Configuration&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;ä¸ªæ€§é€‰é¡¹ Customization&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åšå®¢å†™ä½œ Writing&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;åšå®¢å¤‡ä»½ Backup&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
    
    </summary>
    
    
      <category term="Configuration" scheme="https://lottewong.github.io/categories/Configuration/"/>
    
    
      <category term="GitHub Pages" scheme="https://lottewong.github.io/tags/GitHub-Pages/"/>
    
      <category term="Hexo" scheme="https://lottewong.github.io/tags/Hexo/"/>
    
  </entry>
  
</feed>
